/*! For license information please see engine.bundle.js.LICENSE.txt */
module.exports=(()=>{var e={2830:(e,t,r)=>{const n=new(r(4292).LoggerVoid)({}),i=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),s=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),a=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),o=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),u=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),c=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),l=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),p=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),h=new(r(1709).BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),d=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:s}),f=(new(r(4357).ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorSymmetricHash",bus:s}),new(r(3836).ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorNestedLoop",bus:s}),new(r(598).ActorRdfResolveQuadPatternRdfJsSource)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-rdfjs.json#myRdfRdfJsSourceQuadPatternResolver",bus:a}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:a})),y=new(r(4437).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:o}),m=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:u}),g=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:c}),_=new(r(6479).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode251",bus:c}),b=new(r(6479).MediatorCombineUnion)({field:"mediaTypeFormats",name:"_:b1bnode251",bus:c}),v=new(r(4437).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:l}),w=new(r(7930).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:p}),O=new(r(9114).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:h}),S=(new(r(3833).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:h}),new(r(963).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:h}),new(r(6474).ActorRdfJoinMultiSmallest)({mediatorJoin:d,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:s}),new(r(8010).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:f,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:h}),new(r(6875).ActorInitSparql)({mediatorOptimizeQueryOperation:y,mediatorQueryOperation:O,mediatorSparqlParse:m,mediatorSparqlSerialize:g,mediatorSparqlSerializeMediaTypeCombiner:_,mediatorSparqlSerializeMediaTypeFormatCombiner:b,mediatorContextPreprocess:v,mediatorHttpInvalidate:w,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpAuth:"@comunica/bus-http:auth"},name:"urn:comunica:sparqlinit",bus:i}));new(r(1009).ActorQueryOperationAsk)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:h}),new(r(2885).ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:h}),new(r(2299).ActorQueryOperationSlice)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:h}),new(r(8640).ActorQueryOperationBgpSingle)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:h}),new(r(9844).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:h}),new(r(1825).ActorQueryOperationConstruct)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:h}),new(r(4111).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:h}),new(r(836).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:h}),new(r(776).ActorQueryOperationExtend)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:h}),new(r(6790).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:100,mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:h}),new(r(9190).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:h}),new(r(8642).ActorQueryOperationFromQuad)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:h}),new(r(8834).ActorQueryOperationGroup)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:h}),new(r(1318).ActorQueryOperationJoin)({mediatorJoin:d,mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:h}),new(r(1021).ActorQueryOperationLeftJoinLeftDeep)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:h}),new(r(1293).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:h}),new(r(651).ActorQueryOperationProject)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:h}),new(r(5766).ActorQueryOperationUnion)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:h}),new(r(5609).ActorQueryOperationMinus)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:h}),new(r(540).ActorQueryOperationPathAlt)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:h}),new(r(9986).ActorQueryOperationPathInv)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:h}),new(r(7667).ActorQueryOperationPathLink)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:h}),new(r(8030).ActorQueryOperationPathNps)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:h}),new(r(1828).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:h}),new(r(2687).ActorQueryOperationPathSeq)({mediatorJoin:d,mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:h}),new(r(5665).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:h}),new(r(7521).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:h}),e.exports=S},3828:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(601),t),i(r(1514),t)},601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBindingsHash=void 0;const n=r(7213),i=r(1514);class s extends n.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!i.AbstractFilterHash.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!i.AbstractFilterHash.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t}));return{type:"bindings",bindingsStream:r.bindingsStream.filter(this.newHashFilter(this.hashAlgorithm,this.digestAlgorithm)),metadata:r.metadata,variables:r.variables,canContainUndefs:r.canContainUndefs}}}t.AbstractBindingsHash=s},1514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractFilterHash=void 0;const n=r(6417),i=r(7213),s=r(2086);class a extends i.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!a.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!a.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}static doesHashAlgorithmExist(e){return n.getHashes().includes(e)}static doesDigestAlgorithmExist(e){return["latin1","hex","base64"].includes(e)}static hash(e,t,i){const a=n.createHash(e);return a.update(r(5456)(i.map((e=>s.termToString(e))))),a.digest(t)}}t.AbstractFilterHash=a},2318:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6527),t),i(r(1775),t)},6527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTyped=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const t=e;return{handle:await this.runHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){const t=e;return{handle:await this.testHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.testMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}t.ActorAbstractMediaTyped=i},1775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTypedFixed=void 0;const n=r(6527);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e);const t=this.priorityScale||0===this.priorityScale?this.priorityScale:1;this.mediaTypes&&Object.entries(this.mediaTypes).forEach((([e,r],n)=>{this.mediaTypes[e]=t*r})),this.mediaTypes=Object.freeze(this.mediaTypes),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,t,r){if(!(t in this.mediaTypes))throw new Error("Unrecognized media type: "+t);return await this.testHandleChecked(e,r)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypes}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return this.mediaTypeFormats}}t.ActorAbstractMediaTypedFixed=i},9400:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8248),t)},8248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractPath=void 0;const n=r(7213),i=r(1709),s=r(4005),a=r(1640),o=r(2086),u=r(1938),c=new a.DataFactory;class l extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,"path"),this.predicateType=t}async testOperation(e,t){if(e.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(e,t){return t?!e||e.subject.value!==t&&e.object.value!==t?c.variable(t):this.generateVariable(e,t+"b"):this.generateVariable(e,"b")}async isPathArbitraryLengthDistinct(e,t){return e&&e.get(l.isPathArbitraryLengthDistinctKey)?{context:e=e.set(l.isPathArbitraryLengthDistinctKey,!1),operation:void 0}:{context:e=e?e.set(l.isPathArbitraryLengthDistinctKey,!0):i.ActionContext({[l.isPathArbitraryLengthDistinctKey]:!0}),operation:n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l.FACTORY.createDistinct(t),context:e}))}}async predicateStarGraphVariable(e,t,r,i,a){const u=this.generateVariable(l.FACTORY.createPath(e,r,t,i)),c=l.FACTORY.createUnion(l.FACTORY.createPattern(e,u,t,i),l.FACTORY.createPattern(t,u,e,i)),p=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:a,operation:c})),h=o.termToString(t),d=new Set;return new s.MultiTransformIterator(p.bindingsStream,{multiTransform:t=>{const u=t.get(o.termToString(i));return d.has(o.termToString(u))?new s.EmptyIterator:(d.add(o.termToString(u)),new s.TransformIterator((async()=>{const t=new s.BufferedIterator;return await this.getObjectsPredicateStar(e,r,u,a,{},t,{count:0}),t.transform({transform(e,t,r){r(n.Bindings({[h]:e,[o.termToString(i)]:u})),t()}})}),{maxBufferSize:128}))},autoStart:!1})}async getObjectsPredicateStarEval(e,t,r,i,a){if("Variable"===i.termType)return this.predicateStarGraphVariable(e,t,r,i,a);const u=new s.BufferedIterator;return await this.getObjectsPredicateStar(e,r,i,a,{},u,{count:0}),u.transform({transform(e,r,i){i(n.Bindings({[o.termToString(t)]:e})),r()}})}async getObjectsPredicateStar(e,t,r,i,s,a,u){const c=o.termToString(e);if(s[c])return;a._push(e),s[c]=e,u.count++;const p=this.generateVariable(),h=o.termToString(p),d=l.FACTORY.createPath(e,t,p,r),f=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:i}));f.bindingsStream.on("data",(async e=>{const n=e.get(h);await this.getObjectsPredicateStar(n,t,r,i,s,a,u)})),f.bindingsStream.on("end",(()=>{0==--u.count&&a.close()}))}async getSubjectAndObjectBindingsPredicateStar(e,t,r,i,s,a,u,c,p,h,d){const f=o.termToString(i)+o.termToString(a);if(p[f])return;if(d.count++,p[f]=!0,h._push(n.Bindings({[e]:r,[t]:i})),f in c){const n=await c[f];for(const i of n)await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,i,s,a,u,c,p,h,d);return void(0==--d.count&&h.close())}const y=new Promise((async(f,y)=>{const m=[],g=this.generateVariable(),_=o.termToString(g),b=l.FACTORY.createPath(i,s,g,a),v=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:b,context:u}));v.bindingsStream.on("data",(async n=>{const i=n.get(_);m.push(i),await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,i,s,a,u,c,p,h,d)})),v.bindingsStream.on("error",y),v.bindingsStream.on("end",(()=>{0==--d.count&&h.close(),f(m)}))}));c[f]=y}}t.ActorAbstractPath=l,l.FACTORY=new u.Factory,l.isPathArbitraryLengthDistinctKey="isPathArbitraryLengthDistinct"},697:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7862),t),i(r(8329),t),i(r(1270),t)},7862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_HTTPPROXYHANDLER=t.ActorHttpProxy=void 0;const n=r(4864);class i extends n.ActorHttp{constructor(e){super(e)}async test(e){if(!e.context)throw new Error(`Actor ${this.name} could not find a context.`);const r=e.context.get(t.KEY_CONTEXT_HTTPPROXYHANDLER);if(!r)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await r.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:1/0}}async run(e){var r;const n="string"==typeof e.input?e.input:e.input.url;if(!e.context)throw new Error("Illegal state: missing context");const i=e.context.get(t.KEY_CONTEXT_HTTPPROXYHANDLER),s=await this.mediatorHttp.mediate(Object.assign(Object.assign({},await i.getProxy(e)),{context:e.context.delete(t.KEY_CONTEXT_HTTPPROXYHANDLER)}));return s.url=null!==(r=s.headers.get("x-final-url"))&&void 0!==r?r:n,s}}t.ActorHttpProxy=i,t.KEY_CONTEXT_HTTPPROXYHANDLER="@comunica/actor-http-proxy:httpProxyHandler"},8329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyHandlerStatic=void 0,t.ProxyHandlerStatic=class{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return"string"==typeof e?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}}},488:(e,t,r)=>{const n=new(r(4292).LoggerVoid)({}),i=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),s=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),a=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),o=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/Bus/RdfParseHtml"}),u=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),c=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),l=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/Bus/RdfSerialize"}),p=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),h=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"}),d=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"}),f=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),y=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),m=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),g=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),_=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),b=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"}),v=new(r(1709).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/Bus/RdfResolveHypermediaLinks"}),w=new(r(1709).BusIndexed)({actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),O=new(r(9114).MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:s}),S=new(r(5469).ActorHttpNative)({agentOptions:'{ "keepAlive": true, "maxSockets": 5 }',name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:s}),T=new(r(9390).ActionObserverHttp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-sparql-serialize-stats/Actor/SparqlSerialize/Stats/httpObserver/default",bus:s}),E=(new(r(7019).ActorRdfParseN3)({mediaTypes:{"application/n-quads":"1.0","application/trig":"0.95","application/n-triples":"0.8","text/turtle":"0.6","text/n3":"0.35"},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/trig":"http://www.w3.org/ns/formats/TriG","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","text/turtle":"http://www.w3.org/ns/formats/Turtle","text/n3":"http://www.w3.org/ns/formats/N3"},priorityScale:"1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:a}),new(r(1140).ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:"5.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:a}),new(r(917).ActorRdfParseXmlRdfa)({mediaTypes:{"application/xml":"1.0","text/xml":"1.0","image/svg+xml":"1.0"},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:"3.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserXmlRdfa",bus:a}),new(r(6479).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseMediatypes",bus:a})),x=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseHandle",bus:a}),A=new(r(6479).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:a}),I=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:a}),j=(new(r(694).ActorRdfParseHtml)({busRdfParseHtml:o,mediaTypes:{"text/html":"1.0","application/xhtml+xml":"0.9"},mediaTypeFormats:{"text/html":"http://www.w3.org/ns/formats/HTML","application/xhtml+xml":"http://www.w3.org/ns/formats/HTML"},priorityScale:"2.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtml",bus:a}),new(r(4046).ActorRdfParseHtmlRdfa)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlRdfa",bus:o}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:u})),N=(new(r(4357).ActorRdfJoinSymmetricHash)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorSymmetricHash",bus:u}),new(r(3836).ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorNestedLoop",bus:u}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",bus:c})),R=(new(r(1635).ActorRdfSerializeN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},mediaTypeFormats:{"application/trig":"http://www.w3.org/ns/formats/TriG","application/n-quads":"http://www.w3.org/ns/formats/N-Quads","text/turtle":"http://www.w3.org/ns/formats/Turtle","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","text/n3":"http://www.w3.org/ns/formats/N3"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializerN3",bus:l}),new(r(7489).ActorRdfSerializeJsonLd)({jsonStringifyIndentSpaces:2,mediaTypes:{"application/ld+json":"1.0"},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializeJsonLd",bus:l}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mediatorRdfSerialize",bus:l})),P=new(r(6479).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode320",bus:l}),D=new(r(6479).MediatorCombineUnion)({field:"mediaTypeFormats",name:"_:b1bnode320",bus:l}),M=(new(r(598).ActorRdfResolveQuadPatternRdfJsSource)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-rdfjs.json#myRdfRdfJsSourceQuadPatternResolver",bus:p}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:p})),k=(new(r(355).ActorRdfResolveHypermediaNone)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaNoneResolver",bus:h}),new(r(9114).MediatorNumber)({field:"filterFactor",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",bus:h})),L=(new(r(1597).ActorRdfMetadataExtractSparqlService)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#myRdfMetadataExtractSparqlService",bus:d}),new(r(6479).MediatorCombineUnion)({field:"metadata",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",bus:d})),F=(new(r(7502).ActorRdfMetadataExtractHydraControls)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",bus:d}),new(r(9394).ActorRdfMetadataExtractHydraCount)({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",bus:d}),new(r(2362).ActorSparqlParseGraphql)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/graphql-parsers.json#myGraphqlParser",bus:f}),new(r(6051).ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:f}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:f})),q=new(r(4437).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:y}),C=(new(r(5688).ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:y}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:m})),B=new(r(6479).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode314",bus:m}),U=new(r(6479).MediatorCombineUnion)({field:"mediaTypeFormats",name:"_:b1bnode314",bus:m}),Q=(new(r(8663).ActorSparqlSerializeJson)({mediaTypes:{"application/json":"1.0"},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myJsonSparqlSerializer",bus:m}),new(r(1061).ActorSparqlSerializeSimple)({mediaTypes:{simple:"0.9"},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySimpleSparqlSerializer",bus:m}),new(r(1965).ActorSparqlSerializeSparqlCsv)({mediaTypes:{"text/csv":"0.75"},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlCsvSparqlSerializer",bus:m}),new(r(8747).ActorSparqlSerializeSparqlJson)({mediaTypes:{"application/sparql-results+json":"0.8"},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlJsonSparqlSerializer",bus:m}),new(r(3933).ActorSparqlSerializeSparqlTsv)({mediaTypes:{"text/tab-separated-values":"0.75"},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlTsvSparqlSerializer",bus:m}),new(r(7684).ActorSparqlSerializeSparqlXml)({mediaTypes:{"application/sparql-results+xml":"0.8"},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlXmlSparqlSerializer",bus:m}),new(r(332).ActorSparqlSerializeTable)({columnWidth:50,mediaTypes:{table:"0.6"},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTableSparqlSerializer",bus:m}),new(r(1619).ActorSparqlSerializeTree)({mediaTypes:{tree:"0.5"},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTreeSparqlSerializer",bus:m}),new(r(4437).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:g})),V=new(r(7930).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:_}),z=new(r(7941).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/Actor/RdfResolveQuadPattern/Hypermedia/httpInvalidator#default",bus:_}),G=new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",bus:b}),X=(new(r(2349).ActorRdfMetadataPrimaryTopic)({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",bus:b}),new(r(1361).ActorRdfMetadataAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataAll",bus:b}),new(r(6277).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinks",bus:v})),H=(new(r(4187).ActorRdfResolveHypermediaLinksNext)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksNext",bus:v}),new(r(9114).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:w})),$=(new(r(3833).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:w}),new(r(963).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:w}),new(r(5655).ActorRdfParseJsonLd)({mediatorHttp:O,mediaTypes:{"application/ld+json":"1.0","application/json":"0.5"},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD","application/json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:a}),new(r(2446).ActorHttpMemento)({mediatorHttp:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http-memento.json#myHttpFetcher",bus:s}),new(r(7685).ActorRdfResolveHypermediaSparql)({mediatorHttp:O,checkUrlSuffix:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:h}),new(r(2174).ActorQueryOperationSparqlEndpoint)({mediatorHttp:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:w}),new(r(9390).ActorSparqlSerializeStats)({httpObserver:T,mediaTypes:{stats:"0.5"},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myStatsSparqlSerializer",bus:m}),new(r(3573).ActorRdfParseHtmlScript)({mediatorRdfParseMediatypes:E,mediatorRdfParseHandle:x,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlScript",bus:o}),new(r(7162).ActorRdfDereferenceHttpParse)({mediatorHttp:O,mediatorRdfParseMediatypes:A,mediatorRdfParseHandle:I,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json",html:"text/html",htm:"text/html",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",svg:"image/svg+xml",svgz:"image/svg+xml"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:c}),new(r(6474).ActorRdfJoinMultiSmallest)({mediatorJoin:j,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",bus:u}),new(r(2739).ActorSparqlSerializeRdf)({mediatorRdfSerialize:R,mediatorMediaTypeCombiner:P,mediatorMediaTypeFormatCombiner:D,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myRdfSparqlSerializer",bus:m}),new(r(5781).ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:M,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:p}),new(r(8010).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:M,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:w}),new(r(5034).ActorRdfResolveHypermediaQpf)({mediatorMetadata:G,mediatorMetadataExtract:L,mediatorRdfDereference:N,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",bus:h}),new(r(749).ActorRdfResolveQuadPatternHypermedia)({mediatorRdfDereference:N,mediatorMetadata:G,mediatorMetadataExtract:L,mediatorRdfResolveHypermedia:k,mediatorRdfResolveHypermediaLinks:X,cacheSize:100,httpInvalidator:z,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",bus:p}),new(r(697).ActorHttpProxy)({mediatorHttp:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpProxy",bus:s,beforeActors:[S]}),new(r(6875).ActorInitSparql)({mediatorOptimizeQueryOperation:q,mediatorQueryOperation:H,mediatorSparqlParse:F,mediatorSparqlSerialize:C,mediatorSparqlSerializeMediaTypeCombiner:B,mediatorSparqlSerializeMediaTypeFormatCombiner:U,mediatorContextPreprocess:Q,mediatorHttpInvalidate:V,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",baseIRI:"@comunica/actor-init-sparql:baseIRI",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime",queryTimestamp:"@comunica/actor-init-sparql:queryTimestamp",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",lenient:"@comunica/actor-init-sparql:lenient",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpAuth:"@comunica/bus-http:auth"},name:"urn:comunica:sparqlinit",bus:i}));new(r(540).ActorQueryOperationPathAlt)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:w}),new(r(9986).ActorQueryOperationPathInv)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:w}),new(r(7667).ActorQueryOperationPathLink)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:w}),new(r(8030).ActorQueryOperationPathNps)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:w}),new(r(1828).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:w}),new(r(2687).ActorQueryOperationPathSeq)({mediatorJoin:j,mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:w}),new(r(5665).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:w}),new(r(7521).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:w}),new(r(1009).ActorQueryOperationAsk)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:w}),new(r(2885).ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:w}),new(r(2299).ActorQueryOperationSlice)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:w}),new(r(8640).ActorQueryOperationBgpSingle)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:w}),new(r(9844).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:w}),new(r(1825).ActorQueryOperationConstruct)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:w}),new(r(4111).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:w}),new(r(836).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:w}),new(r(776).ActorQueryOperationExtend)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:w}),new(r(6790).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:100,mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:w}),new(r(9190).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:w}),new(r(8642).ActorQueryOperationFromQuad)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:w}),new(r(8834).ActorQueryOperationGroup)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",bus:w}),new(r(1318).ActorQueryOperationJoin)({mediatorJoin:j,mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:w}),new(r(1021).ActorQueryOperationLeftJoinLeftDeep)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:w}),new(r(1293).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:w}),new(r(651).ActorQueryOperationProject)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:w}),new(r(5766).ActorQueryOperationUnion)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:w}),new(r(5609).ActorQueryOperationMinus)({mediatorQueryOperation:H,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:w}),e.exports=$},6875:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateQuery=t.newEngine=t.bindingsStreamToGraphQl=void 0,i(r(7345),t);var s=r(1619);function a(){return r(488)}Object.defineProperty(t,"bindingsStreamToGraphQl",{enumerable:!0,get:function(){return s.bindingsStreamToGraphQl}}),t.newEngine=a,t.evaluateQuery=function(e,t){return a().query(e,t)}},7345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_LENIENT=t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES=t.KEY_CONTEXT_QUERYFORMAT=t.KEY_CONTEXT_INITIALBINDINGS=t.ActorInitSparql=void 0;const n=r(8147),i=r(7213),s=r(8575),a=r(1709),o=r(1938);class u extends n.ActorInit{constructor(e){super(e)}static enhanceQueryResults(e){return e.bindingsStream?e.bindings=()=>new Promise(((t,r)=>{const n=[];e.bindingsStream.on("data",(e=>{n.push(e)})),e.bindingsStream.on("end",(()=>{t(n)})),e.bindingsStream.on("error",r)})):e.quadStream&&(e.quads=()=>new Promise(((t,r)=>{const n=[];e.quadStream.on("data",(e=>{n.push(e)})),e.quadStream.on("end",(()=>{t(n)})),e.quadStream.on("error",r)}))),e}async test(e){return!0}async query(e,r){r=r||{};for(const e in r)if(this.contextKeyShortcuts[e]){const t=r[e];r[this.contextKeyShortcuts[e]]=t,delete r[e]}r[a.KEY_CONTEXT_LOG]||(r[a.KEY_CONTEXT_LOG]=this.logger),r[i.KEY_CONTEXT_QUERY_TIMESTAMP]||(r[i.KEY_CONTEXT_QUERY_TIMESTAMP]=new Date),Array.isArray(r[s.KEY_CONTEXT_SOURCES])&&r[s.KEY_CONTEXT_SOURCES].forEach((e=>{s.isDataSourceRawType(e)||"auto"!==e.type&&"hypermedia"!==e.type||delete e.type}));let n,o,c="sparql";if((r=a.ActionContext(r))&&r.has(t.KEY_CONTEXT_QUERYFORMAT)&&(c=r.get(t.KEY_CONTEXT_QUERYFORMAT),r=r.delete(t.KEY_CONTEXT_QUERYFORMAT),"graphql"!==c||r.has(t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES)||(r=r.set(t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES,{}))),r&&r.has(i.KEY_CONTEXT_BASEIRI)&&(n=r.get(i.KEY_CONTEXT_BASEIRI)),r=(await this.mediatorContextPreprocess.mediate({context:r})).context,"string"==typeof e){const t=await this.mediatorSparqlParse.mediate({context:r,query:e,queryFormat:c,baseIRI:n});o=t.operation,t.baseIRI&&(r=r.set(i.KEY_CONTEXT_BASEIRI,t.baseIRI))}else o=e;if(r.has(t.KEY_CONTEXT_INITIALBINDINGS)){const e=r.get(t.KEY_CONTEXT_INITIALBINDINGS);o=i.materializeOperation(o,i.ensureBindings(e))}o=(await this.mediatorOptimizeQueryOperation.mediate({context:r,operation:o})).operation;const l={context:r,operation:o};let p=await this.mediatorQueryOperation.mediate(l);return p=u.enhanceQueryResults(p),p.context=r,p}async getResultMediaTypes(e){return(await this.mediatorSparqlSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return(await this.mediatorSparqlSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,t,r){if(r=a.ActionContext(r),!t)switch(e.type){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple"}const n=e;return n.context=r,(await this.mediatorSparqlSerialize.mediate({context:r,handle:n,handleMediaType:t})).handle}invalidateHttpCache(e){return this.mediatorHttpInvalidate.mediate({url:e})}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}t.ActorInitSparql=u,u.ALGEBRA_TYPES=Object.keys(o.Algebra.types).reduce(((e,t)=>(e[o.Algebra.types[t]]=!0,e)),{}),t.KEY_CONTEXT_INITIALBINDINGS="@comunica/actor-init-sparql:initialBindings",t.KEY_CONTEXT_QUERYFORMAT="@comunica/actor-init-sparql:queryFormat",t.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES="@comunica/actor-init-sparql:singularizeVariables",t.KEY_CONTEXT_LENIENT="@comunica/actor-init-sparql:lenient"},5688:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(387),t)},387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationJoinBgp=void 0;const n=r(9557),i=r(1938);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return!0}async run(e){return{operation:i.Util.mapOperation(e.operation,{join:(e,t)=>"bgp"===e.left.type&&"bgp"===e.right.type?{recurse:!1,result:t.createBgp(e.left.patterns.concat(e.right.patterns))}:{recurse:!1,result:e}})}}}t.ActorOptimizeQueryOperationJoinBgp=s},1009:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2642),t)},2642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationAsk=void 0;const n=r(7213);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r);return{type:"boolean",booleanResult:new Promise(((e,t)=>{i.bindingsStream.once("data",(()=>{e(!0),i.bindingsStream.close()})),i.bindingsStream.on("end",(()=>e(!1))),i.bindingsStream.on("error",t)}))}}}t.ActorQueryOperationAsk=i},3833:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1325),t)},1325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpEmpty=void 0;const n=r(7213),i=r(4005),s=r(2086),a=r(1234);class o extends n.ActorQueryOperationTyped{constructor(e){super(e,"bgp")}static getVariables(e){return a.uniqTerms(e.map((e=>a.getTerms(e).filter((e=>"Variable"===e.termType)))).reduce(((e,t)=>e.concat(t)),[])).map((e=>s.termToString(e)))}async testOperation(e,t){if(e.patterns.length>0)throw new Error(`Actor ${this.name} can only operate on empty BGPs.`);return!0}async runOperation(e,t){return{bindingsStream:new i.SingletonIterator(n.Bindings({})),metadata:()=>Promise.resolve({totalItems:1}),type:"bindings",variables:o.getVariables(e.patterns),canContainUndefs:!1}}}t.ActorQueryOperationBgpEmpty=o},9844:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8737),t)},8737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpLeftDeepSmallest=void 0;const n=r(7213),i=r(4005),s=r(2086),a=r(1234);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}static createLeftDeepStream(e,t,r){return new i.MultiTransformIterator(e,{autoStart:!1,multiTransform(e){const n=t=>t.merge(e);return new i.TransformIterator((async()=>(await r(o.materializePatterns(t,e))).transform({map:n})),{maxBufferSize:128})}})}static getCombinedVariables(e){const t=[].concat.apply([],e.map((e=>e.variables)));return[...new Set(t)]}static getSmallestPatternId(e){let t=-1,r=1/0;for(const[n,i]of e.entries()){const e=o.getTotalItems(i);e<=r&&(r=e,t=n)}return t}static estimateCombinedTotalItems(e,t){const r=o.getTotalItems(e);return t.map((e=>r*o.getTotalItems(e))).reduce(((e,t)=>e+t),0)}static getTotalItems(e){const{totalItems:t}=null!=e?e:{};return t||0===t?t:1/0}static materializePatterns(e,t){return e.map((e=>o.materializePattern(e,t)))}static materializePattern(e,t){const r={};return{pattern:Object.assign(a.mapTerms(e,((e,n)=>{const i=o.materializeTerm(e,t);return e!==i&&(r[n]=e),i})),{type:"pattern",context:e.context}),bindings:r}}static materializeTerm(e,t){if("Variable"===e.termType){const r=t.get(s.termToString(e));if(r)return r}return e}static async hasOneEmptyPatternOutput(e){for(const t of e)if(t.metadata){const e=await t.metadata();if(!o.getTotalItems(e))return!0}return!1}async testOperation(e,t){if(e.patterns.length<2)throw new Error(`Actor ${this.name} can only operate on BGPs with at least two patterns.`);return!0}async runOperation(e,t){const r=(await Promise.all(e.patterns.map((e=>this.mediatorQueryOperation.mediate({operation:e,context:t}))))).map(n.ActorQueryOperation.getSafeBindings);if(await o.hasOneEmptyPatternOutput(r))return{bindingsStream:new i.ArrayIterator([],{autoStart:!1}),metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:o.getCombinedVariables(r),canContainUndefs:!1};const s=await Promise.all(r.map((async e=>e.metadata?await e.metadata():{}))),a=o.getSmallestPatternId(s);this.logDebug(t,"Smallest pattern: ",(()=>({pattern:e.patterns[a],metadata:s[a]})));for(const[e,t]of r.entries())e!==a&&t.bindingsStream.close();const u=r.slice(a)[0],c=e.patterns.concat([]);c.splice(a,1);const l=s.concat([]);l.splice(a,1),n.ActorQueryOperation.validateQueryOutput(u,"bindings");const p=t&&t.set(n.KEY_CONTEXT_BGP_CURRENTMETADATA,s[a]).set(n.KEY_CONTEXT_BGP_PARENTMETADATA,l);return{type:"bindings",bindingsStream:o.createLeftDeepStream(u.bindingsStream,c,(async e=>{const t={type:"bgp",patterns:e.map((e=>e.pattern))},r=e.map((e=>e.bindings));return n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t,context:p.set(n.KEY_CONTEXT_BGP_PATTERNBINDINGS,r)})).bindingsStream})),variables:o.getCombinedVariables(r),metadata:()=>Promise.resolve({totalItems:o.estimateCombinedTotalItems(s[a],s.slice(a))}),canContainUndefs:!1}}}t.ActorQueryOperationBgpLeftDeepSmallest=o},8640:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8337),t)},8337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpSingle=void 0;const n=r(7213);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,t){if(1!==e.patterns.length)throw new Error(`Actor ${this.name} can only operate on BGPs with a single pattern.`);return!0}runOperation(e,t){if(t&&t.has(n.KEY_CONTEXT_BGP_PARENTMETADATA)){const e=t.get(n.KEY_CONTEXT_BGP_PARENTMETADATA);t=(t=t.delete(n.KEY_CONTEXT_BGP_PARENTMETADATA)).set(n.KEY_CONTEXT_PATTERN_PARENTMETADATA,e[0])}return this.mediatorQueryOperation.mediate({operation:e.patterns[0],context:t})}}t.ActorQueryOperationBgpSingle=i},1825:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2289),t)},2289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationConstruct=void 0;const n=r(7213),i=r(1234),s=r(228);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return i.uniqTerms([].concat.apply([],e.map((e=>i.getVariables(i.getTerms(e))))))}async testOperation(e,t){return!0}async runOperation(e,t){const r=a.getVariables(e.template),i={type:"project",input:e.input,variables:r},o=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:i,context:t})),u=new s.BindingsToQuadsIterator(e.template,o.bindingsStream);let c;return o.metadata&&(c=()=>o.metadata().then((t=>t.totalItems?Object.assign(Object.assign({},t),{totalItems:t.totalItems*e.template.length}):t))),{metadata:c,quadStream:u,type:"quads"}}}t.ActorQueryOperationConstruct=a},228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsToQuadsIterator=void 0;const n=r(4005),i=r(1640),s=r(1234),a=new i.DataFactory;class o extends n.MultiTransformIterator{constructor(e,t){super(t,{autoStart:!1}),this.template=e,this.blankNodeCounter=0}static bindTerm(e,t){return"Variable"===t.termType?e.get("?"+t.value):t}static bindQuad(e,t){try{return s.mapTerms(t,(t=>{const r=o.bindTerm(e,t);if(!r)throw new Error("Unbound term");return r}))}catch(e){}}static localizeBlankNode(e,t){return"BlankNode"===t.termType?a.blankNode(`${t.value}${e}`):t}static localizeQuad(e,t){return s.mapTerms(t,(t=>o.localizeBlankNode(e,t)))}static bindTemplate(e,t,r){return t.map((t=>o.bindQuad.bind(null,e)(t))).filter(Boolean).map(o.localizeQuad.bind(null,r))}_createTransformer(e){return new n.ArrayIterator(o.bindTemplate(e,this.template,this.blankNodeCounter++))}}t.BindingsToQuadsIterator=o},4111:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5047),t)},5047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDescribeSubject=void 0;const n=r(5766),i=r(7213),s=r(4005),a=new(r(1640).DataFactory);class o extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,t){return!0}async runOperation(e,t){const r=e.terms.filter((e=>"Variable"!==e.termType)).map((e=>{const t=[a.quad(e,a.variable("__predicate"),a.variable("__object"))];return t.forEach((e=>e.type="pattern")),{input:{type:"bgp",patterns:t},template:t,type:"construct"}}));if(r.length!==e.terms.length){let t=[];e.terms.filter((e=>"Variable"===e.termType)).forEach(((e,r)=>{const n=[a.quad(e,a.variable("__predicate"+r),a.variable("__object"+r))];n.forEach((e=>e.type="pattern")),t=t.concat(n)})),r.push({input:{type:"join",left:e.input,right:{type:"bgp",patterns:t}},template:t,type:"construct"})}const o=(await Promise.all(r.map((e=>this.mediatorQueryOperation.mediate({operation:e,context:t}))))).map(i.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new s.UnionIterator(o.map((e=>e.quadStream)),{autoStart:!1}),metadata:()=>Promise.all(o.map((e=>i.getMetadata(e)))).then(n.ActorQueryOperationUnion.unionMetadata)}}}t.ActorQueryOperationDescribeSubject=o},836:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3200),t)},3200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDistinctHash=void 0;const n=r(3828);class i extends n.AbstractBindingsHash{constructor(e){super(e,"distinct")}newHashFilter(e,t){const r={};return i=>{const s=n.AbstractFilterHash.hash(e,t,i);return!(s in r)&&(r[s]=!0)}}}t.ActorQueryOperationDistinctHash=i},776:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3626),t)},3626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationExtend=void 0;const n=r(7213),i=r(2086),s=r(390);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,t){return Boolean(new s.AsyncEvaluator(e.expression)),!0}async runOperation(e,t){const{expression:r,input:a,variable:o}=e,u=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:t})),c=i.termToString(o),l=Object.assign({},n.ActorQueryOperation.getExpressionContext(t,this.mediatorQueryOperation)),p=new s.AsyncEvaluator(r,l),h=u.variables.concat([c]),d=u.bindingsStream.transform({transform:async(e,r,n)=>{try{const t=await p.evaluate(e);n(e.set(c,t))}catch(r){s.isExpressionError(r)?(n(e),this.logWarn(t,`Expression error for extend operation with bindings '${JSON.stringify(e)}'`)):d.emit("error",r)}r()}}),{metadata:f}=u;return{type:"bindings",bindingsStream:d,metadata:f,variables:h,canContainUndefs:u.canContainUndefs}}}t.ActorQueryOperationExtend=a},9190:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7594),t)},7594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFilterSparqlee=void 0;const n=r(7213),i=r(390);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,t){return new i.AsyncEvaluator(e.expression,n.ActorQueryOperation.getExpressionContext(t,this.mediatorQueryOperation)),!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),s=n.ActorQueryOperation.getSafeBindings(r);n.ActorQueryOperation.validateQueryOutput(s,"bindings");const{variables:a,metadata:o}=s,u=n.ActorQueryOperation.getExpressionContext(t,this.mediatorQueryOperation),c=new i.AsyncEvaluator(e.expression,u),l=s.bindingsStream.transform({transform:async(e,t,r)=>{try{await c.evaluateAsEBV(e)&&r(e)}catch(e){i.isExpressionError(e)||l.emit("error",e)}t()}});return{type:"bindings",bindingsStream:l,metadata:o,variables:a,canContainUndefs:s.canContainUndefs}}}t.ActorQueryOperationFilterSparqlee=s},8642:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4490),t)},4490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFromQuad=void 0;const n=r(7213),i=r(1938);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,t){const r={};for(const n of Object.keys(e))Array.isArray(e[n])?r[n]="variables"===n?e[n]:e[n].map(t):s.ALGEBRA_TYPES.includes(e[n].type)?r[n]=t(e[n]):r[n]=e[n];return r}static applyOperationDefaultGraph(e,t){if("bgp"===e.type&&e.patterns.length>0||"path"===e.type){if("bgp"===e.type)return s.joinOperations(e.patterns.map((e=>{if("DefaultGraph"!==e.graph.termType)return s.FACTORY.createBgp([e]);const r=t.map((t=>s.FACTORY.createBgp([s.FACTORY.createPattern(e.subject,e.predicate,e.object,t)])));return s.unionOperations(r)})));if("DefaultGraph"!==e.graph.termType)return e;const r=t.map((t=>s.FACTORY.createPath(e.subject,e.predicate,e.object,t)));return s.joinOperations(r)}return s.copyOperation(e,(e=>this.applyOperationDefaultGraph(e,t)))}static applyOperationNamedGraph(e,t,r){if("bgp"===e.type&&e.patterns.length>0||"path"===e.type){let n;if(n="bgp"===e.type?e.patterns[0].graph:e.graph,"DefaultGraph"===n.termType)return{type:"bgp",patterns:[]};if("Variable"===n.termType){if(1===t.length){const r=t[0],i={};i["?"+n.value]=r;const a=s.FACTORY.createValues([n],[i]);let o;return o="bgp"===e.type?s.FACTORY.createBgp(e.patterns.map((e=>s.FACTORY.createPattern(e.subject,e.predicate,e.object,r)))):s.FACTORY.createPath(e.subject,e.predicate,e.object,r),s.FACTORY.createJoin(a,o)}return s.unionOperations(t.map((t=>s.applyOperationNamedGraph(e,[t],r))))}return t.concat(r).some((e=>e.equals(n)))?e:{type:"bgp",patterns:[]}}return s.copyOperation(e,(e=>this.applyOperationNamedGraph(e,t,r)))}static joinOperations(e){if(1===e.length)return e[0];if(2===e.length)return s.FACTORY.createJoin(e[0],e[1]);if(e.length>2)return s.FACTORY.createJoin(e.shift(),this.joinOperations(e));throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(1===e.length)return e[0];if(2===e.length)return s.FACTORY.createUnion(e[0],e[1]);if(e.length>2)return s.FACTORY.createUnion(e.shift(),this.unionOperations(e));throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let t=e.input;return e.default.length>0&&(t=s.applyOperationDefaultGraph(t,e.default)),e.named.length>0&&(t=s.applyOperationNamedGraph(t,e.named,e.default)),t}async testOperation(e,t){return!0}async runOperation(e,t){const r=s.createOperation(e);return this.mediatorQueryOperation.mediate({operation:r,context:t})}}t.ActorQueryOperationFromQuad=s,s.FACTORY=new i.Factory,s.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map((e=>i.Algebra.types[e]))},8834:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5208),t)},5208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationGroup=void 0;const n=r(7213),i=r(4005),s=r(2086),a=r(390),o=r(511);class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,t){for(const t of e.aggregates)new a.SyncEvaluator(t.expression);return!0}async runOperation(e,t){const{input:r,aggregates:a}=e,u=await this.mediatorQueryOperation.mediate({operation:r,context:t}),c=n.ActorQueryOperation.getSafeBindings(u),l=e.variables.map((e=>s.termToString(e))).concat(a.map((e=>s.termToString(e.variable)))),p=Object.assign({},n.ActorQueryOperation.getExpressionContext(t));return new Promise(((t,r)=>{const n=new o.GroupsState(e,p);c.bindingsStream.on("end",(()=>{try{const e=new i.ArrayIterator(n.collectResults(),{autoStart:!1}),{metadata:r}=c;t({type:"bindings",bindingsStream:e,metadata:r,variables:l,canContainUndefs:c.canContainUndefs})}catch(e){r(e)}})),c.bindingsStream.on("error",r),c.bindingsStream.on("data",(e=>{try{n.consumeBindings(e)}catch(e){r(e)}}))}))}}t.ActorQueryOperationGroup=u},511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsState=void 0;const n=r(3828),i=r(7213),s=r(2086),a=r(390);t.GroupsState=class{constructor(e,t){this.pattern=e,this.sparqleeConfig=t,this.groups=new Map,this.groupVariables=new Set(this.pattern.variables.map((e=>s.termToString(e)))),this.distinctHashes=e.aggregates.some((({distinct:e})=>e))?new Map:null}consumeBindings(e){const t=e.filter(((e,t)=>this.groupVariables.has(t))).toMap(),r=this.hashBindings(t);let n=this.groups.get(r);if(n)for(const t of this.pattern.aggregates){if(t.distinct){const t=this.hashBindings(e);if(this.distinctHashes.get(r).has(t))continue;this.distinctHashes.get(r).add(t)}const i=s.termToString(t.variable);n.aggregators[i].put(e)}else{const i={};for(const t of this.pattern.aggregates){const r=s.termToString(t.variable);i[r]=new a.AggregateEvaluator(t,this.sparqleeConfig),i[r].put(e)}if(n={aggregators:i,bindings:t},this.groups.set(r,n),this.distinctHashes){const t=this.hashBindings(e);this.distinctHashes.set(r,new Set([t]))}}}collectResults(){let e=[...this.groups].map((([e,t])=>{const{bindings:r,aggregators:n}=t,i={};for(const e in n){const t=n[e].result();void 0!==t&&(i[e]=t)}return r.merge(i)}));if(0===e.length&&0===this.groupVariables.size){const t={};for(const e of this.pattern.aggregates){const r=s.termToString(e.variable),n=a.AggregateEvaluator.emptyValue(e);void 0!==n&&(t[r]=n)}e=[i.Bindings(t)]}return e}hashBindings(e){return n.AbstractFilterHash.hash("sha1","hex",e)}}},1318:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5188),t)},5188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationJoin=void 0;const n=r(7213);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,t){return!0}async runOperation(e,t){const r=this.mediatorQueryOperation.mediate({operation:e.left,context:t}),i=this.mediatorQueryOperation.mediate({operation:e.right,context:t});return this.mediatorJoin.mediate({entries:[n.ActorQueryOperation.getSafeBindings(await r),n.ActorQueryOperation.getSafeBindings(await i)]})}}t.ActorQueryOperationJoin=i},1021:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6675),t)},6675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationLeftJoinLeftDeep=void 0;const n=r(7213),i=r(2444),s=r(4005),a=r(1938);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}static createLeftDeepStream(e,t,r){return new s.MultiTransformIterator(e,{multiTransform(e){const i=t=>t.merge(e);return new s.TransformIterator((async()=>(await r(n.materializeOperation(t,e))).map(i)),{maxBufferSize:128})},optional:!0})}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),s=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t}));s.bindingsStream.close();const a=e.expression?o.FACTORY.createFilter(e.right,e.expression):e.right;return{type:"bindings",bindingsStream:o.createLeftDeepStream(r.bindingsStream,a,(async e=>n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e,context:t})).bindingsStream)),metadata:()=>Promise.all([r,s].map((e=>n.getMetadata(e)))).then((e=>e.reduce(((e,t)=>e*t.totalItems),1))).catch((()=>1/0)).then((e=>({totalItems:e}))),variables:i.ActorRdfJoin.joinVariables({entries:[r,s]}),canContainUndefs:!0}}}t.ActorQueryOperationLeftJoinLeftDeep=o,o.FACTORY=new a.Factory},5609:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2505),t)},2505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationMinus=void 0;const n=r(7213),i=r(4005),s=r(472);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t})),a=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),o=this.getCommonVariables(r.variables,a.variables);if(o.length>0){const e=new s.BindingsIndex(o),t=new i.TransformIterator((async()=>(await new Promise((t=>{r.bindingsStream.on("data",(t=>e.add(t))),r.bindingsStream.on("end",t)})),a.bindingsStream.filter((t=>!e.contains(t))))),{autoStart:!1}),n=r.canContainUndefs||a.canContainUndefs;return{type:"bindings",bindingsStream:t,variables:a.variables,metadata:a.metadata,canContainUndefs:n}}return a}getCommonVariables(e,t){return Object.keys(e.filter((e=>t.includes(e))).reduce(((e,t)=>(e[t]=!0,e)),{}))}}t.ActorQueryOperationMinus=a},472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsIndex=void 0;const n=r(2086);class i{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&"Variable"!==e.termType?n.termToString(e):""}add(e){if(this.isBindingsValid(e)){let t=this.data;for(const r of this.keys){const n=i.hashTerm(e.get(r));let s=t[n];s||(s=t[n]={}),t=s}}}contains(e){return!!this.isBindingsValid(e)&&this.containsRecursive(e,this.keys,[this.data])}isBindingsValid(e){let t=!1;for(const r of this.keys)if(e.get(r)){t=!0;break}return t}containsRecursive(e,t,r){if(0===t.length)return!0;let n;[n,...t]=t;for(const s of r){const r=i.hashTerm(e.get(n));if(r){const n=[s[r],s[""]].filter(Boolean);if(0===n.length)continue;if(this.containsRecursive(e,t,n))return!0}else{let r=Object.keys(s).map((e=>s[e]));if(0===r.length&&(r=[{}]),this.containsRecursive(e,t,r))return!0}}return!1}}t.BindingsIndex=i},1293:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(262),t)},262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationOrderBySparqlee=void 0;const n=r(7213),i=r(1938),s=r(390),a=r(3159);class o extends n.ActorQueryOperationTypedMediated{constructor(e){var t;super(e,"orderby"),this.window=null!==(t=e.window)&&void 0!==t?t:1/0}async testOperation(e,t){for(let t of e.expressions)t=this.extractSortExpression(t),new s.AsyncEvaluator(t);return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r),o={window:this.window},u=Object.assign({},n.ActorQueryOperation.getExpressionContext(t));let{bindingsStream:c}=i;for(let t=e.expressions.length-1;t>=0;t--){let r=e.expressions[t];const n=this.isAscending(r);r=this.extractSortExpression(r);const i=new s.AsyncEvaluator(r,u),l=async(e,t,r)=>{try{r({bindings:e,result:await i.evaluate(e)})}catch(t){s.isExpressionError(t)||c.emit("error",t),r({bindings:e,result:void 0})}t()},p=c.transform({transform:l}),h=new a.SortIterator(p,((e,t)=>s.orderTypes(e.result,t.result,n)),o);c=h.map((({bindings:e,result:t})=>e))}return{type:"bindings",bindingsStream:c,metadata:i.metadata,variables:i.variables,canContainUndefs:i.canContainUndefs}}extractSortExpression(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR?e:"desc"===r?e.args[0]:e}isAscending(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR||"desc"!==r}}t.ActorQueryOperationOrderBySparqlee=o},3159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortIterator=void 0;const n=r(4005);class i extends n.TransformIterator{constructor(e,t,r){super(e,r);const n=r&&r.window;this.windowLength=Number.isFinite(n)&&n>0?n:1/0,this.sort=t,this.sorted=[]}_read(e,t){let r,{length:n}=this.sorted;for(;n!==this.windowLength&&(r=this.source.read(),null!==r);){let e,t,i=0,s=n-1;for(;i<=s;)e=Math.trunc((i+s)/2),t=this.sort(r,this.sorted[e]),t<0?i=e+1:t>0?s=e-1:(i=e,s=-1);this.sorted.splice(i,0,r),n++}n===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(e){let{length:t}=this.sorted;for(;t--;)this._push(this.sorted.pop());e()}}t.SortIterator=i},540:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2663),t)},2663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathAlt=void 0;const n=r(9400),i=r(7213),s=r(4005),a=r(1938);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ALT)}async runOperation(e,t){const r=e.predicate,a=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,e.object,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.right,e.object,e.graph)})])).map((e=>i.ActorQueryOperation.getSafeBindings(e))),o=new s.UnionIterator(a.map((e=>e.bindingsStream)),{autoStart:!1}),u=[].concat.apply([],a.map((e=>e.variables)));return{type:"bindings",bindingsStream:o,variables:[...new Set(u)],canContainUndefs:!1}}}t.ActorQueryOperationPathAlt=o},9986:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8087),t)},8087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathInv=void 0;const n=r(9400),i=r(1938);class s extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.INV)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPath(e.object,r.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathInv=s},7667:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4176),t)},4176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathLink=void 0;const n=r(9400),i=r(1938);class s extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.LINK)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}t.ActorQueryOperationPathLink=s},8030:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6777),t)},6777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathNps=void 0;const n=r(9400),i=r(7213),s=r(2086),a=r(1938);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.NPS)}async runOperation(e,t){const r=e.predicate,a=this.generateVariable(e),o=s.termToString(a),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,a,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:t}));return{type:"bindings",bindingsStream:c.bindingsStream.transform({filter:e=>!r.iris.some((t=>t.equals(e.get(o)))),transform(e,t,r){r(e.delete(o)),t()}}),variables:c.variables,canContainUndefs:!1}}}t.ActorQueryOperationPathNps=o},1828:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1953),t)},1953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathOneOrMore=void 0;const n=r(9400),i=r(7213),s=r(4005),a=r(2086),o=r(1938);class u extends n.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,t){const r=await this.isPathArbitraryLengthDistinct(t,e);if(r.operation)return r.operation;t=r.context;const o=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType,l="Variable"===e.graph.termType;if(!u&&c){const r=n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e.subject,o.path,e.object,e.graph)),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:r})),c=a.termToString(e.object),p={};return{type:"bindings",bindingsStream:new s.MultiTransformIterator(u.bindingsStream,{multiTransform:r=>{const n=r.get(c),u=l?r.get(a.termToString(e.graph)):e.graph;return new s.TransformIterator((async()=>{const r=new s.BufferedIterator;return await this.getObjectsPredicateStar(n,o.path,e.graph,t,p,r,{count:0}),r.transform({transform(t,r,n){let s=i.Bindings({[c]:t});l&&(s=s.set(a.termToString(e.graph),u)),n(s),r()}})}),{maxBufferSize:128})},autoStart:!1}),variables:l?[c,a.termToString(e.graph)]:[c],canContainUndefs:!1}}if(u&&c){const r=n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e.subject,e.predicate.path,e.object,e.graph)),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:r})),c=a.termToString(e.subject),p=a.termToString(e.object),h={};return{type:"bindings",bindingsStream:new s.MultiTransformIterator(u.bindingsStream,{multiTransform:r=>{const n=r.get(c),i=r.get(p),u=l?r.get(a.termToString(e.graph)):e.graph;return new s.TransformIterator((async()=>{const r=new s.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(c,p,n,i,o.path,u,t,h,{},r,{count:0}),r.transform({transform(t,r,n){l&&(t=t.set(a.termToString(e.graph),u)),n(t),r()}})}),{maxBufferSize:128})},autoStart:!1}),variables:l?[c,p,a.termToString(e.graph)]:[c,p],canContainUndefs:!1}}if(u&&!c)return this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.object,n.ActorAbstractPath.FACTORY.createOneOrMorePath(n.ActorAbstractPath.FACTORY.createInv(o.path)),e.subject,e.graph)});const p=this.generateVariable(),h=a.termToString(p);return{type:"bindings",bindingsStream:i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,o,p,e.graph)})).bindingsStream.transform({filter:t=>t.get(h).equals(e.object),transform(t,r,n){n(l?i.Bindings({[a.termToString(e.graph)]:t.get(a.termToString(e.graph))}):i.Bindings({})),r()}}),variables:l?[a.termToString(e.graph)]:[],canContainUndefs:!1}}}t.ActorQueryOperationPathOneOrMore=u},2687:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6606),t)},6606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathSeq=void 0;const n=r(9400),i=r(7213),s=r(2086),a=r(1938);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.SEQ)}async runOperation(e,t){const r=e.predicate,a=this.generateVariable(e),o=s.termToString(a),u=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,a,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(a,r.right,e.object,e.graph)})])).map((e=>i.ActorQueryOperation.getSafeBindings(e))),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({entries:u})),l=c.bindingsStream.transform({transform(e,t,r){r(e.delete(o)),t()}}),p=c.variables,h=p.indexOf(o);return p.splice(h,1),{type:"bindings",bindingsStream:l,variables:p,canContainUndefs:!1}}}t.ActorQueryOperationPathSeq=o},5665:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7957),t)},7957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrMore=void 0;const n=r(9400),i=r(7213),s=r(4005),a=r(2086),o=r(1938);class u extends n.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,t){const r=await this.isPathArbitraryLengthDistinct(t,e);if(r.operation)return r.operation;t=r.context;const o=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType,l="Variable"===e.graph.termType;if(u&&c){const r=this.generateVariable(e),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:u})),p=a.termToString(e.subject),h=a.termToString(e.object),d=new Set,f={};return{type:"bindings",bindingsStream:new s.MultiTransformIterator(c.bindingsStream,{multiTransform:r=>{const n=r.get(p),i=r.get(h),u=l?r.get(a.termToString(e.graph)):e.graph,c=a.termToString(n)+a.termToString(u),y=a.termToString(i)+a.termToString(u);return new s.TransformIterator((async()=>{if(d.has(c)&&d.has(y))return new s.EmptyIterator;const r=new s.BufferedIterator,m={count:0};return d.has(c)||(d.add(c),await this.getSubjectAndObjectBindingsPredicateStar(p,h,n,n,o.path,u,t,f,{},r,m)),d.has(y)||(d.add(y),await this.getSubjectAndObjectBindingsPredicateStar(p,h,i,i,o.path,u,t,f,{},r,m)),r.transform({transform(t,r,n){l&&(t=t.set(a.termToString(e.graph),u)),n(t),r()}})}))}}),variables:l?[p,h,a.termToString(e.graph)]:[p,h],canContainUndefs:!1}}if(!u&&!c){const r=this.generateVariable();return{type:"bindings",bindingsStream:(await this.getObjectsPredicateStarEval(e.subject,r,o.path,e.graph,t)).transform({filter:t=>t.get(a.termToString(r)).equals(e.object),transform(t,r,n){n(l?i.Bindings({[a.termToString(e.graph)]:t.get(a.termToString(e.graph))}):i.Bindings({})),r()}}),variables:l?[a.termToString(e.graph)]:[],canContainUndefs:!1}}const p=u?e.object:e.subject,h=u?e.subject:e.object,d=u?n.ActorAbstractPath.FACTORY.createInv(o.path):o.path;return{type:"bindings",bindingsStream:(await this.getObjectsPredicateStarEval(p,h,d,e.graph,t)).transform({transform(e,t,r){r(e),t()}}),variables:l?[a.termToString(h),a.termToString(e.graph)]:[a.termToString(h)],canContainUndefs:!1}}}t.ActorQueryOperationPathZeroOrMore=u},7521:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3273),t)},3273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrOne=void 0;const n=r(8248),i=r(7213),s=r(4005),a=r(2086),o=r(1938);class u extends n.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,t){const r=e.predicate,o="Variable"===e.subject.termType,u="Variable"===e.object.termType,c=[];if(!o&&!u&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new s.SingletonIterator(i.Bindings({})),variables:[],canContainUndefs:!1};if(o&&u)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");const l=await this.isPathArbitraryLengthDistinct(t,e);if(l.operation)return l.operation;t=l.context,o&&c.push(i.Bindings({[a.termToString(e.subject)]:e.object})),u&&c.push(i.Bindings({[a.termToString(e.object)]:e.subject}));const p=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph)}));return{type:"bindings",bindingsStream:p.bindingsStream.prepend(c),variables:p.variables,canContainUndefs:!1}}}t.ActorQueryOperationPathZeroOrOne=u},651:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7164),t)},7164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationProject=void 0;const n=r(7213),i=r(5093),s=r(1640),a=r(2086),o=new s.DataFactory;class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),s=e.variables.map((e=>a.termToString(e))),u=r.variables.filter((e=>!s.includes(e))),c=s.filter((e=>!r.variables.includes(e)));if(c.length>0)throw new Error(`Variables '${c}' are used in the projection result, but are not assigned.`);let l=0===u.length?r.bindingsStream:r.bindingsStream.transform({map(e){for(const t of u)e=e.delete(t);return e},autoStart:!1}),p=0;return l=l.transform({map:e=>(p++,e.map((e=>e&&"BlankNode"===e.termType?e instanceof i.BlankNodeScoped?new i.BlankNodeScoped(`${e.value}${p}`,e.skolemized):o.blankNode(`${e.value}${p}`):e))),autoStart:!1}),{type:"bindings",bindingsStream:l,metadata:r.metadata,variables:s,canContainUndefs:r.canContainUndefs}}}t.ActorQueryOperationProject=u},8010:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5977),t)},5977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationQuadpattern=void 0;const n=r(7213),i=r(4005),s=r(2086),a=r(1234);class o extends n.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return"Variable"===e.termType}static getVariables(e){return a.uniqTerms(a.getTerms(e).filter(o.isTermVariable)).map((e=>s.termToString(e)))}static getDuplicateElementLinks(e){const t={};let r=!1;for(const n of a.QUAD_TERM_NAMES)if("Variable"===e[n].termType){const i=s.termToString(e[n]),a=(t[i]||(t[i]=[])).push(n);r=r||a>1}if(!r)return;const n={};for(const e in t){const r=t[e],i=r.slice(1);i.length>0&&(n[r[0]]=i)}return n}static getMetadata(e){return()=>new Promise(((t,r)=>{e.getProperty("metadata",(e=>t(e))),e.on("error",r)}))}async testOperation(e,t){return!0}async runOperation(e,t){e.context&&(t=t?t.merge(e.context):e.context);const r=await this.mediatorResolveQuadPattern.mediate({pattern:e,context:t}),u=o.getVariables(e),c=o.getMetadata(r.data),l=a.reduceTerms(e,((e,t,r)=>(o.isTermVariable(t)&&(e[r]=s.termToString(t)),e)),{}),p=(e,t,r)=>{const n=l[r];return n&&(e[n]=t),e};return{type:"bindings",bindingsStream:new i.TransformIterator((async()=>{let t=r.data;const i=o.getDuplicateElementLinks(e);return i&&(t=t.filter((e=>{for(const t of a.TRIPLE_TERM_NAMES)for(const r of i[t]||[])if(!e[t].equals(e[r]))return!1;return!0}))),t.map((e=>n.Bindings(a.reduceTerms(e,p,{}))),{autoStart:!0,maxBufferSize:128})}),{autoStart:!1}),variables:u,metadata:c,canContainUndefs:!1}}}t.ActorQueryOperationQuadpattern=o},6790:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5921),t)},5921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationReducedHash=void 0;const n=r(3828),i=r(9593);class s extends n.AbstractBindingsHash{constructor(e){super(e,"reduced")}newHashFilter(e,t){const r=new i({max:this.cacheSize});return i=>{const s=n.AbstractFilterHash.hash(e,t,i);return!r.has(s)&&r.set(s,!0)}}}t.ActorQueryOperationReducedHash=s},2885:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2063),t)},2063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationService=void 0;const n=r(7213),i=r(8575),s=r(1709),a=r(4005);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,t){if("NamedNode"!==e.name.termType)throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,t){const r=e.name.value;let o=(t=t||s.ActionContext({})).delete(i.KEY_CONTEXT_SOURCE).delete(i.KEY_CONTEXT_SOURCES);const u=this.forceSparqlEndpoint?"sparql":"auto";let c;o=o.set(i.KEY_CONTEXT_SOURCES,[{type:u,value:r}]);try{c=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:o}))}catch(t){if(!e.silent)throw t;c={bindingsStream:new a.SingletonIterator(n.Bindings({})),type:"bindings",variables:[],canContainUndefs:!1}}return c}}t.ActorQueryOperationService=o},2299:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3078),t)},3078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationSlice=void 0;const n=r(7213);class i extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),n=this.sliceMetadata(r,e);if("bindings"===r.type){const t=r;return{type:"bindings",bindingsStream:this.sliceStream(t.bindingsStream,e),metadata:n,variables:t.variables,canContainUndefs:t.canContainUndefs}}if("quads"===r.type){const t=r;return{type:"quads",quadStream:this.sliceStream(t.quadStream,e),metadata:n}}throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${r.type}'`)}sliceStream(e,t){const r=Boolean(t.length)||0===t.length,{start:n}=t,i=r?t.start+t.length-1:1/0;return e.transform({offset:n,limit:Math.max(i-n+1,0),autoStart:!1})}sliceMetadata(e,t){const r=Boolean(t.length)||0===t.length;return e.metadata?()=>e.metadata().then((e=>{let{totalItems:n}=e;return Number.isFinite(n)&&(n=Math.max(0,n-t.start),r&&(n=Math.min(n,t.length))),Object.assign(Object.assign({},e),{totalItems:n})})):void 0}}t.ActorQueryOperationSlice=i},5766:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4810),t)},4810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUnion=void 0;const n=r(7213),i=r(4005);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){const t=e.reduce(((e,t)=>[...e,...t]),[]);return[...new Set(t)]}static unionMetadata(e){let t=0;for(const r of e){if(!r.totalItems||!Number.isFinite(r.totalItems)){t=1/0;break}t+=r.totalItems}return{totalItems:t}}async testOperation(e,t){return!0}async runOperation(e,t){const r=(await Promise.all([this.mediatorQueryOperation.mediate({operation:e.left,context:t}),this.mediatorQueryOperation.mediate({operation:e.right,context:t})])).map(n.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new i.UnionIterator(r.map((e=>e.bindingsStream)),{autoStart:!1}),metadata:r[0].metadata&&r[1].metadata?()=>Promise.all([r[0].metadata(),r[1].metadata()]).then(s.unionMetadata):void 0,variables:s.unionVariables(r.map((e=>e.variables))),canContainUndefs:r.reduce(((e,t)=>e||t.canContainUndefs),!1)}}}t.ActorQueryOperationUnion=s},963:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8374),t)},8374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationValues=void 0;const n=r(7213),i=r(4005),s=r(2086);class a extends n.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,t){return!0}async runOperation(e,t){const r=new i.ArrayIterator(e.bindings.map((e=>n.Bindings(e)))),a=e.variables.map((e=>s.termToString(e))),o=e.bindings.some((e=>a.some((t=>!(t in e)))));return{type:"bindings",bindingsStream:r,metadata:()=>Promise.resolve({totalItems:e.bindings.length}),variables:a,canContainUndefs:o}}}t.ActorQueryOperationValues=a},6474:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9401),t)},9401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiSmallest=void 0;const n=r(7213),i=r(2444);class s extends i.ActorRdfJoin{constructor(e){super(e,3,!0)}static getSmallestPatternId(e){let t=-1,r=1/0;for(const[n,i]of e.entries())i<=r&&(r=i,t=n);return t}async getOutput(e){const t=e.entries.slice(),r=(await Promise.all(e.entries.map((e=>n.getMetadata(e))))).map((e=>"totalItems"in e?e.totalItems:1/0)),i=s.getSmallestPatternId(r),a=t.splice(i,1)[0],o=(r.splice(i,1),s.getSmallestPatternId(r)),u=t.splice(o,1)[0],c=(r.splice(o,1),await this.mediatorJoin.mediate({entries:[a,u]}));return t.push(c),await this.mediatorJoin.mediate({entries:t})}async getIterations(e){return(await Promise.all(e.entries.map((e=>n.getMetadata(e))))).reduce(((e,t)=>e*t.totalItems),1)}}t.ActorRdfJoinMultiSmallest=s},3836:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2654),t)},2654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinNestedLoop=void 0;const n=r(7213),i=r(2444),s=r(9912);class a extends i.ActorRdfJoin{constructor(e){super(e,2,void 0,!0)}async getOutput(e){return{type:"bindings",bindingsStream:new s.NestedLoopJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,i.ActorRdfJoin.join,{autoStart:!1}),variables:i.ActorRdfJoin.joinVariables(e),canContainUndefs:e.entries.reduce(((e,t)=>e||t.canContainUndefs),!1)}}async getIterations(e){return(await n.getMetadata(e.entries[0])).totalItems*(await n.getMetadata(e.entries[1])).totalItems}}t.ActorRdfJoinNestedLoop=a},4357:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2460),t)},2460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinSymmetricHash=void 0;const n=r(7213),i=r(2444),s=r(9912);class a extends i.ActorRdfJoin{constructor(e){super(e,2)}static hash(e,t){return t.filter((t=>e.has(t))).map((t=>e.get(t).value)).join("")}async getOutput(e){const t=i.ActorRdfJoin.overlappingVariables(e);return{type:"bindings",bindingsStream:new s.SymmetricHashJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,(e=>a.hash(e,t)),i.ActorRdfJoin.join),variables:i.ActorRdfJoin.joinVariables(e),canContainUndefs:!1}}async getIterations(e){return(await n.getMetadata(e.entries[0])).totalItems+(await n.getMetadata(e.entries[1])).totalItems}}t.ActorRdfJoinSymmetricHash=a},1361:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2410),t)},2410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataAll=void 0;const n=r(2413),i=r(4289);class s extends i.ActorRdfMetadata{constructor(e){super(e)}async test(e){return!0}async run(e){const t=new n.Readable({objectMode:!0}),r=new n.Readable({objectMode:!0});return t._read=r._read=()=>{t._read=r._read=()=>{},e.quads.on("error",(e=>{t.emit("error",e),r.emit("error",e)})),e.quads.on("data",(e=>{t.push(e),r.push(e)})),e.quads.on("end",(()=>{t.push(null),r.push(null)}))},{data:t,metadata:r}}}t.ActorRdfMetadataAll=s},2349:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9616),t)},9616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataPrimaryTopic=void 0;const n=r(2413),i=r(4289);class s extends i.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){const t=new n.Readable({objectMode:!0}),r=new n.Readable({objectMode:!0}),i=()=>{t._read=r._read=()=>{},e.quads.on("error",(e=>{t.emit("error",e),r.emit("error",e)}));const n={};let i;const s={};e.quads.on("data",(t=>{"http://rdfs.org/ns/void#subset"===t.predicate.value&&t.object.value===e.url?i=t.subject.value:"http://xmlns.com/foaf/0.1/primaryTopic"===t.predicate.value&&(s[t.object.value]=t.subject.value);let r=n[t.graph.value];r||(r=n[t.graph.value]=[]),r.push(t)})),e.quads.on("end",(()=>{const e=i?s[i]:void 0;for(const i in n)if(i===e){for(const e of n[i])r.push(e);if(this.metadataToData)for(const e of n[i])t.push(e)}else{for(const e of n[i])t.push(e);if(!e&&this.dataToMetadataOnInvalidMetadataGraph)for(const e of n[i])r.push(e)}t.push(null),r.push(null)}))};return t._read=r._read=()=>{i()},{data:t,metadata:r}}}t.ActorRdfMetadataPrimaryTopic=s},4187:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9613),t)},9613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinksNext=void 0;const n=r(5413);class i extends n.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{urls:[e.metadata.next]}}}t.ActorRdfResolveHypermediaLinksNext=i},355:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1261),t)},1261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaNone=void 0;const n=r(598),i=r(8130),s=r(5751);class a extends i.ActorRdfResolveHypermedia{constructor(e){super(e,"file")}async testMetadata(e){return{filterFactor:0}}async run(e){return this.logInfo(e.context,"Identified as file source: "+e.url),{source:new n.RdfJsQuadSource(await s.storeStream(e.quads))}}}t.ActorRdfResolveHypermediaNone=a},598:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5112),t),i(r(5534),t),i(r(8568),t)},5112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPatternRdfJsSource=void 0;const n=r(8575),i=r(8568);class s extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!this.hasContextSingleSourceOfType("rdfjsSource",e.context))throw new Error(this.name+" requires a single source with an rdfjsSource to be present in the context.");const t=this.getContextSource(e.context);if(!t||"string"==typeof t||!("match"in t)&&!t.value.match)throw new Error(this.name+" received an invalid rdfjsSource.");return!0}async getSource(e){const t=this.getContextSource(e);return new i.RdfJsQuadSource("match"in t?t:t.value)}}t.ActorRdfResolveQuadPatternRdfJsSource=s},5534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RdfJsQuadSource=void 0;const n=r(4005);class i{constructor(e){this.source=e}static nullifyVariables(e){return e&&"Variable"!==e.termType?e:void 0}match(e,t,r,s){const a=this.source.match(i.nullifyVariables(e),i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(s)),o=n.wrap(a,{autoStart:!1});return this.setMetadata(o,e,t,r,s).catch((e=>o.destroy(e))),o}async setMetadata(e,t,r,n,s){let a;if(this.source.countQuads)a=await this.source.countQuads(i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(n),i.nullifyVariables(s));else{let e=0;a=await new Promise(((a,o)=>{const u=this.source.match(i.nullifyVariables(t),i.nullifyVariables(r),i.nullifyVariables(n),i.nullifyVariables(s));u.on("error",o),u.on("end",(()=>a(e))),u.on("data",(()=>e++))}))}e.setProperty("metadata",{totalItems:a})}}t.RdfJsQuadSource=i},7489:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4243),t)},4243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeJsonLd=void 0;const n=r(4264),i=r(2207);class s extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){return{data:new i.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)}).import(e.quadStream)}}}t.ActorRdfSerializeJsonLd=s},6051:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8070),t)},8070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlParseAlgebra=void 0;const n=r(9725),i=r(1938),s=r(9619);class a extends n.ActorSparqlParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&"sparql"!==e.queryFormat)throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){const t=new s.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI});t._resetBlanks();const r=t.parse(e.query);return{baseIRI:"query"===r.type?r.base:void 0,operation:i.translate(r,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}}t.ActorSparqlParseAlgebra=a},1965:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8569),t)},8569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeSparqlCsv=void 0;const n=r(2413),i=r(8432);class s extends i.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let t=e.value;return t="Literal"===e.termType?""+t:"BlankNode"===e.termType?"_:"+t:`<${t}>`,/[",\n\r]/u.exec(t)&&(t=`"${t.replace(/"/gu,'""')}"`),t}async testHandleChecked(e,t){if("bindings"!==e.type)throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,t,r){const i=e,a=new n.Readable;return a._read=()=>{},a.push(i.variables.map((e=>e.slice(1))).join(",")+"\r\n"),i.bindingsStream.on("error",(e=>{a.emit("error",e)})),i.bindingsStream.on("data",(e=>{a.push(i.variables.map((t=>s.bindingToCsvBindings(e.get(t)))).join(",")+"\r\n")})),i.bindingsStream.on("end",(()=>{a.push(null)})),{data:a}}}t.ActorSparqlSerializeSparqlCsv=s},9390:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1381),t),i(r(8048),t)},1381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserverHttp=void 0;const n=r(1709);class i extends n.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this)}onRun(e,t,r){this.requests++}}t.ActionObserverHttp=i},8048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeStats=void 0;const n=r(2413),i=r(8432);class s extends i.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){const t=["Result","Delay (ms)","HTTP requests"].join(",");e.push(t+"\n")}pushStat(e,t,r){const n=[r,this.delay(t),this.httpObserver.requests].join(",");e.push(n+"\n")}pushFooter(e,t){const r=["TOTAL",this.delay(t),this.httpObserver.requests].join(",");e.push(r+"\n"),e.push(null)}async runHandle(e,t,r){const i=new n.Readable;i._read=()=>{};const s="bindings"===e.type?e.bindingsStream:e.quadStream,a=process.hrtime();let o=1;return this.pushHeader(i),s.on("error",(e=>i.emit("error",e))),s.on("data",(()=>this.pushStat(i,a,o++))),s.on("end",(()=>this.pushFooter(i,a))),{data:i}}delay(e){const t=process.hrtime(e);return 1e3*t[0]+t[1]/1e6}}t.ActorSparqlSerializeStats=s},1619:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0,i(r(3696),t);const s=r(3696),{bindingsStreamToGraphQl:a}=s.ActorSparqlSerializeTree;t.bindingsStreamToGraphQl=a},3696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeTree=void 0;const n=r(2413),i=r(8432),s=r(1709),a=r(6610);class o extends i.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,t,r){const n=s.ensureActionContext(t);return new Promise(((t,i)=>{const s=[],o=new a.Converter(r),u={singularizeVariables:n.get("@comunica/actor-init-sparql:singularizeVariables")||{}};e.on("error",i),e.on("data",(e=>{const t=e.toJS(),r={};for(const e in t)r[e.slice(1)]=t[e];s.push(r)})),e.on("end",(()=>{t(o.bindingsToTree(s,u))}))}))}async testHandleChecked(e){if("bindings"!==e.type)throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,t){const r=new n.Readable;r._read=()=>{};const i=e.bindingsStream;return i.on("error",(e=>r.emit("error",e))),o.bindingsStreamToGraphQl(i,e.context,{materializeRdfJsTerms:!0}).then((e=>{r.push(JSON.stringify(e,null,"  ")),r.push(null)})).catch((e=>r.emit("error",e))),{data:r}}}t.ActorSparqlSerializeTree=o},7941:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9703),t),i(r(1779),t)},9703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidate=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorHttpInvalidate=i},1779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidateListenable=void 0;const n=r(9703);class i extends n.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const t of this.invalidateListeners)t(e);return!0}}t.ActorHttpInvalidateListenable=i},4864:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6483),t)},6483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_AUTH=t.KEY_CONTEXT_INCLUDE_CREDENTIALS=t.ActorHttp=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}static toNodeReadable(e){return r(4970)(e)?e:r(6634).toNodeReadable(e)}static headersToHash(e){const t={};return e.forEach(((e,r)=>{t[r]=e})),t}}t.ActorHttp=i,t.KEY_CONTEXT_INCLUDE_CREDENTIALS="@comunica/bus-http:include-credentials",t.KEY_CONTEXT_AUTH="@comunica/bus-http:auth"},8147:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(206),t)},206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorInit=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorInit=i},9557:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1569),t)},1569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperation=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorOptimizeQueryOperation=i},7213:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5825),t),i(r(9437),t),i(r(9537),t),i(r(9438),t)},5825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=t.ActorQueryOperation=t.KEY_CONTEXT_QUERY_TIMESTAMP=t.KEY_CONTEXT_BASEIRI=t.KEY_CONTEXT_PATTERN_PARENTMETADATA=t.KEY_CONTEXT_BGP_PATTERNBINDINGS=t.KEY_CONTEXT_BGP_PARENTMETADATA=t.KEY_CONTEXT_BGP_CURRENTMETADATA=void 0;const n=r(1709),i=r(9438);t.KEY_CONTEXT_BGP_CURRENTMETADATA="@comunica/bus-query-operation:bgpCurrentMetadata",t.KEY_CONTEXT_BGP_PARENTMETADATA="@comunica/bus-query-operation:bgpParentMetadata",t.KEY_CONTEXT_BGP_PATTERNBINDINGS="@comunica/bus-query-operation:bgpPatternBindings",t.KEY_CONTEXT_PATTERN_PARENTMETADATA="@comunica/bus-query-operation:patternParentMetadata",t.KEY_CONTEXT_BASEIRI="@comunica/actor-init-sparql:baseIRI",t.KEY_CONTEXT_QUERY_TIMESTAMP="@comunica/actor-init-sparql:queryTimestamp";class s extends n.Actor{constructor(e){super(e)}static getSafeBindings(e){return s.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return s.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return s.validateQueryOutput(e,"boolean"),e}static cachifyMetadata(e){let t;return e&&(()=>t||(t=e()))}static validateQueryOutput(e,t){if(e.type!==t)throw new Error(`Invalid query output type: Expected '${t}' but got '${e.type}'`)}static getExpressionContext(e,r){if(e){const n=e.get(t.KEY_CONTEXT_QUERY_TIMESTAMP),i=e.get(t.KEY_CONTEXT_BASEIRI);return Object.assign({now:n,baseIRI:i},r?{exists:s.createExistenceResolver(e,r)}:{})}return{}}static createExistenceResolver(e,t){return async(r,n)=>{const a=i.materializeOperation(r.input,n),o=await t.mediate({operation:a,context:e}),u=s.getSafeBindings(o);return new Promise(((e,t)=>{u.bindingsStream.on("end",(()=>{e(!1)})),u.bindingsStream.on("error",t),u.bindingsStream.on("data",(()=>{u.bindingsStream.close(),e(!0)}))})).then((e=>r.not?!e:e))}}}t.ActorQueryOperation=s,t.getMetadata=function(e){return e.metadata?e.metadata():Promise.resolve({})}},9437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTyped=t.KEY_CONTEXT_QUERYOPERATION=void 0;const n=r(5825);t.KEY_CONTEXT_QUERYOPERATION="@comunica/bus-query-operation:operation";class i extends n.ActorQueryOperation{constructor(e,t){if(super(Object.assign(Object.assign({},e),{operationName:t})),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e.operation.type}`);const t=e.operation;return this.testOperation(t,e.context)}async run(e){const r=e.operation,i=e.context&&e.context.set(t.KEY_CONTEXT_QUERYOPERATION,r),s=await this.runOperation(r,i);return s.metadata&&(s.metadata=n.ActorQueryOperation.cachifyMetadata(s.metadata)),s}}t.ActorQueryOperationTyped=i},9537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTypedMediated=void 0;const n=r(9437);class i extends n.ActorQueryOperationTyped{constructor(e,t){super(e,t)}}t.ActorQueryOperationTypedMediated=i},9438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materializeOperation=t.materializeTerm=t.ensureBindings=t.isBindings=t.Bindings=void 0;const n=r(3393),i=r(2086),s=r(1938);function a(e){return n.Map(e)}function o(e){return n.Map.isMap(e)}function u(e,t){if("Variable"===e.termType){const r=t.get(i.termToString(e));if(r)return r}return e}t.Bindings=a,t.isBindings=o,t.ensureBindings=function(e){return o(e)?e:a(e)},t.materializeTerm=u,t.materializeOperation=function e(t,r,n=!1){return s.Util.mapOperation(t,{path:(e,t)=>({recurse:!1,result:t.createPath(u(e.subject,r),e.predicate,u(e.object,r),u(e.graph,r))}),pattern:(e,t)=>({recurse:!1,result:t.createPattern(u(e.subject,r),u(e.predicate,r),u(e.object,r),u(e.graph,r))}),extend(t){if(r.has(i.termToString(t.variable))){if(n)throw new Error(`Tried to bind variable ${i.termToString(t.variable)} in a BIND operator.`);return{recurse:!0,result:e(t.input,r,n)}}return{recurse:!0,result:t}},group(e,t){if(n){for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a GROUP BY operator.`);return{recurse:!0,result:e}}const s=e.variables.filter((e=>!r.has(i.termToString(e))));return{recurse:!0,result:t.createGroup(e.input,s,e.aggregates)}},project(e,t){if(n){for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a SELECT operator.`);return{recurse:!0,result:e}}const s=e.variables.filter((e=>!r.has(i.termToString(e))));return{recurse:!0,result:t.createProject(e.input,s)}},values(e,t){if(!n){const n=e.variables.filter((e=>!r.has(i.termToString(e)))),s=e.bindings.map((e=>{const t=Object.assign({},e);return r.forEach(((e,r)=>delete t[r])),t}));return{recurse:!0,result:t.createValues(n,s)}}for(const t of e.variables)if(r.has(i.termToString(t)))throw new Error(`Tried to bind variable ${i.termToString(t)} in a VALUES operator.`);return{recurse:!1,result:e}},expression(e,t){if("term"===e.expressionType)return{recurse:!1,result:t.createTermExpression(u(e.term,r))};if("aggregate"===e.expressionType&&"variable"in e&&r.has(i.termToString(e.variable))){if(n)throw new Error(`Tried to bind ${i.termToString(e.variable)} in a ${e.aggregator} aggregate.`);return{recurse:!0,result:e}}return{recurse:!0,result:e}}})}},2444:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9949),t)},9949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoin=void 0;const n=r(1709),i=r(4005);class s extends n.Actor{constructor(e,t,r,n){super(e),this.limitEntries=null!=t?t:1/0,this.limitEntriesMin=null!=r&&r,this.canHandleUndefs=null!=n&&n}static overlappingVariables(e){const t=e.entries.map((e=>e.variables));let r=t[0];for(const e of t.slice(1))r=r.filter((t=>e.includes(t)));return r}static joinVariables(e){const t=e.entries.map((e=>e.variables)).reduce(((e,t)=>[...e,...t]),[]);return[...new Set(t)]}static join(...e){try{return e.reduce(((e,t)=>e.mergeWith(((e,t)=>{if(!e.equals(t))throw new Error("Join failure");return e}),t)))}catch(e){return null}}static async iteratorsHaveMetadata(e,t){return Promise.all(e.entries.map((async e=>{if(!e.metadata)throw new Error("Missing metadata");const r=await e.metadata();if(!(t in r))throw new Error("Missing metadata value")}))).then((()=>!0)).catch((()=>!1))}async test(e){if(e.entries.length<=1)return{iterations:0};if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} sources at ${this.limitEntriesMin?"least":"most"}. The input contained ${e.entries.length}.`);for(const t of e.entries)if("bindings"!==t.type)throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${t.type}'`);if(!this.canHandleUndefs)for(const t of e.entries)if(t.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`);return await s.iteratorsHaveMetadata(e,"totalItems")?{iterations:await this.getIterations(e)}:{iterations:1/0}}async run(e){if(0===e.entries.length)return{bindingsStream:new i.ArrayIterator([],{autoStart:!1}),metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[],canContainUndefs:!1};if(1===e.entries.length)return e.entries[0];const t=this.getOutput(e);function r(){return Promise.all(e.entries.map((e=>e.metadata()))).then((e=>e.reduce(((e,t)=>e*t.totalItems),1)))}if(await s.iteratorsHaveMetadata(e,"totalItems")){const e=await t;if(e.metadata){const t=e.metadata;e.metadata=()=>t().then((async e=>("totalItems"in e||(e.totalItems=await r()),e)))}else e.metadata=()=>r().then((e=>({totalItems:e})));return e}return t}}t.ActorRdfJoin=s},4289:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5837),t),i(r(8687),t)},5837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadata=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfMetadata=i},8687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataQuadPredicate=void 0;const n=r(2413),i=r(5837);class s extends i.ActorRdfMetadata{constructor(e){super(e)}async run(e){const t=new n.Readable({objectMode:!0}),r=new n.Readable({objectMode:!0}),i=()=>{t._read=r._read=()=>{},e.quads.on("error",(e=>{t.emit("error",e),r.emit("error",e)}));const n={};e.quads.on("data",(i=>{this.isMetadata(i,e.url,n)?r.push(i):t.push(i)})),e.quads.on("end",(()=>{t.push(null),r.push(null)}))};return t._read=r._read=()=>{i()},{data:t,metadata:r}}}t.ActorRdfMetadataQuadPredicate=s},5413:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8457),t)},8457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermediaLinks=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfResolveHypermediaLinks=i},8130:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6864),t)},6864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveHypermedia=void 0;const n=r(1709);class i extends n.Actor{constructor(e,t){super(e),this.sourceType=t}async test(e){if(e.forceSourceType&&this.sourceType!==e.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${e.forceSourceType}.`);return this.testMetadata(e)}}t.ActorRdfResolveHypermedia=i},8575:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9583),t),i(r(8883),t)},9583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPattern=t.getDataSourceContext=t.getDataSourceValue=t.getDataSourceType=t.isDataSourceRawType=t.KEY_CONTEXT_SOURCE=t.KEY_CONTEXT_SOURCES=void 0;const n=r(1709);function i(e){return"string"==typeof e||"match"in e}function s(e){return"string"==typeof e?"":"match"in e?"rdfjsSource":e.type}function a(e){return i(e)?e:e.value}t.KEY_CONTEXT_SOURCES="@comunica/bus-rdf-resolve-quad-pattern:sources",t.KEY_CONTEXT_SOURCE="@comunica/bus-rdf-resolve-quad-pattern:source",t.isDataSourceRawType=i,t.getDataSourceType=s,t.getDataSourceValue=a,t.getDataSourceContext=function(e,t){return"string"==typeof e||"match"in e||!e.context?t:t.merge(e.context)};class o extends n.Actor{constructor(e){super(e)}getContextSources(e){return e?e.get(t.KEY_CONTEXT_SOURCES):void 0}getContextSource(e){return e?e.get(t.KEY_CONTEXT_SOURCE):void 0}getContextSourceUrl(e){if(e){let t=a(e);if("string"==typeof t){const e=t.indexOf("#");return e>=0&&(t=t.slice(0,e)),t}}}hasContextSingleSource(e){const t=this.getContextSource(e);return Boolean(t&&(i(t)||t.value))}hasContextSingleSourceOfType(e,t){const r=this.getContextSource(t);return Boolean(r&&s(r)===e&&a(r))}}t.ActorRdfResolveQuadPattern=o},8883:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfResolveQuadPatternSource=void 0;const n=r(9583);class i extends n.ActorRdfResolveQuadPattern{constructor(e){super(e)}async test(e){return!0}async run(e){const t=await this.getSource(e.context,e.pattern);return await this.getOutput(t,e.pattern,e.context)}async getOutput(e,t,r){return{data:e.match(t.subject,t.predicate,t.object,t.graph)}}}t.ActorRdfResolveQuadPatternSource=i},4264:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(230),t),i(r(6155),t)},230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerialize=void 0;const n=r(2318);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorRdfSerialize=i},6155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeFixedMediaTypes=void 0;const n=r(2318);class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}t.ActorRdfSerializeFixedMediaTypes=i},9725:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5173),t)},5173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlParse=void 0;const n=r(1709);class i extends n.Actor{constructor(e){super(e)}}t.ActorSparqlParse=i},8432:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4573),t),i(r(8475),t)},4573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerialize=void 0;const n=r(2318);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorSparqlSerialize=i},8475:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorSparqlSerializeFixedMediaTypes=void 0;const n=r(2318);class i extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,t){return!0}}t.ActorSparqlSerializeFixedMediaTypes=i},1709:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),process&&process.env.COMUNICA_DEBUG||(Error.stackTraceLimit=!1),i(r(5090),t),i(r(8039),t),i(r(6195),t),i(r(1863),t),i(r(9784),t),i(r(2372),t)},6195:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserver=void 0,t.ActionObserver=class{constructor(e){Object.assign(this,e)}}},1863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureActionContext=t.ActionContext=t.Actor=void 0;const n=r(3393),i=r(9784);class s{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e&&e.get(i.KEY_CONTEXT_LOG)}runObservable(e){const t=this.run(e);return this.bus.onRun(this,e,t),t}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,t){const r=t?t():{};return r.actor=this.name,r}logTrace(e,t,r){const n=s.getContextLogger(e);n&&n.trace(t,this.getDefaultLogData(e,r))}logDebug(e,t,r){const n=s.getContextLogger(e);n&&n.debug(t,this.getDefaultLogData(e,r))}logInfo(e,t,r){const n=s.getContextLogger(e);n&&n.info(t,this.getDefaultLogData(e,r))}logWarn(e,t,r){const n=s.getContextLogger(e);n&&n.warn(t,this.getDefaultLogData(e,r))}logError(e,t,r){const n=s.getContextLogger(e);n&&n.error(t,this.getDefaultLogData(e,r))}logFatal(e,t,r){const n=s.getContextLogger(e);n&&n.fatal(t,this.getDefaultLogData(e,r))}}function a(e){return n.Map(e)}t.Actor=s,t.ActionContext=a,t.ensureActionContext=function(e){return n.Map.isMap(e)?e:a(e)}},5090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bus=void 0,t.Bus=class{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const t=this.actors.indexOf(e);return t>=0&&(this.actors.splice(t,1),!0)}unsubscribeObserver(e){const t=this.observers.indexOf(e);return t>=0&&(this.observers.splice(t,1),!0)}publish(e){return this.actors.map((t=>({actor:t,reply:t.test(e)})))}onRun(e,t,r){for(const n of this.observers)n.onRun(e,t,r)}addDependencies(e,t){for(const r of t){let t=this.dependencyLinks.get(r);t||(t=[],this.dependencyLinks.set(r,t)),t.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const t of this.dependencyLinks.keys()){const r=this.actors.indexOf(t);r>=0&&(this.actors.splice(r,1),e.push(t))}for(;e.length>0;){let t=-1;for(let r=0;r<e.length;r++){let n=!0;for(const t of this.dependencyLinks.get(e[r]))if(!this.actors.includes(t)&&e.includes(t)){n=!1;break}if(n){t=r;break}}if(t<0)throw new Error("Cyclic dependency links detected in bus "+this.name);const r=e.splice(t,1)[0];this.actors.push(r)}}}}},8039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusIndexed=void 0;const n=r(5090);class i extends n.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const t=this.getActorIdentifier(e)||"_undefined_";let r=this.actorsIndex[t];r||(r=this.actorsIndex[t]=[]),r.push(e),super.subscribe(e)}unsubscribe(e){const t=this.getActorIdentifier(e)||"_undefined_",r=this.actorsIndex[t];if(r){const n=r.indexOf(e);n>=0&&r.splice(n,1),0===r.length&&delete this.actorsIndex[t]}return super.unsubscribe(e)}publish(e){const t=this.getActionIdentifier(e);return t?(this.actorsIndex[t]||[]).concat(this.actorsIndex._undefined_||[]).map((t=>({actor:t,reply:t.test(e)}))):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce(((e,t)=>e[t]),e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce(((e,t)=>e[t]),e)}}t.BusIndexed=i},9784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CONTEXT_LOG=t.Logger=void 0;class r{static getLevelOrdinal(e){return r.LEVELS[e]}}t.Logger=r,r.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},t.KEY_CONTEXT_LOG="@comunica/core:log"},2372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mediator=void 0,t.Mediator=class{constructor(e){Object.assign(this,e)}publish(e){const t=this.bus.publish(e);if(0===t.length)throw new Error("No actors are able to reply to a message in the bus "+this.bus.name);return t}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}},5093:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7081),t)},7081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNodeScoped=void 0,t.BlankNodeScoped=class{constructor(e,t){this.termType="BlankNode",this.value=e,this.skolemized=t}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},4292:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1989),t)},1989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerVoid=void 0;const n=r(1709);class i extends n.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}t.LoggerVoid=i},7930:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3038),t)},3038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorAll=void 0;const n=r(1709);class i extends n.Mediator{constructor(e){super(e)}async mediate(e){const t=[];let r;try{r=this.publish(e)}catch(e){r=[]}for(const e of r)try{await e.reply,t.push(e.actor)}catch(e){}return(await Promise.all(t.map((t=>t.runObservable(e)))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}t.MediatorAll=i},4437:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1611),t)},1611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombinePipeline=void 0;const n=r(1709);class i extends n.Mediator{constructor(e){super(e)}async mediate(e){let t;try{t=this.publish(e)}catch(t){return e}await Promise.all(t.map((({reply:e})=>e)));let r=e;for(const e of t.map((e=>e.actor)))r=await e.runObservable(r);return r}mediateWith(){throw new Error("Method not supported.")}}t.MediatorCombinePipeline=i},6479:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6544),t)},6544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombineUnion=void 0;const n=r(1709);class i extends n.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let t;try{t=this.publish(e)}catch(e){t=[]}await Promise.all(t.map((({reply:e})=>e)));const r=await Promise.all(t.map((t=>t.actor.runObservable(e))));return this.combiner(r)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const t={};return t[this.field]={},[{}].concat(e.map((e=>e[this.field]))).forEach(((e,r,n)=>{t[this.field]=Object.assign(Object.assign({},e),t[this.field])})),t}}}t.MediatorCombineUnion=i},9114:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3868),t)},3868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorNumber=void 0;const n=r(1709);class i extends n.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case i.MIN:return e=>e.reduce(((e,t,r)=>{const n=this.getOrDefault(t[this.field],1/0);return null!==n&&(Number.isNaN(e[0])||e[0]>n)?[n,r]:e}),[Number.NaN,-1])[1];case i.MAX:return e=>e.reduce(((e,t,r)=>{const n=this.getOrDefault(t[this.field],-1/0);return null!==n&&(Number.isNaN(e[0])||e[0]<n)?[n,r]:e}),[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either ${i.MIN} or ${i.MAX}, but got: ${this.type}`)}}getOrDefault(e,t){return void 0===e?t:e}async mediateWith(e,t){let r=t.map((({reply:e})=>e));const n=[];if(this.ignoreErrors){const e={};e[this.field]=null,r=r.map((t=>t.catch((t=>(n.push(t),e)))))}const i=await Promise.all(r),s=this.indexPicker(i);if(s<0)throw new Error(`All actors rejected their test in ${this.name}\n${n.map((e=>e.message)).join("\n")}`);return t[s].actor}}t.MediatorNumber=i,i.MIN="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",i.MAX="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax"},6277:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8794),t)},8794:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorRace=void 0;const n=r(1709);class i extends n.Mediator{constructor(e){super(e)}mediateWith(e,t){return new Promise(((e,r)=>{const n=[];for(const i of t)i.reply.then((()=>{e(i.actor)})).catch((e=>{n.push(e),n.length===t.length&&r(new Error(`${this.name} mediated over all rejecting actors:\n${n.map((e=>e.message)).join("\n")}`))}))}))}}t.MediatorRace=i},1327:(e,t,r)=>{"use strict";var n=r(7217),i=r(742),s=Buffer.from&&Buffer.from!==Uint8Array.from;function a(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t)}t.parse=function(e,t){var r,o,u=new n,c=i((function(e){"string"==typeof e&&(e=s?Buffer.from(e):new Buffer(e)),u.write(e)}),(function(e){e&&c.write(e),r&&c.emit("header",r),o&&c.emit("footer",o),c.queue(null)}));return"string"==typeof e&&(e=e.split(".").map((function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)}))),e&&e.length||(e=null),u.onValue=function(n){if(this.root||(c.root=n),e){for(var i=0,s=0,o=!1,u=!1;i<e.length;){var p,h=e[i];if(s++,h&&!h.recurse){if(!(p=s===this.stack.length?this:this.stack[s]))return;if(!a(h,p.key))return void l(p.key,n);o=!!h.emitKey,u=!!h.emitPath,i++}else{i++;var d=e[i];if(!d)return;for(;;){if(!(p=s===this.stack.length?this:this.stack[s]))return;if(a(d,p.key)){i++,Object.isFrozen(this.stack[s])||(this.stack[s].value=null);break}l(p.key,n),s++}}}if(r&&(c.emit("header",r),r=!1),s===this.stack.length){var f=this.stack.slice(1).map((function(e){return e.key})).concat([this.key]),y=n;for(var m in null!=y&&null!=(y=t?t(y,f):y)&&((o||u)&&(y={value:y},o&&(y.key=this.key),u&&(y.path=f)),c.queue(y)),this.value&&delete this.value[this.key],this.stack)Object.isFrozen(this.stack[m])||(this.stack[m].value=null)}}},u._onToken=u.onToken,u.onToken=function(t,r){u._onToken(t,r),0===this.stack.length&&c.root&&(e||c.queue(c.root),c.root=null)},u.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),c.emit("error",e)},c;function l(e,t){!1!==r&&((r=r||{})[e]=t),!1!==o&&!1===r&&((o=o||{})[e]=t)}},t.stringify=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="[\n",t="\n,\n",r="\n]\n");var s,a=!0,o=!1;return s=i((function(r){o=!0;try{var i=JSON.stringify(r,null,n)}catch(e){return s.emit("error",e)}a?(a=!1,s.queue(e+i)):s.queue(t+i)}),(function(t){o||s.queue(e),s.queue(r),s.queue(null)}))},t.stringifyObject=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="{\n",t="\n,\n",r="\n}\n");var s=!0,a=!1;return i((function(r){a=!0;var i=JSON.stringify(r[0])+":"+JSON.stringify(r[1],null,n);s?(s=!1,this.queue(e+i)):this.queue(t+i)}),(function(t){a||this.queue(e),this.queue(r),this.queue(null)}))}},4005:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.range=t.union=t.fromArray=t.single=t.empty=t.wrap=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=void 0;const i=r(8614);let s=n(r(3698)).default();t.scheduleTask=function(e){s(e)},t.getTaskScheduler=function(){return s},t.setTaskScheduler=function(e){s=e},t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class a extends i.EventEmitter{constructor(e=t.OPEN){super(),this._readable=!1,this._state=e,this.on("newListener",o)}_changeState(e,r=!1){const n=e>this._state&&this._state<t.ENDED;return n&&(this._state=e,e===t.ENDED&&(r?s((()=>this.emit("end"))):this.emit("end"))),n}read(){return null}forEach(e,t){this.on("data",t?e.bind(t):e)}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(e){this.done||this._destroy(e,(t=>{(e=e||t)&&this.emit("error",e),this._end(!0)}))}_destroy(e,t){t()}_end(e=!1){this._changeState(e?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){s((()=>this._end()))}get readable(){return this._readable}set readable(e){e=Boolean(e)&&!this.done,this._readable!==e&&(this._readable=e,e&&s((()=>this.emit("readable"))))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const e=this._toStringDetails();return`[${this.constructor.name}${e?" "+e:""}]`}_toStringDetails(){return""}getProperty(e,t){const r=this._properties;if(!t)return r&&r[e];if(r&&e in r)s((()=>t(r[e])));else{let r;(r=this._propertyCallbacks)||(this._propertyCallbacks=r=Object.create(null)),e in r?r[e].push(t):r[e]=[t]}}setProperty(e,t){(this._properties||(this._properties=Object.create(null)))[e]=t;const r=this._propertyCallbacks||{},n=r[e];if(n){for(e in delete r[e],s((()=>{for(const e of n)e(t)})),r)return;delete this._propertyCallbacks}}getProperties(){const e=this._properties,t={};for(const r in e)t[r]=e[r];return t}setProperties(e){for(const t in e)this.setProperty(t,e[t])}copyProperties(e,t){for(const r of t)e.getProperty(r,(e=>this.setProperty(r,e)))}transform(e){return new b(this,e)}map(e,t){return this.transform({map:t?e.bind(t):e})}filter(e,t){return this.transform({filter:t?e.bind(t):e})}prepend(e){return this.transform({prepend:e})}append(e){return this.transform({append:e})}surround(e,t){return this.transform({prepend:e,append:t})}skip(e){return this.transform({offset:e})}take(e){return this.transform({limit:e})}range(e,t){return this.transform({offset:e,limit:Math.max(t-e+1,0)})}clone(){return new O(this)}}function o(e){"data"===e&&(this.removeListener("newListener",o),c(this,"readable",u),this.readable&&s((()=>u.call(this))))}function u(){let e;for(;0!==this.listenerCount("data")&&null!==(e=this.read());)this.emit("data",e);0!==this.listenerCount("data")||this.done||(this.removeListener("readable",u),c(this,"newListener",o))}function c(e,t,r){e.listeners(t).includes(r)||e.on(t,r)}t.AsyncIterator=a;class l extends a{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=l;class p extends a{constructor(e){super(),this._item=e,null===e?this.close():this.readable=!0}read(){const e=this._item;return this._item=null,this.close(),e}_toStringDetails(){return null===this._item?"":`(${this._item})`}}t.SingletonIterator=p;class h extends a{constructor(e,{autoStart:t=!0}={}){super();const r=e?[...e]:[];!1!==t&&0===r.length?this.close():(this.readable=!0,this._buffer=r)}read(){let e=null;const t=this._buffer;return t&&(0!==t.length&&(e=t.shift()),0===t.length&&(delete this._buffer,this.close())),e}_toStringDetails(){return`(${this._buffer&&this._buffer.length||0})`}_destroy(e,t){delete this._buffer,t()}}t.ArrayIterator=h;class d extends a{constructor({start:e=0,step:t=1,end:r}={}){super(),Number.isFinite(e)&&(e=Math.trunc(e)),this._next=e,Number.isFinite(t)&&(t=Math.trunc(t)),this._step=t;const n=t>=0,i=n?1/0:-1/0;Number.isFinite(r)?r=Math.trunc(r):r!==-i&&(r=i),this._last=r,!Number.isFinite(e)||(n?e>r:e<r)?this.close():this.readable=!0}read(){if(this.closed)return null;const e=this._next,t=this._step,r=this._last,n=this._next+=t;return(t>=0?n>r:n<r)&&this.close(),e}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=d;class f extends a{constructor({maxBufferSize:e=4,autoStart:r=!0}={}){super(t.INIT),this._buffer=[],this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=e,s((()=>this._init(r)))}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(e){e!==1/0&&(e=Number.isFinite(e)?Math.max(Math.trunc(e),1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===t.OPEN&&this._fillBuffer())}_init(e){let r=!1;this._reading=!0,this._begin((()=>{if(r)throw new Error("done callback called multiple times");r=!0,this._reading=!1,this._changeState(t.OPEN),e?this._fillBufferAsync():this.readable=!0}))}_begin(e){e()}read(){if(this.done)return null;const e=this._buffer;let t;return 0!==e.length?t=e.shift():(t=null,this.readable=!1),!this._reading&&e.length<this._maxBufferSize&&(this.closed?e.length||this._endAsync():this._fillBufferAsync()),t}_read(e,t){t()}_push(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)}_fillBuffer(){let e;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,(()=>{if(!e)throw new Error("done callback called multiple times");e=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())}))))}_fillBufferAsync(){this._reading||(this._reading=!0,s((()=>{this._reading=!1,this._fillBuffer()})))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush((()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.length||this._endAsync()})))}_destroy(e,t){this._buffer=[],t()}_flush(e){e()}_toStringDetails(){const e=this._buffer,{length:t}=e;return`{${t?`next: ${e[0]}, `:""}buffer: ${t}}`}}t.BufferedIterator=f;class y extends f{constructor(e,t=e||{}){super(t),this._boundPush=e=>this._push(e),I(e)||(e=t.source),this._sourceStarted=!1!==t.autoStart,x(e)?this.source=e:e&&(this._createSource=A(e)?()=>e:e,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(t.optional),this._destroySource=!1!==t.destroySource}get source(){return E(this._createSource)&&this._loadSourceAsync(),this._source}set source(e){const t=this._source=this._validateSource(e);t._destination=this,t.done?this.close():(t.on("end",g),t.on("readable",_),t.on("error",m))}_loadSourceAsync(){E(this._createSource)&&(Promise.resolve(this._createSource()).then((e=>{delete this._createSource,this.source=e,this._fillBuffer()}),(e=>this.emit("error",e))),this._createSource=null)}_validateSource(e,t=!1){if(this._source||void 0!==this._createSource)throw new Error("The source cannot be changed after it has been set");if(!e||!E(e.read)||!E(e.on))throw new Error("Invalid source: "+e);if(!t&&e._destination)throw new Error("The source already has a destination");return e}read(){return this._sourceStarted||(this._sourceStarted=!0),super.read()}_read(e,t){const r=()=>{this._pushedCount<e&&!this.closed?s((()=>this._readAndTransform(r,t))):t()};this._readAndTransform(r,t)}_readAndTransform(e,t){let r;const n=this.source;!n||n.done||null===(r=n.read())?t():this._optional?this._optionalTransform(r,e):this._transform(r,e,this._boundPush)}_optionalTransform(e,t){const r=this._pushedCount;this._transform(e,(()=>{r===this._pushedCount&&this._push(e),t()}),this._boundPush)}_transform(e,t,r){r(e),t()}_closeWhenDone(){this.close()}_end(e){const t=this._source;t&&(t.removeListener("end",g),t.removeListener("error",m),t.removeListener("readable",_),delete t._destination,this._destroySource&&t.destroy()),super._end(e)}}function m(e){this._destination.emit("error",e)}function g(){this._destination._closeWhenDone()}function _(){!1!==this._destination._sourceStarted&&this._destination._fillBuffer()}t.TransformIterator=y;class b extends y{constructor(e,t){if(super(e,t),this._offset=0,this._limit=1/0,this._filter=e=>!0,t=t||(I(e)?null:e)){const e=E(t)?t:t.transform,{limit:r,offset:n,filter:i,map:s,prepend:a,append:o}=t;n===1/0||r===-1/0?this._limit=0:(Number.isFinite(n)&&(this._offset=Math.max(Math.trunc(n),0)),Number.isFinite(r)&&(this._limit=Math.max(Math.trunc(r),0)),E(i)&&(this._filter=i),E(s)&&(this._map=s),this._transform=E(e)?e:null),a&&(this._prepender=x(a)?a:T(a)),o&&(this._appender=x(o)?o:T(o))}}_read(e,t){const r=()=>this._readAndTransformSimple(e,n,t);function n(){s(r)}this._readAndTransformSimple(e,n,t)}_readAndTransformSimple(e,t,r){let n;const{source:i}=this;if(i&&!i.done){for(0===this._limit&&this.close();!this.closed&&this._pushedCount<e&&null!==(n=i.read());){if(!this._filter(n)||0!==this._offset&&this._offset--)continue;const e=void 0===this._map?n:this._map(n);if(null===e)this._optional&&this._push(n);else{if(E(this._transform))return void(this._optional?this._optionalTransform(e,t):this._transform(e,t,this._boundPush));this._push(e)}0==--this._limit&&this.close()}r()}else r()}_begin(e){this._insert(this._prepender,e),delete this._prepender}_flush(e){this._insert(this._appender,e),delete this._appender}_insert(e,t){const r=e=>this._push(e);!e||e.done?t():(e.on("data",r),e.on("end",(function n(){e.removeListener("data",r),e.removeListener("end",n),t()})))}}t.SimpleTransformIterator=b,t.MultiTransformIterator=class extends y{constructor(e,t){if(super(e,t),this._transformerQueue=[],t){const e=E(t)?t:t.multiTransform;e&&(this._createTransformer=e)}}_read(e,t){const r=this._transformerQueue,n=this._optional;let i,s;for(;(i=r[0])&&i.transformer.done;){n&&null!==i.item&&(e--,this._push(i.item)),r.shift();const{transformer:t}=i;t.removeListener("end",_),t.removeListener("readable",_),t.removeListener("error",m)}const{source:a}=this;for(;a&&!a.done&&r.length<this.maxBufferSize&&(s=a.read(),null!==s);){const e=this._createTransformer(s)||new l;e._destination=this,e.on("end",_),e.on("readable",_),e.on("error",m),r.push({transformer:e,item:s})}if(i=r[0],i){const{transformer:t}=i;for(;e-- >0&&null!==(s=t.read());)this._push(s),n&&(i.item=null)}else a&&a.done&&this.close();t()}_createTransformer(e){return new p(e)}_closeWhenDone(){this._transformerQueue.length||this.close()}};class v extends f{constructor(e,t={}){super(t),this._sources=[],this._currentSource=-1;const r=!1!==t.autoStart;if(x(e))e.on("error",(e=>this.emit("error",e))),this._pending={sources:e},r&&this._loadSources();else if(Array.isArray(e)&&e.length>0)for(const t of e)this._addSource(t);else r&&this.close()}_loadSources(){const e=this._pending.sources;delete this._pending.sources,e.done?(delete this._pending,this.close()):(e.on("data",(e=>{this._addSource(e),this._fillBufferAsync()})),e.on("end",(()=>{delete this._pending,this._fillBuffer()})))}_addSource(e){e.done||(this._sources.push(e),e._destination=this,e.on("error",m),e.on("readable",_),e.on("end",w))}_removeEmptySources(){this._sources=this._sources.filter(((e,t)=>(e.done&&t<=this._currentSource&&this._currentSource--,!e.done))),this._fillBuffer()}_read(e,t){var r;(null===(r=this._pending)||void 0===r?void 0:r.sources)&&this._loadSources();let n,i=0;for(;i!==(i=e);)for(let t=0;t<this._sources.length&&e>0;t++)this._currentSource=(this._currentSource+1)%this._sources.length,null!==(n=this._sources[this._currentSource].read())&&(e--,this._push(n));this._pending||0!==this._sources.length||this.close(),t()}}function w(){this._destination._removeEmptySources()}t.UnionIterator=v;class O extends y{constructor(e){super(e,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){a.prototype.close.call(this)}get source(){return super.source}set source(e){const t=this._source=this._validateSource(e),r=t&&t._destination||(t._destination=new S(t));r.endsAt(0)?this.close():(r.register(this),null!==r.readAt(0)&&(this.readable=!0));const n=this._propertyCallbacks;for(const e in n){const t=n[e];for(const r of t)this._getSourceProperty(e,r)}}_validateSource(e,t=!1){const r=e&&e._destination;return super._validateSource(e,!r||r instanceof S)}getProperty(e,t){const{source:r}=this,n=this._properties,i=n&&e in n;if(!t)return i?n&&n[e]:r&&r.getProperty(e);super.getProperty(e,t),r&&!i&&this._getSourceProperty(e,t)}_getSourceProperty(e,t){this.source.getProperty(e,(r=>{this._properties&&e in this._properties||t(r)}))}getProperties(){const e=this.source?this.source.getProperties():{},t=this._properties;for(const r in t)e[r]=t[r];return e}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){const e=this.source;let t=null;if(!this.done&&e){const r=e._destination;null!==(t=r.readAt(this._readPosition))?this._readPosition++:this.readable=!1,r.endsAt(this._readPosition)&&this.close()}return t}_end(e){const t=this.source,r=null==t?void 0:t._destination;r&&r.unregister(this),f.prototype._end.call(this,e)}}t.ClonedIterator=O;class S{constructor(e){if(this._clones=null,this._history=[],this._source=e,!e.done){const t=()=>{for(const e of this._clones)e.readable=!0},r=e=>{for(const t of this._clones)t.emit("error",e)},n=()=>{for(const e of this._clones)e._readPosition===this._history.length&&e.close();this._clones=null,e.removeListener("end",n),e.removeListener("error",r),e.removeListener("readable",t)};this._clones=[],e.on("end",n),e.on("error",r),e.on("readable",t)}}register(e){null!==this._clones&&this._clones.push(e)}unregister(e){null!==this._clones&&(this._clones=this._clones.filter((t=>t!==e)))}readAt(e){let t=null;return e<this._history.length?t=this._history[e]:this._source.done||null===(t=this._source.read())||(this._history[e]=t),t}endsAt(e){return this._source.done&&this._history.length===e}}function T(e){return new h(e)}function E(e){return"function"==typeof e}function x(e){return e&&"function"==typeof e.on}function A(e){return e&&"function"==typeof e.then}function I(e){return e&&(x(e)||A(e)||E(e))}t.wrap=function(e,t){return new y(e,t)},t.empty=function(){return new l},t.single=function(e){return new p(e)},t.fromArray=T,t.union=function(e){return new v(e)},t.range=function(e,t,r){return new d({start:e,end:t,step:r})}},3698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Promise.resolve(void 0);t.default=function(){const e="function"==typeof queueMicrotask?queueMicrotask:e=>r.then(e);if("undefined"==typeof window)return e;let t=0;return r=>{++t<100?e(r):setTimeout(r,t=0)}}},9912:(e,t,r)=>{const n=r(6404),i=r(1917),s=r(6491),a=r(7454),o=r(3065);e.exports={DynamicNestedLoopJoin:n,HashJoin:i,NestedLoopJoin:s,SymmetricHashJoin:a,MergeStream:o}},6404:(e,t,r)=>{let n=r(4005),i=n.MultiTransformIterator,s=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.funRight=t,this.funJoin=r}_createTransformer(e){return new s(this.funRight(e),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},1917:(e,t,r)=>{let n=r(4005).AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.addedDataListener=!1,this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.readable=!1,this.left.on("end",function(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",(()=>this.readable=!0)),this.right.on("end",(()=>{this.hasResults()||this._end()}))}.bind(this)),this.on("newListener",(e=>{"data"!==e||this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}))}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener()),this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.funJoin(e,this.match);if(null!==t)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let e=this.funHash(this.match);return this.matches=this.leftMap.get(e)||[],this.matchIdx=0,this.read()}_addDataListener(){this.left.on("data",function(e){let t=this.funHash(e);this.leftMap.has(t)||this.leftMap.set(t,[]),this.leftMap.get(t).push(e)}.bind(this))}}},6491:(e,t,r)=>{let n=r(4005),i=n.MultiTransformIterator,s=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r,n){super(e,n),this.right=t,this.funJoin=r,this.on("end",(()=>this.right.close()))}close(){super.close(),this.right.close()}_createTransformer(e){return new s(this.right.clone(),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},7454:(e,t,r)=>{let n=r(4005).AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",(()=>this._cleanup())),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("readable",(()=>this.readable=!0)),this.right.on("readable",(()=>this.readable=!0)),this.left.on("end",(()=>{this.hasResults()||this._end()})),this.right.on("end",(()=>{this.hasResults()||this._end()}))}hasResults(){return!this.left.ended||!this.right.ended||this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(null!==t)return t}this.hasResults()||this._end();let e=null;for(let t=0;t<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===e);++t);if(null===e)return this.readable=!1,null;let t=this.funHash(e),r=this.usedLeft?this.leftMap:this.rightMap;return r.has(t)||r.set(t,[]),r.get(t).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(t)||[],this.matchIdx=0,this.read()}}},3065:(e,t,r)=>{let n=r(4005).AsyncIterator;e.exports=class extends n{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let t of e)t.on("readable",(()=>this.emit("readable"))),t.on("end",(()=>this._removeStream(t)));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let t=this.streams.indexOf(e);t<0||(this.streams.splice(t,1),this.idx>=this.streams.length&&--this.idx,0===this.streams.length&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let e=this.streams[this.idx].read();if(null!==e)return e}return null}}},5456:e=>{"use strict";e.exports=function(e){return function e(t){if(null===t||"object"!=typeof t||null!=t.toJSON)return JSON.stringify(t);if(Array.isArray(t)&&0===t.length)return"[]";if(Array.isArray(t)&&1===t.length)return"["+e(t[0])+"]";if(Array.isArray(t))return"["+t.reduce(((t,r,n)=>(t=1===n?e(t):t)+","+e(r)))+"]";const r=Object.keys(t);return 0===r.length?"{}":1===r.length?"{"+e(r[0])+":"+e(t[r[0]])+"}":"{"+r.sort().reduce(((r,n,i)=>(r=1===i?e(r)+":"+e(t[r]):r)+","+e(n)+":"+e(t[n])))+"}"}(e)}},1027:(e,t,r)=>{var n=r(9509).Buffer,i=r(2413).Transform,s=r(2553).s;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},3482:(e,t,r)=>{"use strict";var n=r(5717),i=r(1167),s=r(9785),a=r(9072),o=r(1027);function u(e){o.call(this,"digest"),this._hash=e}n(u,o),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new u(a(e))}},3776:function(e,t,r){var n;!function(i){"use strict";var s,a,o,u=9e15,c=1e9,l="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},f=!0,y="[DecimalError] ",m=y+"Invalid argument: ",g=y+"Precision limit exceeded",_=y+"crypto unavailable",b=Math.floor,v=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,O=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,S=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,T=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,E=1e7,x=p.length-1,A=h.length-1,I={name:"[object Decimal]"};function j(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(s+=B(r)),s+=n;(r=7-(n=(a=e[t])+"").length)&&(s+=B(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function N(e,t,r){if(e!==~~e||e<t||e>r)throw Error(m+e)}function R(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=v(10,7-t),o=e[i]%s|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==v(10,t-2)-1||(o==s/2||0==o)&&0==(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==v(10,t-3)-1,a}function P(e,t,r){for(var n,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=l.indexOf(e.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),M(e)},I.ceil=function(){return M(new this.constructor(this),this.e+1,2)},I.comparedTo=I.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,c=e.s;if(!a||!o)return u&&c?u!==c?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-c:0;if(u!==c)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},I.cosine=I.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?n=(1/J(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=Y(e,1,t.times(n),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,K(n,r)),n.precision=e,n.rounding=t,M(2==o||3==o?r.neg():r,e,t,!0)):new n(1):new n(NaN)},I.cubeRoot=I.cbrt=function(){var e,t,r,n,i,s,a,o,u,c,l=this,p=l.constructor;if(!l.isFinite()||l.isZero())return new p(l);for(f=!1,(s=l.s*v(l.s*l,1/3))&&Math.abs(s)!=1/0?n=new p(s.toString()):(r=j(l.d),(s=((e=l.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=v(r,1/3),e=b((e+1)/3)-(e%3==(e<0?-1:2)),(n=new p(r=s==1/0?"5e"+e:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),a=(e=p.precision)+3;;)if(c=(u=(o=n).times(o).times(o)).plus(l),n=D(c.plus(l).times(o),c.plus(u),a+2,1),j(o.d).slice(0,a)===(r=j(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(M(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(M(o,e+1,0),o.times(o).times(o).eq(l))){n=o;break}a+=4,i=1}return f=!0,M(n,e,p.rounding,t)},I.decimalPlaces=I.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-b(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},I.dividedBy=I.div=function(e){return D(this,new this.constructor(e))},I.dividedToIntegerBy=I.divToInt=function(e){var t=this.constructor;return M(D(this,new t(e),0,1,1),t.precision,t.rounding)},I.equals=I.eq=function(e){return 0===this.cmp(e)},I.floor=function(){return M(new this.constructor(this),this.e+1,3)},I.greaterThan=I.gt=function(e){return this.cmp(e)>0},I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return 1==t||0===t},I.hyperbolicCosine=I.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/J(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=Y(a,1,s.times(t),new a(1),!0);for(var u,c=e,l=new a(8);c--;)u=s.times(s),s=o.minus(u.times(l.minus(u.times(l))));return M(s,a.precision=r,a.rounding=n,!0)},I.hyperbolicSine=I.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=Y(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=Y(s,2,i=i.times(1/J(5,e)),i,!0);for(var a,o=new s(5),u=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(c))))}return s.precision=t,s.rounding=r,M(i,t,r,!0)},I.hyperbolicTangent=I.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,D(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},I.inverseCosine=I.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,s=r.rounding;return-1!==n?0===n?t.isNeg()?q(r,i,s):new r(0):new r(NaN):t.isZero()?q(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=q(r,i+4,s).times(.5),r.precision=i,r.rounding=s,e.minus(t))},I.inverseHyperbolicCosine=I.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,f=!1,r=r.times(r).minus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},I.inverseHyperbolicSine=I.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,f=!1,r=r.times(r).plus(1).sqrt().plus(r),f=!0,n.precision=e,n.rounding=t,r.ln())},I.inverseHyperbolicTangent=I.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?M(new s(i),e,t,!0):(s.precision=r=n-i.e,i=D(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},I.inverseSine=I.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==t?0===t?((e=q(s,r+4,n).times(.5)).s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},I.inverseTangent=I.atan=function(){var e,t,r,n,i,s,a,o,u,c=this,l=c.constructor,p=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&p+4<=A)return(a=q(l,p+4,h).times(.25)).s=c.s,a}else{if(!c.s)return new l(NaN);if(p+4<=A)return(a=q(l,p+4,h).times(.5)).s=c.s,a}for(l.precision=o=p+10,l.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(o/7),n=1,u=c.times(c),a=new l(c),i=c;-1!==e;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),f=!0,M(a,l.precision=p,l.rounding=h,!0)},I.isFinite=function(){return!!this.d},I.isInteger=I.isInt=function(){return!!this.d&&b(this.e/7)>this.d.length-2},I.isNaN=function(){return!this.s},I.isNegative=I.isNeg=function(){return this.s<0},I.isPositive=I.isPos=function(){return this.s>0},I.isZero=function(){return!!this.d&&0===this.d[0]},I.lessThan=I.lt=function(e){return this.cmp(e)<0},I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1},I.logarithm=I.log=function(e){var t,r,n,i,s,a,o,u,c=this,l=c.constructor,p=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new l(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10==0;)i/=10;s=1!==i}if(f=!1,a=G(c,o=p+5),n=t?F(l,o+10):G(e,o),R((u=D(a,n,o,1)).d,i=p,h))do{if(a=G(c,o+=10),n=t?F(l,o+10):G(e,o),u=D(a,n,o,1),!s){+j(u.d).slice(i+1,i+15)+1==1e14&&(u=M(u,p+1,0));break}}while(R(u.d,i+=10,h));return f=!0,M(u,p,h)},I.minus=I.sub=function(e){var t,r,n,i,s,a,o,u,c,l,p,h,d=this,y=d.constructor;if(e=new y(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new y(e.d||d.s!==e.s?d:NaN):e=new y(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,h=e.d,o=y.precision,u=y.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new y(3===u?-0:0);e=new y(d)}return f?M(e,o,u):e}if(r=b(e.e/7),l=b(d.e/7),c=c.slice(),s=l-r){for((p=s<0)?(t=c,s=-s,a=h.length):(t=h,r=l,a=c.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for((p=(n=c.length)<(a=h.length))&&(a=n),n=0;n<a;n++)if(c[n]!=h[n]){p=c[n]<h[n];break}s=0}for(p&&(t=c,c=h,h=t,e.s=-e.s),a=c.length,n=h.length-a;n>0;--n)c[a++]=0;for(n=h.length;n>s;){if(c[--n]<h[n]){for(i=n;i&&0===c[--i];)c[i]=E-1;--c[i],c[n]+=E}c[n]-=h[n]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=L(c,r),f?M(e,o,u):e):new y(3===u?-0:0)},I.modulo=I.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?M(new n(r),n.precision,n.rounding):(f=!1,9==n.modulo?(t=D(r,e.abs(),0,3,1)).s*=e.s:t=D(r,e,0,n.modulo,1),t=t.times(e),f=!0,r.minus(t))},I.naturalExponential=I.exp=function(){return z(this)},I.naturalLogarithm=I.ln=function(){return G(this)},I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,M(e)},I.plus=I.add=function(e){var t,r,n,i,s,a,o,u,c,l,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new h(e.d||p.s===e.s?p:NaN)):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(c=p.d,l=e.d,o=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(p)),f?M(e,o,u):e;if(s=b(p.e/7),n=b(e.e/7),c=c.slice(),i=s-n){for(i<0?(r=c,i=-i,a=l.length):(r=l,n=s,a=c.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=c.length)-(i=l.length)<0&&(i=a,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/E|0,c[i]%=E;for(t&&(c.unshift(t),++n),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=L(c,n),f?M(e,o,u):e},I.precision=I.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return r.d?(t=C(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},I.round=function(){var e=this,t=e.constructor;return M(new t(e),e.e+1,t.rounding)},I.sine=I.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return Y(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=Y(e,2,t=t.times(1/J(5,r)),t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(n,K(n,r)),n.precision=e,n.rounding=t,M(o>2?r.neg():r,e,t,!0)):new n(NaN)},I.squareRoot=I.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,u=a.e,c=a.s,l=a.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(f=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=j(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=b((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(s=n).plus(D(a,s,r+2,1)).times(.5),j(s.d).slice(0,r)===(t=j(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(M(n,u+1,1),e=!n.times(n).eq(a));break}if(!i&&(M(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}return f=!0,M(n,u,l.rounding,e)},I.tangent=I.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=D(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,M(2==o||4==o?r.neg():r,e,t,!0)):new n(NaN)},I.times=I.mul=function(e){var t,r,n,i,s,a,o,u,c,l=this,p=l.constructor,h=l.d,d=(e=new p(e)).d;if(e.s*=l.s,!(h&&h[0]&&d&&d[0]))return new p(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*e.s:e.s/0);for(r=b(l.e/7)+b(e.e/7),(u=h.length)<(c=d.length)&&(s=h,h=d,d=s,a=u,u=c,c=a),s=[],n=a=u+c;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+d[n]*h[i-n-1]+t,s[i--]=o%E|0,t=o/E|0;s[i]=(s[i]+t)%E|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=L(s,r),f?M(e,p.precision,p.rounding):e},I.toBinary=function(e,t){return Z(this,2,e,t)},I.toDecimalPlaces=I.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(N(e,0,c),void 0===t?t=n.rounding:N(t,0,8),M(r,e+r.e+1,t))},I.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=k(n,!0):(N(e,0,c),void 0===t?t=i.rounding:N(t,0,8),r=k(n=M(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},I.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?r=k(i):(N(e,0,c),void 0===t?t=s.rounding:N(t,0,8),r=k(n=M(new s(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},I.toFraction=function(e){var t,r,n,i,s,a,o,u,c,l,p,h,d=this,y=d.d,g=d.constructor;if(!y)return new g(d);if(c=r=new g(1),n=u=new g(0),a=(s=(t=new g(n)).e=C(y)-d.e-1)%7,t.d[0]=v(10,a<0?7+a:a),null==e)e=s>0?t:c;else{if(!(o=new g(e)).isInt()||o.lt(c))throw Error(m+o);e=o.gt(t)?s>0?t:c:o}for(f=!1,o=new g(j(y)),l=g.precision,g.precision=s=7*y.length*2;p=D(o,t,0,1,1),1!=(i=r.plus(p.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(p.times(i)),u=i,i=t,t=o.minus(p.times(i)),o=i;return i=D(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=d.s,h=D(c,n,s,1).minus(d).abs().cmp(D(u,r,s,1).minus(d).abs())<1?[c,n]:[u,r],g.precision=l,f=!0,h},I.toHexadecimal=I.toHex=function(e,t){return Z(this,16,e,t)},I.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:N(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(f=!1,r=D(r,e,0,t,1).times(e),f=!0,M(r)):(e.s=r.s,r=e),r},I.toNumber=function(){return+this},I.toOctal=function(e,t){return Z(this,8,e,t)},I.toPower=I.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,c=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(v(+o,c));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,e.eq(1))return M(o,n,s);if((t=b(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=U(u,o,r,n),e.s<0?new u(1).div(i):M(i,n,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(r=v(+o,c))&&isFinite(r)?new u(r+"").e:b(c*(Math.log("0."+j(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(f=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=z(e.times(G(o,n+r)),n)).d&&R((i=M(i,n+5,1)).d,n,s)&&(t=n+10,+j((i=M(z(e.times(G(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=M(i,n+1,0))),i.s=a,f=!0,u.rounding=s,M(i,n,s))},I.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=k(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(N(e,1,c),void 0===t?t=i.rounding:N(t,0,8),r=k(n=M(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},I.toSignificantDigits=I.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(N(e,1,c),void 0===t?t=r.rounding:N(t,0,8)),M(new r(this),e,t)},I.toString=function(){var e=this,t=e.constructor,r=k(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},I.truncated=I.trunc=function(){return M(new this.constructor(this),this.e+1,1)},I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,r=k(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var D=function(){function e(e,t,r){var n,i=0,s=e.length;for(e=e.slice();s--;)n=e[s]*t+i,e[s]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,s,o,u,c){var l,p,h,d,f,y,m,g,_,v,w,O,S,T,x,A,I,j,N,R,P=n.constructor,D=n.s==i.s?1:-1,k=n.d,L=i.d;if(!(k&&k[0]&&L&&L[0]))return new P(n.s&&i.s&&(k?!L||k[0]!=L[0]:L)?k&&0==k[0]||!L?0*D:D/0:NaN);for(c?(f=1,p=n.e-i.e):(c=E,f=7,p=b(n.e/f)-b(i.e/f)),N=L.length,I=k.length,v=(_=new P(D)).d=[],h=0;L[h]==(k[h]||0);h++);if(L[h]>(k[h]||0)&&p--,null==s?(T=s=P.precision,o=P.rounding):T=u?s+(n.e-i.e)+1:s,T<0)v.push(1),y=!0;else{if(T=T/f+2|0,h=0,1==N){for(d=0,L=L[0],T++;(h<I||d)&&T--;h++)x=d*c+(k[h]||0),v[h]=x/L|0,d=x%L|0;y=d||h<I}else{for((d=c/(L[0]+1)|0)>1&&(L=e(L,d,c),k=e(k,d,c),N=L.length,I=k.length),A=N,O=(w=k.slice(0,N)).length;O<N;)w[O++]=0;(R=L.slice()).unshift(0),j=L[0],L[1]>=c/2&&++j;do{d=0,(l=t(L,w,N,O))<0?(S=w[0],N!=O&&(S=S*c+(w[1]||0)),(d=S/j|0)>1?(d>=c&&(d=c-1),1==(l=t(m=e(L,d,c),w,g=m.length,O=w.length))&&(d--,r(m,N<g?R:L,g,c))):(0==d&&(l=d=1),m=L.slice()),(g=m.length)<O&&m.unshift(0),r(w,m,O,c),-1==l&&(l=t(L,w,N,O=w.length))<1&&(d++,r(w,N<O?R:L,O,c)),O=w.length):0===l&&(d++,w=[0]),v[h++]=d,l&&w[0]?w[O++]=k[A]||0:(w=[k[A]],O=1)}while((A++<I||void 0!==w[0])&&T--);y=void 0!==w[0]}v[0]||v.shift()}if(1==f)_.e=p,a=y;else{for(h=1,d=v[0];d>=10;d/=10)h++;_.e=h+p*f-1,M(_,u?s+_.e+1:s,o,y)}return _}}();function M(e,t,r,n){var i,s,a,o,u,c,l,p,h,d=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(i=1,o=p[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,u=(l=p[h=0])/v(10,i-a-1)%10|0;else if((h=Math.ceil((s+1)/7))>=(o=p.length)){if(!n)break e;for(;o++<=h;)p.push(0);l=u=0,i=1,a=(s%=7)-7+1}else{for(l=o=p[h],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:l/v(10,i-a-1)%10|0}if(n=n||t<0||void 0!==p[h+1]||(a<0?l:l%v(10,i-a-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?l/v(10,i-a):0:p[h-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,c?(t-=e.e+1,p[0]=v(10,(7-t%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==s?(p.length=h,o=1,h--):(p.length=h+1,o=v(10,7-s),p[h]=a>0?(l/v(10,i-a)%v(10,a)|0)*o:0),c)for(;;){if(0==h){for(s=1,a=p[0];a>=10;a/=10)s++;for(a=p[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,p[0]==E&&(p[0]=1));break}if(p[h]+=o,p[h]!=E)break;p[h--]=0,o=1}for(s=p.length;0===p[--s];)p.pop()}return f&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function k(e,t,r){if(!e.isFinite())return X(e);var n,i=e.e,s=j(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+B(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+B(-i-1)+s,r&&(n=r-a)>0&&(s+=B(n))):i>=a?(s+=B(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+B(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=B(n))),s}function L(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function F(e,t,r){if(t>x)throw f=!0,r&&(e.precision=r),Error(g);return M(new e(p),t,1,!0)}function q(e,t,r){if(t>A)throw Error(g);return M(new e(h),t,r,!0)}function C(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function B(e){for(var t="";e--;)t+="0";return t}function U(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/7+4);for(f=!1;;){if(r%2&&W((s=s.times(t)).d,a)&&(i=!0),0===(r=b(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}W((t=t.times(t)).d,a)}return f=!0,s}function Q(e){return 1&e.d[e.d.length-1]}function V(e,t,r){for(var n,i=new e(t[0]),s=0;++s<t.length;){if(!(n=new e(t[s])).s){i=n;break}i[r](n)&&(i=n)}return i}function z(e,t){var r,n,i,s,a,o,u,c=0,l=0,p=0,h=e.constructor,d=h.rounding,y=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,u=y):u=t,o=new h(.03125);e.e>-2;)e=e.times(o),p+=5;for(u+=n=Math.log(v(2,p))/Math.LN10*2+5|0,r=s=a=new h(1),h.precision=u;;){if(s=M(s.times(e),u,1),r=r.times(++l),j((o=a.plus(D(s,r,u,1))).d).slice(0,u)===j(a.d).slice(0,u)){for(i=p;i--;)a=M(a.times(a),u,1);if(null!=t)return h.precision=y,a;if(!(c<3&&R(a.d,u-n,d,c)))return M(a,h.precision=y,d,f=!0);h.precision=u+=10,r=s=o=new h(1),l=0,c++}a=o}}function G(e,t){var r,n,i,s,a,o,u,c,l,p,h,d=1,y=e,m=y.d,g=y.constructor,_=g.rounding,b=g.precision;if(y.s<0||!m||!m[0]||!y.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=y.s?NaN:m?0:y);if(null==t?(f=!1,l=b):l=t,g.precision=l+=10,n=(r=j(m)).charAt(0),!(Math.abs(s=y.e)<15e14))return c=F(g,l+2,b).times(s+""),y=G(new g(n+"."+r.slice(1)),l-10).plus(c),g.precision=b,null==t?M(y,b,_,f=!0):y;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=j((y=y.times(e)).d)).charAt(0),d++;for(s=y.e,n>1?(y=new g("0."+r),s++):y=new g(n+"."+r.slice(1)),p=y,u=a=y=D(y.minus(1),y.plus(1),l,1),h=M(y.times(y),l,1),i=3;;){if(a=M(a.times(h),l,1),j((c=u.plus(D(a,new g(i),l,1))).d).slice(0,l)===j(u.d).slice(0,l)){if(u=u.times(2),0!==s&&(u=u.plus(F(g,l+2,b).times(s+""))),u=D(u,new g(d),l,1),null!=t)return g.precision=b,u;if(!R(u.d,l-10,_,o))return M(u,g.precision=b,_,f=!0);g.precision=l+=10,c=a=y=D(p.minus(1),p.plus(1),l,1),h=M(y.times(y),l,1),i=o=1}u=c,i+=2}}function X(e){return String(e.s*e.s/0)}function H(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function $(e,t){var r,n,i,a,o,u,c,l,p;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(O.test(t))r=16,t=t.toLowerCase();else if(w.test(t))r=2;else{if(!S.test(t))throw Error(m+t);r=8}for((a=t.search(/p/i))>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,n=e.constructor,o&&(a=(u=(t=t.replace(".","")).length)-a,i=U(n,new n(r),a,2*a)),a=p=(l=P(t,r,E)).length-1;0===l[a];--a)l.pop();return a<0?new n(0*e.s):(e.e=L(l,p),e.d=l,f=!1,o&&(e=D(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?v(2,c):s.pow(2,c))),f=!0,e)}function Y(e,t,r,n,i){var s,a,o,u,c=e.precision,l=Math.ceil(c/7);for(f=!1,u=r.times(r),o=new e(n);;){if(a=D(o.times(u),new e(t++*t++),c,1),o=i?n.plus(a):n.minus(a),n=D(a.times(u),new e(t++*t++),c,1),void 0!==(a=o.plus(n)).d[l]){for(s=l;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s}return f=!0,a.d.length=l+1,a}function J(e,t){for(var r=e;--t;)r*=e;return r}function K(e,t){var r,n=t.s<0,i=q(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return o=n?4:1,t;if((r=t.divToInt(i)).isZero())o=n?3:2;else{if((t=t.minus(r.times(i))).lte(s))return o=Q(r)?n?2:3:n?4:1,t;o=Q(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Z(e,t,r,n){var i,s,o,u,p,h,d,f,y,m=e.constructor,g=void 0!==r;if(g?(N(r,1,c),void 0===n?n=m.rounding:N(n,0,8)):(r=m.precision,n=m.rounding),e.isFinite()){for(g?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(o=(d=k(e)).indexOf("."))>=0&&(d=d.replace(".",""),(y=new m(1)).e=d.length-o,y.d=P(k(y),10,i),y.e=y.d.length),s=p=(f=P(d,10,i)).length;0==f[--p];)f.pop();if(f[0]){if(o<0?s--:((e=new m(e)).d=f,e.e=s,f=(e=D(e,y,r,n,0,i)).d,s=e.e,h=a),o=f[r],u=i/2,h=h||void 0!==f[r+1],h=n<4?(void 0!==o||h)&&(0===n||n===(e.s<0?3:2)):o>u||o===u&&(4===n||h||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,h)for(;++f[--r]>i-1;)f[r]=0,r||(++s,f.unshift(1));for(p=f.length;!f[p-1];--p);for(o=0,d="";o<p;o++)d+=l.charAt(f[o]);if(g){if(p>1)if(16==t||8==t){for(o=16==t?4:3,--p;p%o;p++)d+="0";for(p=(f=P(d,i,t)).length;!f[p-1];--p);for(o=1,d="1.";o<p;o++)d+=l.charAt(f[o])}else d=d.charAt(0)+"."+d.slice(1);d=d+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)d="0"+d;d="0."+d}else if(++s>p)for(s-=p;s--;)d+="0";else s<p&&(d=d.slice(0,s)+"."+d.slice(s))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=X(e);return e.s<0?"-"+d:d}function W(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ne(e,t){return new this(e).plus(t)}function ie(e){return new this(e).asin()}function se(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function oe(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?q(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=q(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,r=this.atan(D(e,t,s,1)),t=q(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(D(e,t,s,1)):(r=q(this,s,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ce(e){return new this(e).cbrt()}function le(e){return M(e=new this(e),e.e+1,2)}function pe(e){if(!e||"object"!=typeof e)throw Error(y+"Object expected");var t,r,n,i=!0===e.defaults,s=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=d[r]),void 0!==(n=e[r])){if(!(b(n)===n&&n>=s[t+1]&&n<=s[t+2]))throw Error(m+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=d[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(m+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(_);this[r]=!0}else this[r]=!1}return this}function he(e){return new this(e).cos()}function de(e){return new this(e).cosh()}function fe(e,t){return new this(e).div(t)}function ye(e){return new this(e).exp()}function me(e){return M(e=new this(e),e.e+1,3)}function ge(){var e,t,r=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);r=t}return f=!0,r.sqrt()}function _e(e){return e instanceof s||e&&"[object Decimal]"===e.name||!1}function be(e){return new this(e).ln()}function ve(e,t){return new this(e).log(t)}function we(e){return new this(e).log(2)}function Oe(e){return new this(e).log(10)}function Se(){return V(this,arguments,"lt")}function Te(){return V(this,arguments,"gt")}function Ee(e,t){return new this(e).mod(t)}function xe(e,t){return new this(e).mul(t)}function Ae(e,t){return new this(e).pow(t)}function Ie(e){var t,r,n,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:N(e,1,c),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(_);for(t=crypto.randomBytes(n*=4);s<n;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=n/4}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(e%=7,(n=o[--s])&&e&&(i=v(10,7-e),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=o,a}function je(e){return M(e=new this(e),e.e+1,this.rounding)}function Ne(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Re(e){return new this(e).sin()}function Pe(e){return new this(e).sinh()}function De(e){return new this(e).sqrt()}function Me(e,t){return new this(e).sub(t)}function ke(e){return new this(e).tan()}function Le(e){return new this(e).tanh()}function Fe(e){return M(e=new this(e),e.e+1,1)}(s=function e(t){var r,n,i;function s(e){var t,r,n,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,e instanceof s)return i.s=e.s,void(f?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(f?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):H(i,e.toString())}if("string"!==n)throw Error(m+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),T.test(e)?H(i,e):$(i,e)}if(s.prototype=I,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=pe,s.clone=e,s.isDecimal=_e,s.abs=ee,s.acos=te,s.acosh=re,s.add=ne,s.asin=ie,s.asinh=se,s.atan=ae,s.atanh=oe,s.atan2=ue,s.cbrt=ce,s.ceil=le,s.cos=he,s.cosh=de,s.div=fe,s.exp=ye,s.floor=me,s.hypot=ge,s.ln=be,s.log=ve,s.log10=Oe,s.log2=we,s.max=Se,s.min=Te,s.mod=Ee,s.mul=xe,s.pow=Ae,s.random=Ie,s.round=je,s.sign=Ne,s.sin=Re,s.sinh=Pe,s.sqrt=De,s.sub=Me,s.tan=ke,s.tanh=Le,s.trunc=Fe,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(d)).default=s.Decimal=s,p=new s(p),h=new s(h),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},4063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var a=s[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},3349:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=r(2413).Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},s.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},3393:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:Q(e)}function n(e){return o(e)?e:V(e)}function i(e){return u(e)?e:z(e)}function s(e){return a(e)&&!c(e)?e:G(e)}function a(e){return!(!e||!e[p])}function o(e){return!(!e||!e[h])}function u(e){return!(!e||!e[d])}function c(e){return o(e)||u(e)}function l(e){return!(!e||!e[f])}t(n,r),t(i,r),t(s,r),r.isIterable=a,r.isKeyed=o,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=i,r.Set=s;var p="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",y=32,m=31,g={},_={value:!1},b={value:!1};function v(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function O(){}function S(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function T(e){return void 0===e.size&&(e.size=e.__iterate(x)),e.size}function E(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?T(e)+t:t}function x(){return!0}function A(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function I(e,t){return N(e,t,0)}function j(e,t){return N(e,t,t)}function N(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var R="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",D=R||P;function M(e){this.next=e}function k(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function L(){return{value:void 0,done:!0}}function F(e){return!!B(e)}function q(e){return e&&"function"==typeof e.next}function C(e){var t=B(e);return t&&t.call(e)}function B(e){var t=e&&(R&&e[R]||e["@@iterator"]);if("function"==typeof t)return t}function U(e){return e&&"number"==typeof e.length}function Q(e){return null==e?te():a(e)?e.toSeq():function(e){var t=ie(e)||"object"==typeof e&&new K(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function V(e){return null==e?te().toKeyedSeq():a(e)?o(e)?e.toSeq():e.fromEntrySeq():re(e)}function z(e){return null==e?te():a(e)?o(e)?e.entrySeq():e.toIndexedSeq():ne(e)}function G(e){return(null==e?te():a(e)?o(e)?e.entrySeq():e:ne(e)).toSetSeq()}M.prototype.toString=function(){return"[Iterator]"},M.KEYS=0,M.VALUES=1,M.ENTRIES=2,M.prototype.inspect=M.prototype.toSource=function(){return this.toString()},M.prototype[D]=function(){return this},t(Q,r),Q.of=function(){return Q(arguments)},Q.prototype.toSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq {","}")},Q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Q.prototype.__iterate=function(e,t){return se(this,e,t,!0)},Q.prototype.__iterator=function(e,t){return ae(this,e,t,!0)},t(V,Q),V.prototype.toKeyedSeq=function(){return this},t(z,Q),z.of=function(){return z(arguments)},z.prototype.toIndexedSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq [","]")},z.prototype.__iterate=function(e,t){return se(this,e,t,!1)},z.prototype.__iterator=function(e,t){return ae(this,e,t,!1)},t(G,Q),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},Q.isSeq=ee,Q.Keyed=V,Q.Set=G,Q.Indexed=z;var X,H,$,Y="@@__IMMUTABLE_SEQ__@@";function J(e){this._array=e,this.size=e.length}function K(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function Z(e){this._iterable=e,this.size=e.length||e.size}function W(e){this._iterator=e,this._iteratorCache=[]}function ee(e){return!(!e||!e[Y])}function te(){return X||(X=new J([]))}function re(e){var t=Array.isArray(e)?new J(e).fromEntrySeq():q(e)?new W(e).fromEntrySeq():F(e)?new Z(e).fromEntrySeq():"object"==typeof e?new K(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ne(e){var t=ie(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ie(e){return U(e)?new J(e):q(e)?new W(e):F(e)?new Z(e):void 0}function se(e,t,r,n){var i=e._cache;if(i){for(var s=i.length-1,a=0;a<=s;a++){var o=i[r?s-a:a];if(!1===t(o[1],n?o[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function ae(e,t,r,n){var i=e._cache;if(i){var s=i.length-1,a=0;return new M((function(){var e=i[r?s-a:a];return a++>s?{value:void 0,done:!0}:k(t,n?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,r)}function oe(e,t){return t?ue(t,e,"",{"":e}):ce(e)}function ue(e,t,r,n){return Array.isArray(t)?e.call(n,r,z(t).map((function(r,n){return ue(e,r,n,t)}))):le(t)?e.call(n,r,V(t).map((function(r,n){return ue(e,r,n,t)}))):t}function ce(e){return Array.isArray(e)?z(e).map(ce).toList():le(e)?V(e).map(ce).toMap():e}function le(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function he(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||o(e)!==o(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!c(e);if(l(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&pe(i[1],e)&&(r||pe(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var p=!0,h=t.__iterate((function(t,n){if(r?!e.has(t):i?!pe(t,e.get(n,g)):!pe(e.get(n,g),t))return p=!1,!1}));return p&&e.size===h}function de(e,t){if(!(this instanceof de))return new de(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(H)return H;H=this}}function fe(e,t){if(!e)throw new Error(t)}function ye(e,t,r){if(!(this instanceof ye))return new ye(e,t,r);if(fe(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if($)return $;$=this}}function me(){throw TypeError("Abstract")}function ge(){}function _e(){}function be(){}Q.prototype[Y]=!0,t(J,z),J.prototype.get=function(e,t){return this.has(e)?this._array[E(this,e)]:t},J.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===e(r[t?n-i:i],i,this))return i+1;return i},J.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,i=0;return new M((function(){return i>n?{value:void 0,done:!0}:k(e,i,r[t?n-i++:i++])}))},t(K,V),K.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},K.prototype.has=function(e){return this._object.hasOwnProperty(e)},K.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length-1,s=0;s<=i;s++){var a=n[t?i-s:s];if(!1===e(r[a],a,this))return s+1}return s},K.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length-1,s=0;return new M((function(){var a=n[t?i-s:s];return s++>i?{value:void 0,done:!0}:k(e,a,r[a])}))},K.prototype[f]=!0,t(Z,z),Z.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=C(this._iterable),n=0;if(q(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},Z.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=C(this._iterable);if(!q(r))return new M(L);var n=0;return new M((function(){var t=r.next();return t.done?t:k(e,n++,t.value)}))},t(W,z),W.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,i=this._iteratorCache,s=0;s<i.length;)if(!1===e(i[s],s++,this))return s;for(;!(r=n.next()).done;){var a=r.value;if(i[s]=a,!1===e(a,s++,this))break}return s},W.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new M((function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return k(e,i,n[i++])}))},t(de,z),de.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},de.prototype.get=function(e,t){return this.has(e)?this._value:t},de.prototype.includes=function(e){return pe(this._value,e)},de.prototype.slice=function(e,t){var r=this.size;return A(e,t,r)?this:new de(this._value,j(t,r)-I(e,r))},de.prototype.reverse=function(){return this},de.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},de.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},de.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},de.prototype.__iterator=function(e,t){var r=this,n=0;return new M((function(){return n<r.size?k(e,n++,r._value):{value:void 0,done:!0}}))},de.prototype.equals=function(e){return e instanceof de?pe(this._value,e._value):he(e)},t(ye,z),ye.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ye.prototype.get=function(e,t){return this.has(e)?this._start+E(this,e)*this._step:t},ye.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ye.prototype.slice=function(e,t){return A(e,t,this.size)?this:(e=I(e,this.size),(t=j(t,this.size))<=e?new ye(0,0):new ye(this.get(e,this._end),this.get(t,this._end),this._step))},ye.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},ye.prototype.lastIndexOf=function(e){return this.indexOf(e)},ye.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,s=0;s<=r;s++){if(!1===e(i,s,this))return s+1;i+=t?-n:n}return s},ye.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,s=0;return new M((function(){var a=i;return i+=t?-n:n,s>r?{value:void 0,done:!0}:k(e,s++,a)}))},ye.prototype.equals=function(e){return e instanceof ye?this._start===e._start&&this._end===e._end&&this._step===e._step:he(this,e)},t(me,r),t(ge,me),t(_e,me),t(be,me),me.Keyed=ge,me.Indexed=_e,me.Set=be;var ve="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function we(e){return e>>>1&1073741824|3221225471&e}function Oe(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return we(r)}if("string"===t)return e.length>Ne?function(e){var t=De[e];return void 0===t&&(t=Se(e),Pe===Re&&(Pe=0,De={}),Pe++,De[e]=t),t}(e):Se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Ae&&void 0!==(t=xe.get(e)))return t;if(void 0!==(t=e[je]))return t;if(!Ee){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ie,1073741824&Ie&&(Ie=0),Ae)xe.set(e,t);else{if(void 0!==Te&&!1===Te(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ee)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[je]=t}}return t}(e);if("function"==typeof e.toString)return Se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Se(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return we(t)}var Te=Object.isExtensible,Ee=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var xe,Ae="function"==typeof WeakMap;Ae&&(xe=new WeakMap);var Ie=0,je="__immutablehash__";"function"==typeof Symbol&&(je=Symbol(je));var Ne=16,Re=255,Pe=0,De={};function Me(e){fe(e!==1/0,"Cannot perform this action with an infinite size.")}function ke(e){return null==e?Ye():Le(e)&&!l(e)?e:Ye().withMutations((function(t){var r=n(e);Me(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Le(e){return!(!e||!e[qe])}t(ke,ge),ke.of=function(){var t=e.call(arguments,0);return Ye().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},ke.prototype.toString=function(){return this.__toString("Map {","}")},ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},ke.prototype.set=function(e,t){return Je(this,e,t)},ke.prototype.setIn=function(e,t){return this.updateIn(e,g,(function(){return t}))},ke.prototype.remove=function(e){return Je(this,e,g)},ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return g}))},ke.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},ke.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=it(this,tr(e),t,r);return n===g?void 0:n},ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ye()},ke.prototype.merge=function(){return et(this,void 0,arguments)},ke.prototype.mergeWith=function(t){return et(this,t,e.call(arguments,1))},ke.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Ye(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},ke.prototype.mergeDeep=function(){return et(this,tt,arguments)},ke.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return et(this,rt(t),r)},ke.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Ye(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},ke.prototype.sort=function(e){return At(zt(this,e))},ke.prototype.sortBy=function(e,t){return At(zt(this,t,e))},ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},ke.prototype.asImmutable=function(){return this.__ensureOwner()},ke.prototype.wasAltered=function(){return this.__altered},ke.prototype.__iterator=function(e,t){return new Ge(this,e,t)},ke.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?$e(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},ke.isMap=Le;var Fe,qe="@@__IMMUTABLE_MAP__@@",Ce=ke.prototype;function Be(e,t){this.ownerID=e,this.entries=t}function Ue(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Qe(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Ve(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function ze(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function Ge(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&He(e._root)}function Xe(e,t){return k(e,t[0],t[1])}function He(e,t){return{node:e,index:0,__prev:t}}function $e(e,t,r,n){var i=Object.create(Ce);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ye(){return Fe||(Fe=$e(0))}function Je(e,t,r){var n,i;if(e._root){var s=v(_),a=v(b);if(n=Ke(e._root,e.__ownerID,0,void 0,t,r,s,a),!a.value)return e;i=e.size+(s.value?r===g?-1:1:0)}else{if(r===g)return e;i=1,n=new Be(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?$e(i,n):Ye()}function Ke(e,t,r,n,i,s,a,o){return e?e.update(t,r,n,i,s,a,o):s===g?e:(w(o),w(a),new ze(t,n,[i,s]))}function Ze(e){return e.constructor===ze||e.constructor===Ve}function We(e,t,r,n,i){if(e.keyHash===n)return new Ve(t,n,[e.entry,i]);var s,a=(0===r?e.keyHash:e.keyHash>>>r)&m,o=(0===r?n:n>>>r)&m;return new Ue(t,1<<a|1<<o,a===o?[We(e,t,r+5,n,i)]:(s=new ze(t,n,i),a<o?[e,s]:[s,e]))}function et(e,t,r){for(var i=[],s=0;s<r.length;s++){var o=r[s],u=n(o);a(o)||(u=u.map((function(e){return oe(e)}))),i.push(u)}return nt(e,t,i)}function tt(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):pe(e,t)?e:t}function rt(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var i=e(t,r,n);return pe(t,i)?t:i}}function nt(e,t,r){return 0===(r=r.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,g,(function(e){return e===g?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},i=0;i<r.length;i++)r[i].forEach(n)})):e.constructor(r[0])}function it(e,t,r,n){var i=e===g,s=t.next();if(s.done){var a=i?r:e,o=n(a);return o===a?e:o}fe(i||e&&e.set,"invalid keyPath");var u=s.value,c=i?g:e.get(u,g),l=it(c,t,r,n);return l===c?e:l===g?e.remove(u):(i?Ye():e).set(u,l)}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function at(e,t,r,n){var i=n?e:S(e);return i[t]=r,i}Ce[qe]=!0,Ce.delete=Ce.remove,Ce.removeIn=Ce.deleteIn,Be.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(pe(r,i[s][0]))return i[s][1];return n},Be.prototype.update=function(e,t,r,n,i,s,a){for(var o=i===g,u=this.entries,c=0,l=u.length;c<l&&!pe(n,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:o)return this;if(w(a),(o||!p)&&w(s),!o||1!==u.length){if(!p&&!o&&u.length>=ot)return function(e,t,r,n){e||(e=new O);for(var i=new ze(e,Oe(r),[r,n]),s=0;s<t.length;s++){var a=t[s];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,n,i);var h=e&&e===this.ownerID,d=h?u:S(u);return p?o?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),h?(this.entries=d,this):new Be(e,d)}},Ue.prototype.get=function(e,t,r,n){void 0===t&&(t=Oe(r));var i=1<<((0===e?t:t>>>e)&m),s=this.bitmap;return 0==(s&i)?n:this.nodes[st(s&i-1)].get(e+5,t,r,n)},Ue.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=Oe(n));var o=(0===t?r:r>>>t)&m,u=1<<o,c=this.bitmap,l=0!=(c&u);if(!l&&i===g)return this;var p=st(c&u-1),h=this.nodes,d=l?h[p]:void 0,f=Ke(d,e,t+5,r,n,i,s,a);if(f===d)return this;if(!l&&f&&h.length>=ut)return function(e,t,r,n,i){for(var s=0,a=new Array(y),o=0;0!==r;o++,r>>>=1)a[o]=1&r?t[s++]:void 0;return a[n]=i,new Qe(e,s+1,a)}(e,h,c,o,f);if(l&&!f&&2===h.length&&Ze(h[1^p]))return h[1^p];if(l&&f&&1===h.length&&Ze(f))return f;var _=e&&e===this.ownerID,b=l?f?c:c^u:c|u,v=l?f?at(h,p,f,_):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),s=0,a=0;a<n;a++)a===t&&(s=1),i[a]=e[a+s];return i}(h,p,_):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var s=new Array(i),a=0,o=0;o<i;o++)o===t?(s[o]=r,a=-1):s[o]=e[o+a];return s}(h,p,f,_);return _?(this.bitmap=b,this.nodes=v,this):new Ue(e,b,v)},Qe.prototype.get=function(e,t,r,n){void 0===t&&(t=Oe(r));var i=(0===e?t:t>>>e)&m,s=this.nodes[i];return s?s.get(e+5,t,r,n):n},Qe.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=Oe(n));var o=(0===t?r:r>>>t)&m,u=i===g,c=this.nodes,l=c[o];if(u&&!l)return this;var p=Ke(l,e,t+5,r,n,i,s,a);if(p===l)return this;var h=this.count;if(l){if(!p&&--h<ct)return function(e,t,r,n){for(var i=0,s=0,a=new Array(r),o=0,u=1,c=t.length;o<c;o++,u<<=1){var l=t[o];void 0!==l&&o!==n&&(i|=u,a[s++]=l)}return new Ue(e,i,a)}(e,c,h,o)}else h++;var d=e&&e===this.ownerID,f=at(c,o,p,d);return d?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},Ve.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(pe(r,i[s][0]))return i[s][1];return n},Ve.prototype.update=function(e,t,r,n,i,s,a){void 0===r&&(r=Oe(n));var o=i===g;if(r!==this.keyHash)return o?this:(w(a),w(s),We(this,e,t,r,[n,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!pe(n,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:o)return this;if(w(a),(o||!p)&&w(s),o&&2===l)return new ze(e,this.keyHash,u[1^c]);var h=e&&e===this.ownerID,d=h?u:S(u);return p?o?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),h?(this.entries=d,this):new Ve(e,this.keyHash,d)},ze.prototype.get=function(e,t,r,n){return pe(r,this.entry[0])?this.entry[1]:n},ze.prototype.update=function(e,t,r,n,i,s,a){var o=i===g,u=pe(n,this.entry[0]);return(u?i===this.entry[1]:o)?this:(w(a),o?void w(s):u?e&&e===this.ownerID?(this.entry[1]=i,this):new ze(e,this.keyHash,[n,i]):(w(s),We(this,e,t,Oe(n),[n,i])))},Be.prototype.iterate=Ve.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Ue.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[t?i-n:n];if(s&&!1===s.iterate(e,t))return!1}},ze.prototype.iterate=function(e,t){return e(this.entry)},t(Ge,M),Ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,i=t.index++;if(n.entry){if(0===i)return Xe(e,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Xe(e,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var s=n.nodes[this._reverse?r-i:i];if(s){if(s.entry)return Xe(e,s.entry);t=this._stack=He(s,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ot=8,ut=16,ct=8;function lt(e){var t=vt();if(null==e)return t;if(pt(e))return e;var r=i(e),n=r.size;return 0===n?t:(Me(n),n>0&&n<y?bt(0,n,5,null,new ft(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function pt(e){return!(!e||!e[ht])}t(lt,_e),lt.of=function(){return this(arguments)},lt.prototype.toString=function(){return this.__toString("List [","]")},lt.prototype.get=function(e,t){if((e=E(this,e))>=0&&e<this.size){var r=St(this,e+=this._origin);return r&&r.array[e&m]}return t},lt.prototype.set=function(e,t){return function(e,t,r){if((t=E(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Tt(e,t).set(0,r):Tt(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,s=v(b);return t>=xt(e._capacity)?n=wt(n,e.__ownerID,0,t,r,s):i=wt(i,e.__ownerID,e._level,t,r,s),s.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):bt(e._origin,e._capacity,e._level,i,n):e}(this,e,t)},lt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},lt.prototype.insert=function(e,t){return this.splice(e,0,t)},lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):vt()},lt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Tt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},lt.prototype.pop=function(){return Tt(this,0,-1)},lt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Tt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},lt.prototype.shift=function(){return Tt(this,1)},lt.prototype.merge=function(){return Et(this,void 0,arguments)},lt.prototype.mergeWith=function(t){return Et(this,t,e.call(arguments,1))},lt.prototype.mergeDeep=function(){return Et(this,tt,arguments)},lt.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Et(this,rt(t),r)},lt.prototype.setSize=function(e){return Tt(this,0,e)},lt.prototype.slice=function(e,t){var r=this.size;return A(e,t,r)?this:Tt(this,I(e,r),j(t,r))},lt.prototype.__iterator=function(e,t){var r=0,n=_t(this,t);return new M((function(){var t=n();return t===gt?{value:void 0,done:!0}:k(e,r++,t)}))},lt.prototype.__iterate=function(e,t){for(var r,n=0,i=_t(this,t);(r=i())!==gt&&!1!==e(r,n++,this););return n},lt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?bt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},lt.isList=pt;var ht="@@__IMMUTABLE_LIST__@@",dt=lt.prototype;function ft(e,t){this.array=e,this.ownerID=t}dt[ht]=!0,dt.delete=dt.remove,dt.setIn=Ce.setIn,dt.deleteIn=dt.removeIn=Ce.removeIn,dt.update=Ce.update,dt.updateIn=Ce.updateIn,dt.mergeIn=Ce.mergeIn,dt.mergeDeepIn=Ce.mergeDeepIn,dt.withMutations=Ce.withMutations,dt.asMutable=Ce.asMutable,dt.asImmutable=Ce.asImmutable,dt.wasAltered=Ce.wasAltered,ft.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&m;if(n>=this.array.length)return new ft([],e);var i,s=0===n;if(t>0){var a=this.array[n];if((i=a&&a.removeBefore(e,t-5,r))===a&&s)return this}if(s&&!i)return this;var o=Ot(this,e);if(!s)for(var u=0;u<n;u++)o.array[u]=void 0;return i&&(o.array[n]=i),o},ft.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,i=r-1>>>t&m;if(i>=this.array.length)return this;if(t>0){var s=this.array[i];if((n=s&&s.removeAfter(e,t-5,r))===s&&i===this.array.length-1)return this}var a=Ot(this,e);return a.array.splice(i+1),n&&(a.array[i]=n),a};var yt,mt,gt={};function _t(e,t){var r=e._origin,n=e._capacity,i=xt(n),s=e._tail;return a(e._root,e._level,0);function a(e,o,u){return 0===o?function(e,a){var o=a===i?s&&s.array:e&&e.array,u=a>r?0:r-a,c=n-a;return c>y&&(c=y),function(){if(u===c)return gt;var e=t?--c:u++;return o&&o[e]}}(e,u):function(e,i,s){var o,u=e&&e.array,c=s>r?0:r-s>>i,l=1+(n-s>>i);return l>y&&(l=y),function(){for(;;){if(o){var e=o();if(e!==gt)return e;o=null}if(c===l)return gt;var r=t?--l:c++;o=a(u&&u[r],i-5,s+(r<<i))}}}(e,o,u)}}function bt(e,t,r,n,i,s,a){var o=Object.create(dt);return o.size=t-e,o._origin=e,o._capacity=t,o._level=r,o._root=n,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}function vt(){return yt||(yt=bt(0,0,5))}function wt(e,t,r,n,i,s){var a,o=n>>>r&m,u=e&&o<e.array.length;if(!u&&void 0===i)return e;if(r>0){var c=e&&e.array[o],l=wt(c,t,r-5,n,i,s);return l===c?e:((a=Ot(e,t)).array[o]=l,a)}return u&&e.array[o]===i?e:(w(s),a=Ot(e,t),void 0===i&&o===a.array.length-1?a.array.pop():a.array[o]=i,a)}function Ot(e,t){return t&&e&&t===e.ownerID?e:new ft(e?e.array.slice():[],t)}function St(e,t){if(t>=xt(e._capacity))return e._tail;if(t<1<<e._level+5){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&m],n-=5;return r}}function Tt(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new O,i=e._origin,s=e._capacity,a=i+t,o=void 0===r?s:r<0?s+r:i+r;if(a===i&&o===s)return e;if(a>=o)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new ft(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=5);l&&(a+=l,i+=l,o+=l,s+=l);for(var p=xt(s),h=xt(o);h>=1<<u+5;)c=new ft(c&&c.array.length?[c]:[],n),u+=5;var d=e._tail,f=h<p?St(e,o-1):h>p?new ft([],n):d;if(d&&h>p&&a<s&&d.array.length){for(var y=c=Ot(c,n),g=u;g>5;g-=5){var _=p>>>g&m;y=y.array[_]=Ot(y.array[_],n)}y.array[p>>>5&m]=d}if(o<s&&(f=f&&f.removeAfter(n,0,o)),a>=h)a-=h,o-=h,u=5,c=null,f=f&&f.removeBefore(n,0,a);else if(a>i||h<p){for(l=0;c;){var b=a>>>u&m;if(b!==h>>>u&m)break;b&&(l+=(1<<u)*b),u-=5,c=c.array[b]}c&&a>i&&(c=c.removeBefore(n,u,a-l)),c&&h<p&&(c=c.removeAfter(n,u,h-l)),l&&(a-=l,o-=l)}return e.__ownerID?(e.size=o-a,e._origin=a,e._capacity=o,e._level=u,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):bt(a,o,u,c,f)}function Et(e,t,r){for(var n=[],s=0,o=0;o<r.length;o++){var u=r[o],c=i(u);c.size>s&&(s=c.size),a(u)||(c=c.map((function(e){return oe(e)}))),n.push(c)}return s>e.size&&(e=e.setSize(s)),nt(e,t,n)}function xt(e){return e<y?0:e-1>>>5<<5}function At(e){return null==e?Nt():It(e)?e:Nt().withMutations((function(t){var r=n(e);Me(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function It(e){return Le(e)&&l(e)}function jt(e,t,r,n){var i=Object.create(At.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}function Nt(){return mt||(mt=jt(Ye(),vt()))}function Rt(e,t,r){var n,i,s=e._map,a=e._list,o=s.get(t),u=void 0!==o;if(r===g){if(!u)return e;a.size>=y&&a.size>=2*s.size?(n=(i=a.filter((function(e,t){return void 0!==e&&o!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=s.remove(t),i=o===a.size-1?a.pop():a.set(o,void 0))}else if(u){if(r===a.get(o)[1])return e;n=s,i=a.set(o,[t,r])}else n=s.set(t,a.size),i=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e):jt(n,i)}function Pt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function kt(e){this._iter=e,this.size=e.size}function Lt(e){var t=Zt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Wt,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(2===t){var n=e.__iterator(t,r);return new M((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,r)},t}function Ft(e,t,r){var n=Zt(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var s=e.get(n,g);return s===g?i:t.call(r,s,n,e)},n.__iterateUncached=function(n,i){var s=this;return e.__iterate((function(e,i,a){return!1!==n(t.call(r,e,i,a),i,s)}),i)},n.__iteratorUncached=function(n,i){var s=e.__iterator(2,i);return new M((function(){var i=s.next();if(i.done)return i;var a=i.value,o=a[0];return k(n,o,t.call(r,a[1],o,e),i)}))},n}function qt(e,t){var r=Zt(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Lt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=Wt,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function Ct(e,t,r,n){var i=Zt(e);return n&&(i.has=function(n){var i=e.get(n,g);return i!==g&&!!t.call(r,i,n,e)},i.get=function(n,i){var s=e.get(n,g);return s!==g&&t.call(r,s,n,e)?s:i}),i.__iterateUncached=function(i,s){var a=this,o=0;return e.__iterate((function(e,s,u){if(t.call(r,e,s,u))return o++,i(e,n?s:o-1,a)}),s),o},i.__iteratorUncached=function(i,s){var a=e.__iterator(2,s),o=0;return new M((function(){for(;;){var s=a.next();if(s.done)return s;var u=s.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return k(i,n?c:o++,l,s)}}))},i}function Bt(e,t,r,n){var i=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=i:r|=0),A(t,r,i))return e;var s=I(t,i),a=j(r,i);if(s!=s||a!=a)return Bt(e.toSeq().cacheResult(),t,r,n);var o,u=a-s;u==u&&(o=u<0?0:u);var c=Zt(e);return c.size=0===o?o:e.size&&o||void 0,!n&&ee(e)&&o>=0&&(c.get=function(t,r){return(t=E(this,t))>=0&&t<o?e.get(t+s,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===o)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=a++<s))return c++,!1!==t(e,n?r:c-1,i)&&c!==o})),c},c.__iteratorUncached=function(t,r){if(0!==o&&r)return this.cacheResult().__iterator(t,r);var i=0!==o&&e.__iterator(t,r),a=0,u=0;return new M((function(){for(;a++<s;)i.next();if(++u>o)return{value:void 0,done:!0};var e=i.next();return n||1===t?e:k(t,u-1,0===t?void 0:e.value[1],e)}))},c}function Ut(e,t,r,n){var i=Zt(e);return i.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=!0,u=0;return e.__iterate((function(e,s,c){if(!o||!(o=t.call(r,e,s,c)))return u++,i(e,n?s:u-1,a)})),u},i.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=e.__iterator(2,s),u=!0,c=0;return new M((function(){var e,s,l;do{if((e=o.next()).done)return n||1===i?e:k(i,c++,0===i?void 0:e.value[1],e);var p=e.value;s=p[0],l=p[1],u&&(u=t.call(r,l,s,a))}while(u);return 2===i?e:k(i,s,l,e)}))},i}function Qt(e,t){var r=o(e),i=[e].concat(t).map((function(e){return a(e)?r&&(e=n(e)):e=r?re(e):ne(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var s=i[0];if(s===e||r&&o(s)||u(e)&&u(s))return s}var c=new J(i);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),c}function Vt(e,t,r){var n=Zt(e);return n.__iterateUncached=function(n,i){var s=0,o=!1;return function e(u,c){var l=this;u.__iterate((function(i,u){return(!t||c<t)&&a(i)?e(i,c+1):!1===n(i,r?u:s++,l)&&(o=!0),!o}),i)}(e,0),s},n.__iteratorUncached=function(n,i){var s=e.__iterator(n,i),o=[],u=0;return new M((function(){for(;s;){var e=s.next();if(!1===e.done){var c=e.value;if(2===n&&(c=c[1]),t&&!(o.length<t)||!a(c))return r?e:k(n,u++,c,e);o.push(s),s=c.__iterator(n,i)}else s=o.pop()}return{value:void 0,done:!0}}))},n}function zt(e,t,r){t||(t=er);var n=o(e),i=0,s=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).toArray();return s.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){s[t].length=2}:function(e,t){s[t]=e[1]}),n?V(s):u(e)?z(s):G(s)}function Gt(e,t,r){if(t||(t=er),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return Xt(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return Xt(t,e,r)?r:e}))}function Xt(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Ht(e,t,n){var i=Zt(e);return i.size=new J(n).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(1,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var s=n.map((function(e){return e=r(e),C(i?e.reverse():e)})),a=0,o=!1;return new M((function(){var r;return o||(r=s.map((function(e){return e.next()})),o=r.some((function(e){return e.done}))),o?{value:void 0,done:!0}:k(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function $t(e,t){return ee(e)?t:e.constructor(t)}function Yt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jt(e){return Me(e.size),T(e)}function Kt(e){return o(e)?n:u(e)?i:s}function Zt(e){return Object.create((o(e)?V:u(e)?z:G).prototype)}function Wt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Q.prototype.cacheResult.call(this)}function er(e,t){return e>t?1:e<t?-1:0}function tr(e){var t=C(e);if(!t){if(!U(e))throw new TypeError("Expected iterable or array-like: "+e);t=C(r(e))}return t}function rr(e,t){var r,n=function(s){if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!r){r=!0;var a=Object.keys(e);(function(e,t){try{t.forEach(ar.bind(void 0,e))}catch(e){}})(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=ke(s)},i=n.prototype=Object.create(nr);return i.constructor=n,n}t(At,ke),At.of=function(){return this(arguments)},At.prototype.toString=function(){return this.__toString("OrderedMap {","}")},At.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nt()},At.prototype.set=function(e,t){return Rt(this,e,t)},At.prototype.remove=function(e){return Rt(this,e,g)},At.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},At.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},At.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?jt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},At.isOrderedMap=It,At.prototype[f]=!0,At.prototype.delete=At.prototype.remove,t(Pt,V),Pt.prototype.get=function(e,t){return this._iter.get(e,t)},Pt.prototype.has=function(e){return this._iter.has(e)},Pt.prototype.valueSeq=function(){return this._iter.valueSeq()},Pt.prototype.reverse=function(){var e=this,t=qt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Pt.prototype.map=function(e,t){var r=this,n=Ft(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},Pt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?Jt(this):0,function(i){return e(i,t?--r:r++,n)}),t)},Pt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(1,t),n=t?Jt(this):0;return new M((function(){var i=r.next();return i.done?i:k(e,t?--n:n++,i.value,i)}))},Pt.prototype[f]=!0,t(Dt,z),Dt.prototype.includes=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},Dt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t),n=0;return new M((function(){var t=r.next();return t.done?t:k(e,n++,t.value,t)}))},t(Mt,G),Mt.prototype.has=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},Mt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new M((function(){var t=r.next();return t.done?t:k(e,t.value,t.value,t)}))},t(kt,V),kt.prototype.entrySeq=function(){return this._iter.toSeq()},kt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Yt(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},kt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new M((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Yt(n);var i=a(n);return k(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},Dt.prototype.cacheResult=Pt.prototype.cacheResult=Mt.prototype.cacheResult=kt.prototype.cacheResult=Wt,t(rr,ge),rr.prototype.toString=function(){return this.__toString(sr(this)+" {","}")},rr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},rr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=ir(this,Ye()))},rr.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sr(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:ir(this,r)},rr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:ir(this,t)},rr.prototype.wasAltered=function(){return this._map.wasAltered()},rr.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},rr.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},rr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?ir(this,t,e):(this.__ownerID=e,this._map=t,this)};var nr=rr.prototype;function ir(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function sr(e){return e._name||e.constructor.name||"Record"}function ar(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){fe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function or(e){return null==e?fr():ur(e)&&!l(e)?e:fr().withMutations((function(t){var r=s(e);Me(r.size),r.forEach((function(e){return t.add(e)}))}))}function ur(e){return!(!e||!e[lr])}nr.delete=nr.remove,nr.deleteIn=nr.removeIn=Ce.removeIn,nr.merge=Ce.merge,nr.mergeWith=Ce.mergeWith,nr.mergeIn=Ce.mergeIn,nr.mergeDeep=Ce.mergeDeep,nr.mergeDeepWith=Ce.mergeDeepWith,nr.mergeDeepIn=Ce.mergeDeepIn,nr.setIn=Ce.setIn,nr.update=Ce.update,nr.updateIn=Ce.updateIn,nr.withMutations=Ce.withMutations,nr.asMutable=Ce.asMutable,nr.asImmutable=Ce.asImmutable,t(or,be),or.of=function(){return this(arguments)},or.fromKeys=function(e){return this(n(e).keySeq())},or.prototype.toString=function(){return this.__toString("Set {","}")},or.prototype.has=function(e){return this._map.has(e)},or.prototype.add=function(e){return hr(this,this._map.set(e,!0))},or.prototype.remove=function(e){return hr(this,this._map.remove(e))},or.prototype.clear=function(){return hr(this,this._map.clear())},or.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)s(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},or.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},or.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},or.prototype.merge=function(){return this.union.apply(this,arguments)},or.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},or.prototype.sort=function(e){return yr(zt(this,e))},or.prototype.sortBy=function(e,t){return yr(zt(this,t,e))},or.prototype.wasAltered=function(){return this._map.wasAltered()},or.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},or.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},or.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},or.isSet=ur;var cr,lr="@@__IMMUTABLE_SET__@@",pr=or.prototype;function hr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function dr(e,t){var r=Object.create(pr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function fr(){return cr||(cr=dr(Ye()))}function yr(e){return null==e?vr():mr(e)?e:vr().withMutations((function(t){var r=s(e);Me(r.size),r.forEach((function(e){return t.add(e)}))}))}function mr(e){return ur(e)&&l(e)}pr[lr]=!0,pr.delete=pr.remove,pr.mergeDeep=pr.merge,pr.mergeDeepWith=pr.mergeWith,pr.withMutations=Ce.withMutations,pr.asMutable=Ce.asMutable,pr.asImmutable=Ce.asImmutable,pr.__empty=fr,pr.__make=dr,t(yr,or),yr.of=function(){return this(arguments)},yr.fromKeys=function(e){return this(n(e).keySeq())},yr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yr.isOrderedSet=mr;var gr,_r=yr.prototype;function br(e,t){var r=Object.create(_r);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function vr(){return gr||(gr=br(Nt()))}function wr(e){return null==e?Ar():Or(e)?e:Ar().unshiftAll(e)}function Or(e){return!(!e||!e[Tr])}_r[f]=!0,_r.__empty=vr,_r.__make=br,t(wr,_e),wr.of=function(){return this(arguments)},wr.prototype.toString=function(){return this.__toString("Stack [","]")},wr.prototype.get=function(e,t){var r=this._head;for(e=E(this,e);r&&e--;)r=r.next;return r?r.value:t},wr.prototype.peek=function(){return this._head&&this._head.value},wr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):xr(e,t)},wr.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Me(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):xr(t,r)},wr.prototype.pop=function(){return this.slice(1)},wr.prototype.unshift=function(){return this.push.apply(this,arguments)},wr.prototype.unshiftAll=function(e){return this.pushAll(e)},wr.prototype.shift=function(){return this.pop.apply(this,arguments)},wr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ar()},wr.prototype.slice=function(e,t){if(A(e,t,this.size))return this;var r=I(e,this.size);if(j(t,this.size)!==this.size)return _e.prototype.slice.call(this,e,t);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):xr(n,i)},wr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},wr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new M((function(){if(n){var t=n.value;return n=n.next,k(e,r++,t)}return{value:void 0,done:!0}}))},wr.isStack=Or;var Sr,Tr="@@__IMMUTABLE_STACK__@@",Er=wr.prototype;function xr(e,t,r,n){var i=Object.create(Er);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ar(){return Sr||(Sr=xr(0))}function Ir(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Er[Tr]=!0,Er.withMutations=Ce.withMutations,Er.asMutable=Ce.asMutable,Er.asImmutable=Ce.asImmutable,Er.wasAltered=Ce.wasAltered,r.Iterator=M,Ir(r,{toArray:function(){Me(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Pt(this,!0)},toMap:function(){return ke(this.toKeyedSeq())},toObject:function(){Me(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return At(this.toKeyedSeq())},toOrderedSet:function(){return yr(o(this)?this.valueSeq():this)},toSet:function(){return or(o(this)?this.valueSeq():this)},toSetSeq:function(){return new Mt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wr(o(this)?this.valueSeq():this)},toList:function(){return lt(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return $t(this,Qt(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return pe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Me(this.size);var r=!0;return this.__iterate((function(n,i,s){if(!e.call(t,n,i,s))return r=!1,!1})),r},filter:function(e,t){return $t(this,Ct(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Me(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Me(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return $t(this,Ft(this,e,t))},reduce:function(e,t,r){var n,i;return Me(this.size),arguments.length<2?i=!0:n=t,this.__iterate((function(t,s,a){i?(i=!1,n=t):n=e.call(r,n,t,s,a)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return $t(this,qt(this,!0))},slice:function(e,t){return $t(this,Bt(this,e,t,!0))},some:function(e,t){return!this.every(Dr(e),t)},sort:function(e){return $t(this,zt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return T(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=ke().asMutable();return e.__iterate((function(i,s){n.update(t.call(r,i,s,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return he(this,e)},entrySeq:function(){var e=this;if(e._cache)return new J(e._cache);var t=e.toSeq().map(Pr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Dr(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,s){if(e.call(t,r,i,s))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(x)},flatMap:function(e,t){return $t(this,function(e,t,r){var n=Kt(e);return e.toSeq().map((function(i,s){return n(t.call(r,i,s,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return $t(this,Vt(this,e,!0))},fromEntrySeq:function(){return new kt(this)},get:function(e,t){return this.find((function(t,r){return pe(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,i=tr(e);!(r=i.next()).done;){var s=r.value;if((n=n&&n.get?n.get(s,g):g)===g)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=o(e),i=(l(e)?At():ke()).asMutable();e.__iterate((function(s,a){i.update(t.call(r,s,a,e),(function(e){return(e=e||[]).push(n?[a,s]:s),e}))}));var s=Kt(e);return i.map((function(t){return $t(e,s(t))}))}(this,e,t)},has:function(e){return this.get(e,g)!==g},hasIn:function(e){return this.getIn(e,g)!==g},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return pe(t,e)}))},keySeq:function(){return this.toSeq().map(Rr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Mr(e):Fr)},minBy:function(e,t){return Gt(this,t?Mr(t):Fr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return $t(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return $t(this,Ut(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Dr(e),t)},sortBy:function(e,t){return $t(this,zt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return $t(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return $t(this,function(e,t,r){var n=Zt(e);return n.__iterateUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate((function(e,i,o){return t.call(r,e,i,o)&&++a&&n(e,i,s)})),a},n.__iteratorUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(2,i),o=!0;return new M((function(){if(!o)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,s)?2===n?e:k(n,u,c,e):(o=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Dr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),r=o(e),n=t?1:0;return function(e,t){return t=ve(t,3432918353),t=ve(t<<15|t>>>-15,461845907),t=ve(t<<13|t>>>-13,5),t=ve((t=(t+3864292196|0)^e)^t>>>16,2246822507),we((t=ve(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+qr(Oe(e),Oe(t))|0}:function(e,t){n=n+qr(Oe(e),Oe(t))|0}:t?function(e){n=31*n+Oe(e)|0}:function(e){n=n+Oe(e)|0}),n)}(this))}});var jr=r.prototype;jr[p]=!0,jr[D]=jr.values,jr.__toJS=jr.toArray,jr.__toStringMapper=kr,jr.inspect=jr.toSource=function(){return this.toString()},jr.chain=jr.flatMap,jr.contains=jr.includes,Ir(n,{flip:function(){return $t(this,Lt(this))},mapEntries:function(e,t){var r=this,n=0;return $t(this,this.toSeq().map((function(i,s){return e.call(t,[s,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return $t(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Nr=n.prototype;function Rr(e,t){return t}function Pr(e,t){return[t,e]}function Dr(e){return function(){return!e.apply(this,arguments)}}function Mr(e){return function(){return-e.apply(this,arguments)}}function kr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Lr(){return S(arguments)}function Fr(e,t){return e<t?1:e>t?-1:0}function qr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nr[h]=!0,Nr[D]=jr.entries,Nr.__toJS=jr.toObject,Nr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+kr(e)},Ir(i,{toKeyedSeq:function(){return new Pt(this,!1)},filter:function(e,t){return $t(this,Ct(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return $t(this,qt(this,!1))},slice:function(e,t){return $t(this,Bt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=I(e,e<0?this.count():this.size);var n=this.slice(0,e);return $t(this,1===r?n:n.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return $t(this,Vt(this,e,!1))},get:function(e,t){return(e=E(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=E(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return $t(this,function(e,t){var r=Zt(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,s=0;return e.__iterate((function(e,n){return(!s||!1!==r(t,s++,i))&&!1!==r(e,s++,i)}),n),s},r.__iteratorUncached=function(r,n){var i,s=e.__iterator(1,n),a=0;return new M((function(){return(!i||a%2)&&(i=s.next()).done?i:a%2?k(r,a++,t):k(r,a++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=Ht(this.toSeq(),z.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),$t(this,r)},keySeq:function(){return ye(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return $t(this,Ut(this,e,t,!1))},zip:function(){return $t(this,Ht(this,Lr,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,$t(this,Ht(this,e,t))}}),i.prototype[d]=!0,i.prototype[f]=!0,Ir(s,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),s.prototype.has=jr.includes,s.prototype.contains=s.prototype.includes,Ir(V,n.prototype),Ir(z,i.prototype),Ir(G,s.prototype),Ir(ge,n.prototype),Ir(_e,i.prototype),Ir(be,s.prototype),{Iterable:r,Seq:Q,Collection:me,Map:ke,OrderedMap:At,List:lt,Stack:wr,Set:or,OrderedSet:yr,Record:rr,Range:ye,Repeat:de,is:pe,fromJS:oe}}()},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},4970:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},5920:(e,t,r)=>{var n="__lodash_hash_undefined__",i=/^\[object .+?Constructor\]$/,s="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,o=s||a||Function("return this")();function u(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,s=-1;++s<i;)if(t(e[s],s,e))return s;return-1}(e,l);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function c(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function l(e){return e!=e}function p(e,t){return e.has(t)}function h(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var d,f=Array.prototype,y=Function.prototype,m=Object.prototype,g=o["__core-js_shared__"],_=(d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",b=y.toString,v=m.hasOwnProperty,w=m.toString,O=RegExp("^"+b.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=f.splice,T=M(o,"Map"),E=M(o,"Set"),x=M(Object,"create");function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function R(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}A.prototype.clear=function(){this.__data__=x?x(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(x){var r=t[e];return r===n?void 0:r}return v.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:v.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?n:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():S.call(t,r,1),0))},I.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},I.prototype.has=function(e){return R(this.__data__,e)>-1},I.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new A,map:new(T||I),string:new A}},j.prototype.delete=function(e){return D(this,e).delete(e)},j.prototype.get=function(e){return D(this,e).get(e)},j.prototype.has=function(e){return D(this,e).has(e)},j.prototype.set=function(e,t){return D(this,e).set(e,t),this},N.prototype.add=N.prototype.push=function(e){return this.__data__.set(e,n),this},N.prototype.has=function(e){return this.__data__.has(e)};var P=E&&1/h(new E([,-0]))[1]==1/0?function(e){return new E(e)}:function(){};function D(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function M(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!k(e)||(t=e,_&&_ in t))&&(function(e){var t=k(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:i).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,r){var n=-1,i=u,s=e.length,a=!0,o=[],l=o;if(r)a=!1,i=c;else if(s>=200){var d=P(e);if(d)return h(d);a=!1,i=p,l=new N}else l=o;e:for(;++n<s;){var f=e[n],y=f;if(f=r||0!==f?f:0,a&&y==y){for(var m=l.length;m--;)if(l[m]===y)continue e;o.push(f)}else i(l,y,r)||(l!==o&&l.push(y),o.push(f))}return o}(e,0,t):[]}},9593:(e,t,r)=>{"use strict";const n=r(4411),i=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),f=()=>1,y=(e,t,r)=>{const n=e[h].get(t);if(n){const t=n.value;if(m(e,t)){if(_(e,n),!e[o])return}else r&&(e[d]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},g=e=>{if(e[s]>e[i])for(let t=e[p].tail;e[s]>e[i]&&null!==t;){const r=t.prev;_(e,t),t=r}},_=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[p].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const v=(e,t,r,n)=>{let i=r.value;m(e,i)&&(_(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,g(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[s]=0,this[p].forEach((e=>{e.length=this[a](e.value,e.key),this[s]+=e.length}))),g(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let r=this[p].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[p].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[c]&&this[p]&&this[p].length&&this[p].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[p]=new n,this[s]=0}dump(){return this[p].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[a](t,e);if(this[h].has(e)){if(o>this[i])return _(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[s]+=o-a.length,a.length=o,this.get(e),g(this),!0}const d=new b(e,t,o,n,r);return d.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=d.length,this[p].unshift(d),this[h].set(e,this[p].head),g(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[p].tail;return e?(_(this,e),e.value):null}del(e){_(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach(((e,t)=>y(this,t,!1)))}}},1167:(e,t,r)=>{"use strict";var n=r(5717),i=r(3349),s=r(9509).Buffer,a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,s,a){return u(e+(t&r|~t&n)+i+s|0,a)+t|0}function l(e,t,r,n,i,s,a){return u(e+(t&n|r&~n)+i+s|0,a)+t|0}function p(e,t,r,n,i,s,a){return u(e+(t^r^n)+i+s|0,a)+t|0}function h(e,t,r,n,i,s,a){return u(e+(r^(t|~n))+i+s|0,a)+t|0}n(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=c(r,n,i,s,e[0],3614090360,7),s=c(s,r,n,i,e[1],3905402710,12),i=c(i,s,r,n,e[2],606105819,17),n=c(n,i,s,r,e[3],3250441966,22),r=c(r,n,i,s,e[4],4118548399,7),s=c(s,r,n,i,e[5],1200080426,12),i=c(i,s,r,n,e[6],2821735955,17),n=c(n,i,s,r,e[7],4249261313,22),r=c(r,n,i,s,e[8],1770035416,7),s=c(s,r,n,i,e[9],2336552879,12),i=c(i,s,r,n,e[10],4294925233,17),n=c(n,i,s,r,e[11],2304563134,22),r=c(r,n,i,s,e[12],1804603682,7),s=c(s,r,n,i,e[13],4254626195,12),i=c(i,s,r,n,e[14],2792965006,17),r=l(r,n=c(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=l(s,r,n,i,e[6],3225465664,9),i=l(i,s,r,n,e[11],643717713,14),n=l(n,i,s,r,e[0],3921069994,20),r=l(r,n,i,s,e[5],3593408605,5),s=l(s,r,n,i,e[10],38016083,9),i=l(i,s,r,n,e[15],3634488961,14),n=l(n,i,s,r,e[4],3889429448,20),r=l(r,n,i,s,e[9],568446438,5),s=l(s,r,n,i,e[14],3275163606,9),i=l(i,s,r,n,e[3],4107603335,14),n=l(n,i,s,r,e[8],1163531501,20),r=l(r,n,i,s,e[13],2850285829,5),s=l(s,r,n,i,e[2],4243563512,9),i=l(i,s,r,n,e[7],1735328473,14),r=p(r,n=l(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=p(s,r,n,i,e[8],2272392833,11),i=p(i,s,r,n,e[11],1839030562,16),n=p(n,i,s,r,e[14],4259657740,23),r=p(r,n,i,s,e[1],2763975236,4),s=p(s,r,n,i,e[4],1272893353,11),i=p(i,s,r,n,e[7],4139469664,16),n=p(n,i,s,r,e[10],3200236656,23),r=p(r,n,i,s,e[13],681279174,4),s=p(s,r,n,i,e[0],3936430074,11),i=p(i,s,r,n,e[3],3572445317,16),n=p(n,i,s,r,e[6],76029189,23),r=p(r,n,i,s,e[9],3654602809,4),s=p(s,r,n,i,e[12],3873151461,11),i=p(i,s,r,n,e[15],530742520,16),r=h(r,n=p(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=h(s,r,n,i,e[7],1126891415,10),i=h(i,s,r,n,e[14],2878612391,15),n=h(n,i,s,r,e[5],4237533241,21),r=h(r,n,i,s,e[12],1700485571,6),s=h(s,r,n,i,e[3],2399980690,10),i=h(i,s,r,n,e[10],4293915773,15),n=h(n,i,s,r,e[1],2240044497,21),r=h(r,n,i,s,e[8],1873313359,6),s=h(s,r,n,i,e[15],4264355552,10),i=h(i,s,r,n,e[6],2734768916,15),n=h(n,i,s,r,e[13],1309151649,21),r=h(r,n,i,s,e[4],4149444226,6),s=h(s,r,n,i,e[11],3174756917,10),i=h(i,s,r,n,e[2],718787259,15),n=h(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},1657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BlankNode:()=>L,DataFactory:()=>P,DefaultGraph:()=>q,Lexer:()=>m,Literal:()=>k,NamedNode:()=>M,Parser:()=>X,Quad:()=>U,Store:()=>se,StreamParser:()=>oe,StreamWriter:()=>ue,Term:()=>D,Triple:()=>U,Util:()=>n,Variable:()=>F,Writer:()=>re,termFromId:()=>C,termToId:()=>B});var n={};r.r(n),r.d(n,{inDefaultGraph:()=>O,isBlankNode:()=>_,isDefaultGraph:()=>w,isLiteral:()=>b,isNamedNode:()=>g,isVariable:()=>v,prefix:()=>S,prefixes:()=>T});var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";const o={xsd:{decimal:s+"decimal",boolean:s+"boolean",double:s+"double",integer:s+"integer",string:s+"string"},rdf:{type:i+"type",nil:i+"nil",first:i+"first",rest:i+"rest",langString:i+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:a+"reify#forSome",forAll:a+"reify#forAll"},log:{implies:a+"log#implies"}};var u=r(4375),c=r.n(u);const{xsd:l}=o;var p=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,h={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/,f={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},y=/$0^/;class m{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(var t in this._n3Mode=!1,this)!(t in f)&&this[t]instanceof RegExp&&(this[t]=y);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){for(var r=this._input,n=this._comments;;){for(var i,s;i=this._newline.exec(r);)n&&(s=this._comment.exec(i[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),r=r.substr(i[0].length,r.length),this._line++;if(!i&&(i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(s=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var a=this._line,o="",u="",c="",p=r[0],h=null,f=0,y=!1;switch(p){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(f=1,o="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){y=!0;break}case"<":if(h=this._unescapedIri.exec(r))o="IRI",u=h[1];else if(h=this._iri.exec(r)){if(null===(u=this._unescape(h[1]))||d.test(u))return g(this);o="IRI"}else r.length>1&&"<"===r[1]?(o="<<",f=2):this._n3Mode&&r.length>1&&"="===r[1]&&(o="inverse",f=2,u=">");break;case">":r.length>1&&">"===r[1]&&(o=">>",f=2);break;case"_":((h=this._blank.exec(r))||t&&(h=this._blank.exec(r+" ")))&&(o="blank",c="_",u=h[1]);break;case'"':if(h=this._simpleQuotedString.exec(r))u=h[1];else if(({value:u,matchLength:f}=this._parseLiteral(r)),null===u)return g(this);null===h&&0===f||(o="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(h=this._simpleApostropheString.exec(r))u=h[1];else if(({value:u,matchLength:f}=this._parseLiteral(r)),null===u)return g(this);null===h&&0===f||(o="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(h=this._variable.exec(r))&&(o="var",u=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(r))?(o="langcode",u=h[1]):(h=this._keyword.exec(r))&&(o=h[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){o=".",f=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(r)||t&&(h=this._number.exec(r+" ")))&&(o="literal",u=h[0],c="string"==typeof h[1]?l.double:"string"==typeof h[2]?l.decimal:l.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(r))?o=h[0].toUpperCase():y=!0;break;case"f":case"t":(h=this._boolean.exec(r))?(o="literal",u=h[0],c=l.boolean):y=!0;break;case"a":(h=this._shortPredicates.exec(r))?(o="abbreviation",u="a"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(o="abbreviation",">"!==r[1]?(f=1,u="="):(f=2,u=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(f=1,o=p);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(r))?((h=this._prefixed.exec(r))||t&&(h=this._prefixed.exec(r+" ")))&&(o="prefixed",c=h[1]||"",u=this._unescape(h[2])):(o="prefix",u=h[1]||"")),"^^"===this._previousMarker)switch(o){case"prefixed":o="type";break;case"IRI":o="typeIRI";break;default:o=""}if(!o)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?g(this):this._input=r;var m={line:a,type:o,value:u,prefix:c};e(null,m),this.previousToken=m,this._previousMarker=o,r=r.substr(f||h[0].length,r.length)}function g(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(p,((e,r,n,i)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in h?h[i]:(t=!0,"")}));return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2==0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,s=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:s}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(e,t){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var n,i=[];if(this._tokenizeToEnd((function(e,t){e?n=e:i.push(t)}),!0),n)throw n;return i}c()((()=>r._tokenizeToEnd(t,!0)))}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=Buffer.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:(r._input+=e,r._tokenizeToEnd(t,!1)))})),e.on("end",(function(){null!==r._input&&r._tokenizeToEnd(t,!0)})),e.on("error",t)}}function g(e){return!!e&&"NamedNode"===e.termType}function _(e){return!!e&&"BlankNode"===e.termType}function b(e){return!!e&&"Literal"===e.termType}function v(e){return!!e&&"Variable"===e.termType}function w(e){return!!e&&"DefaultGraph"===e.termType}function O(e){return w(e.graph)}function S(e,t){return T({"":e},t)("")}function T(e,t){var r=Object.create(null);for(var n in e)i(n,e[n]);function i(e,n){if("string"==typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||P,i}const{rdf:E,xsd:x}=o;let A,I=0;const j=/^"(.*".*)(?="[^"]*$)/,N=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,R={namedNode:function(e){return new M(e)},blankNode:function(e){return new L(e||"n3-"+I++)},variable:function(e){return new F(e)},literal:function(e,t){if("string"==typeof t)return new k('"'+e+'"@'+t.toLowerCase());let r=t?t.value:"";return""===r&&("boolean"==typeof e?r=x.boolean:"number"==typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?x.integer:x.double:(r=x.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===r||r===x.string?new k('"'+e+'"'):new k('"'+e+'"^^'+r)},defaultGraph:function(){return A},quad:z,triple:z},P=R;class D{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof D?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class M extends D{get termType(){return"NamedNode"}}class k extends D{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new M(this.datatypeString)}get datatypeString(){var e,t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&"^"===(e=t[r])?t.substr(r+2):"@"!==e?x.string:E.langString}equals(e){return e instanceof k?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class L extends D{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class F extends D{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class q extends D{constructor(){return super(""),A||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function C(e,t){if(t=t||R,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===R)return new k(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));case"<":const n=N.exec(e);return t.quad(C(V(n[1]),t),C(V(n[2]),t),C(V(n[3]),t),n[4]&&C(V(n[4]),t));default:return t.namedNode(e)}}function B(e){if("string"==typeof e)return e;if(e instanceof D&&"Quad"!==e.termType)return e.id;if(!e)return A.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==x.string?"^^"+e.datatype.value:"");case"Quad":return`<<${Q(B(e.subject))} ${Q(B(e.predicate))} ${Q(B(e.object))}${w(e.graph)?"":" "+B(e.graph)}>>`;default:throw new Error("Unexpected termType: "+e.termType)}}A=new q;class U extends D{constructor(e,t,r,n){super(""),this.subject=e,this.predicate=t,this.object=r,this.graph=n||A}get termType(){return"Quad"}toJSON(){return{termType:this.termType,subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}function Q(e){return e.replace(j,((e,t)=>'"'+t.replace(/"/g,'""')))}function V(e){return e.replace(j,((e,t)=>'"'+t.replace(/""/g,'"')))}function z(e,t,r,n){return new U(e,t,r,n)}let G=0;class X{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&$(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),i=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),o=i||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),o&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new m({lineMode:o,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){G=0}_setBase(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){var s=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(null===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){var t=null,r=null,n=this._subject,i=this._contextStack,s=i[i.length-1],a=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===s.predicate?s.subject=r:s.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==r){var s=this._predicate,a=this._object;i?this._emit(a,s,r,n):this._emit(r,s,a,n)}return t}_readBlankNodePunctuation(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}_readForwardPath(e){var t,r,n=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){var t,r,n=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'+this._object.id+'"',e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error("Expected >> but got "+e.type,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=H}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,s=0,a="/";n<r;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(a=e[1+ ++n]){case"/":t+=e.substring(s,n-1),s=n+1;break;case void 0:case"?":case"#":return t+e.substring(s,n)+e.substr(n+1);case".":if(void 0===(a=e[1+ ++n])||"/"===a||"?"===a||"#"===a){if((s=(t+=e.substring(s,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,s)),"/"!==a)return t+"/"+e.substr(n+1);s=n+1}}}a=e[++n]}return t+e.substring(s)}parse(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+G+++"_",this._prefixCallback=r||H,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,s=[];if(this._callback=function(e,t){e?i=e:t&&s.push(t)},this._lexer.tokenize(e).every((function(e){return n._readCallback=n._readCallback(e)})),i)throw i;return s}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(n._callback(e),n._callback=H):n._readCallback&&(n._readCallback=n._readCallback(t))}))}}function H(){}function $(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(o.rdf.first),e.RDF_REST=r(o.rdf.rest),e.RDF_NIL=r(o.rdf.nil),e.N3_FORALL=r(o.r.forAll),e.N3_FORSOME=r(o.r.forSome),e.ABBREVIATIONS={a:r(o.rdf.type),"=":r(o.owl.sameAs),">":r(o.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}$(X.prototype,P);const Y=P.defaultGraph(),{rdf:J,xsd:K}=o;var Z=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,W=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ee={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class te extends D{equals(){return!1}}class re{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=Y,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return Y.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(Y.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return this._encodeSubject(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}quadsToString(e){return e.map((function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)}),this).join("")}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;var t=e.value;Z.test(t)&&(t=t.replace(W,ne));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<"+t+">"}_encodeLiteral(e){var t=e.value;return Z.test(t)&&(t=t.replace(W,ne)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==K.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}_encodePredicate(e){return e.value===J.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:n}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${w(n)?"":" "+this._encodeIriOrBlank(n)}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,Y,n):this._writeQuad(e,t,r,n||Y,i)}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var s=e[i];"string"!=typeof s&&(s=s.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),r[s]=i+=":",this._write("@prefix "+i+" <"+s+">.\n")}if(n){var a="",o="";for(var u in r)a+=a?"|"+u:u,o+=(o?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+o+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)}blank(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new te("[]");case 1:if(!((r=i[0]).object instanceof te))return new te("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var s="[",a=0;a<n;a++)(r=i[a]).predicate.equals(e)?s+=", "+this._encodeObject(r.object):(s+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return new te(s+"\n]")}}list(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new te("("+r.join(" ")+")")}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}function ne(e){var t=ee[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var ie=r(2413);class se{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||P,e&&this.addQuads(e)}get size(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var s in t=n[i].subjects)for(var a in r=t[s])e+=Object.keys(r[a]).length;return this._size=e}_addToIndex(e,t,r,n){var i=e[t]||(e[t]={}),s=i[r]||(i[r]={}),a=n in s;return a||(s[n]=null),!a}_removeFromIndex(e,t,r,n){var i,s=e[t],a=s[r];for(i in delete a[n],a)return;for(i in delete s[r],s)return;delete e[t]}_findInIndex(e,t,r,n,i,s,a,o,u,c){var l,p,h,d=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var f in t&&((l=e,e={})[t]=l[t]),e){var y=d[f];if(p=e[f])for(var m in r&&((l=p,p={})[r]=l[r]),p){var g=d[m];if(h=p[m])for(var _=(n?n in h?[n]:[]:Object.keys(h)),b=0;b<_.length;b++){var v={subject:null,predicate:null,object:null};v[i]=C(y,this._factory),v[s]=C(g,this._factory),v[a]=C(d[_[b]],this._factory);var w=this._factory.quad(v.subject,v.predicate,v.object,C(o,this._factory));if(c)c.push(w);else if(u(w))return!0}}}return c}_loop(e,t){for(var r in e)t(r)}_loopByKey0(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){var n;for(n in e)e[n][t]&&r(n)}_loopBy2Keys(e,t,r,n){var i,s,a;if((i=e[t])&&(s=i[r]))for(a in s)n(a)}_countInIndex(e,t,r,n){var i,s,a,o=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(s=e[u])for(var c in r&&((i=s,s={})[r]=i[r]),s)(a=s[c])&&(n?n in a&&o++:o+=Object.keys(a).length);return o}_getGraphs(e){if(!ae(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(C(r[n])))}}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=B(e),t=B(t),r=B(r),n=B(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),r=s[r]||(s[a[++this._id]=r]=this._id);var o=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,o}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}import(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}removeQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=B(e),t=B(t),r=B(r),n=B(n);var i,s,a,o=this._ids,u=this._graphs;if(!((e=o[e])&&(t=o[t])&&(r=o[r])&&(i=u[n])&&(s=i.subjects[e])&&(a=s[t])&&r in a))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0}removeQuads(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}removeMatches(e,t,r,n){return this.remove(this.match(e,t,r,n))}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){e=e&&B(e),t=t&&B(t),r=r&&B(r),n=n&&B(n);var i,s,a,o,u=[],c=this._getGraphs(n),l=this._ids;if(ae(e)&&!(s=l[e])||ae(t)&&!(a=l[t])||ae(r)&&!(o=l[r]))return u;for(var p in c)(i=c[p])&&(s?o?this._findInIndex(i.objects,o,s,a,"object","subject","predicate",p,null,u):this._findInIndex(i.subjects,s,a,null,"subject","predicate","object",p,null,u):a?this._findInIndex(i.predicates,a,o,null,"predicate","object","subject",p,null,u):o?this._findInIndex(i.objects,o,null,null,"object","subject","predicate",p,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p,null,u));return u}match(e,t,r,n){var i=new ie.Readable({objectMode:!0});return i._read=()=>{for(var s of this.getQuads(e,t,r,n))i.push(s);i.push(null)},i}countQuads(e,t,r,n){e=e&&B(e),t=t&&B(t),r=r&&B(r),n=n&&B(n);var i,s,a,o,u=0,c=this._getGraphs(n),l=this._ids;if(ae(e)&&!(s=l[e])||ae(t)&&!(a=l[t])||ae(r)&&!(o=l[r]))return 0;for(var p in c)(i=c[p])&&(u+=e?r?this._countInIndex(i.objects,o,s,a):this._countInIndex(i.subjects,s,a,o):t?this._countInIndex(i.predicates,a,o,s):this._countInIndex(i.objects,o,s,a));return u}forEach(e,t,r,n,i){this.some((function(t){return e(t),!1}),t,r,n,i)}every(e,t,r,n,i){var s=!1,a=!this.some((function(t){return s=!0,!e(t)}),t,r,n,i);return s&&a}some(e,t,r,n,i){t=t&&B(t),r=r&&B(r),n=n&&B(n),i=i&&B(i);var s,a,o,u,c=this._getGraphs(i),l=this._ids;if(ae(t)&&!(a=l[t])||ae(r)&&!(o=l[r])||ae(n)&&!(u=l[n]))return!1;for(var p in c)if(s=c[p])if(a){if(u){if(this._findInIndex(s.objects,u,a,o,"object","subject","predicate",p,e,null))return!0}else if(this._findInIndex(s.subjects,a,o,null,"subject","predicate","object",p,e,null))return!0}else if(o){if(this._findInIndex(s.predicates,o,u,null,"predicate","object","subject",p,e,null))return!0}else if(u){if(this._findInIndex(s.objects,u,null,null,"object","subject","predicate",p,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",p,e,null))return!0;return!1}getSubjects(e,t,r){var n=[];return this.forSubjects((function(e){n.push(e)}),e,t,r),n}forSubjects(e,t,r,n){t=t&&B(t),r=r&&B(r),n=n&&B(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ae(t)&&!(s=o[t])||ae(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.predicates,s,a,e):this._loopByKey1(i.subjects,s,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))}getPredicates(e,t,r){var n=[];return this.forPredicates((function(e){n.push(e)}),e,t,r),n}forPredicates(e,t,r,n){t=t&&B(t),r=r&&B(r),n=n&&B(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ae(t)&&!(s=o[t])||ae(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.objects,a,s,e):this._loopByKey0(i.subjects,s,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))}getObjects(e,t,r){var n=[];return this.forObjects((function(e){n.push(e)}),e,t,r),n}forObjects(e,t,r,n){t=t&&B(t),r=r&&B(r),n=n&&B(n);var i,s,a,o=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ae(t)&&!(s=o[t])||ae(r)&&!(a=o[r])))for(n in u)(i=u[n])&&(s?a?this._loopBy2Keys(i.subjects,s,a,e):this._loopByKey1(i.objects,s,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))}getGraphs(e,t,r){var n=[];return this.forGraphs((function(e){n.push(e)}),e,t,r),n}forGraphs(e,t,r,n){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,r,n,i)}createBlankNode(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){var r={},n=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,o.rdf.rest,o.rdf.nil,null),s=e?[...i]:[];return i.forEach((t=>{for(var i,a,u=[],c=!1,l=t.graph,p=t.subject;p&&!c;){var h,d,f=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null),m=null,g=null,_=null;for(h=0;h<y.length&&!c;h++)(d=y[h]).graph.equals(l)?i?c=n(p,"has non-list arcs out"):d.predicate.value===o.rdf.first?m?c=n(p,"has multiple rdf:first arcs"):s.push(m=d):d.predicate.value===o.rdf.rest?g?c=n(p,"has multiple rdf:rest arcs"):s.push(g=d):f.length?c=n(p,"can't be subject and object"):(i=d,a="subject"):c=n(p,"not confined to single graph");for(h=0;h<f.length&&!c;++h)d=f[h],i?c=n(p,"can't have coreferences"):d.predicate.value===o.rdf.rest?_?c=n(p,"has incoming rdf:rest arcs"):_=d:(i=d,a="object");m?u.unshift(m.object):c=n(p,"has no list head"),p=_&&_.subject}c?e=!1:i&&(r[i[a].value]=u)})),e&&this.removeQuads(s),r}}function ae(e){return"string"==typeof e||e instanceof String}class oe extends ie.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;var t,r,n=this;new X(e).parse({on:function(e,n){switch(e){case"data":t=n;break;case"end":r=n}}},(function(e,t){e&&n.emit("error",e)||t&&n.push(t)}),(function(e,t){n.emit("prefix",e,t)})),this._transform=function(e,r,n){t(e),n()},this._flush=function(e){r(),e()}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}class ue extends ie.Transform{constructor(e){super({encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=this._writer=new re({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addQuad(e,n)},this._flush=function(e){r.end(e)}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,r){t._writer.addPrefix(e,r)})),this}}},4375:e=>{let t;e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},1640:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7970),t),i(r(7498),t),i(r(6381),t),i(r(2808),t),i(r(2016),t),i(r(3387),t),i(r(1573),t)},7970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0,t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},7498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(7970),i=r(6381),s=r(2808),a=r(2016),o=r(3387),u=r(1573);t.DataFactory=class{constructor(){this.blankNodeCounter=0}namedNode(e){return new a.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"df_"+this.blankNodeCounter++)}literal(e,t){return new s.Literal(e,t)}variable(e){return new u.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new o.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(s.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},6381:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},2808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(2016);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=i.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},2016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0,t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},3387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0,t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},1573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},7945:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const i=r(1640),s=r(3295),a=r(38);n(r(3295)),n(r(38));const o=new i.DataFactory,u=new a.Translator;function c(e,t){return u.fromRdf(e,t)}u.registerHandler(new s.TypeHandlerString,s.TypeHandlerString.TYPES.map((e=>o.namedNode(e))),["string"]),u.registerHandler(new s.TypeHandlerBoolean,[s.TypeHandlerBoolean.TYPE].map((e=>o.namedNode(e))),["boolean"]),u.registerHandler(new s.TypeHandlerNumberDouble,s.TypeHandlerNumberDouble.TYPES.map((e=>o.namedNode(e))),["number"]),u.registerHandler(new s.TypeHandlerNumberInteger,s.TypeHandlerNumberInteger.TYPES.map((e=>o.namedNode(e))),["number"]),u.registerHandler(new s.TypeHandlerDate,s.TypeHandlerDate.TYPES.map((e=>o.namedNode(e))),["object"]),t.fromRdf=c,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=o),u.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?c(e,t):e.value},t.getSupportedRdfDatatypes=function(){return u.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return u.getSupportedJavaScriptPrimitives()}},38:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,t,r){for(const r of t)this.supportedRdfDatatypes.push(r),this.fromRdfHandlers[r.value]=e;for(const t of r){let r=this.toRdfHandlers[t];r||(this.toRdfHandlers[t]=r=[]),r.push(e)}}fromRdf(e,t){const r=this.fromRdfHandlers[e.datatype.value];return r?r.fromRdf(e,t):e.value}toRdf(e,t){const r=this.toRdfHandlers[typeof e];if(r)for(const n of r){const r=n.toRdf(e,t);if(r)return r}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},3737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(38);class i{fromRdf(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&n.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(e?"true":"false",t||r.namedNode(i.TYPE))}}t.TypeHandlerBoolean=i,i.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},3896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(38);class i{fromRdf(e,t){switch(t&&!e.value.match(i.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&n.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const t=e.value.split("-");return new Date(0,parseInt(t[0],10)-1,parseInt(t[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:t,dataFactory:r}){if(t=t||r.namedNode(i.TYPES[0]),!(e instanceof Date))return null;const n=e;let s;switch(t.value){case"http://www.w3.org/2001/XMLSchema#gDay":s=String(n.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":s=n.getUTCMonth()+1+"-"+n.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":s=String(n.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":s=n.getUTCFullYear()+"-"+(n.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":s=n.toISOString().replace(/T.*$/,"");break;default:s=n.toISOString()}return r.literal(s,t)}}t.TypeHandlerDate=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],i.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(38);class i{fromRdf(e,t){const r=parseFloat(e.value);return t&&isNaN(r)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,{datatype:t,dataFactory:r}){return t=t||r.namedNode(i.TYPES[0]),isNaN(e)?r.literal("NaN",t):isFinite(e)?e%1==0?null:r.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t):r.literal(e>0?"INF":"-INF",t)}}t.TypeHandlerNumberDouble=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},9736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(38);class i{fromRdf(e,t){const r=parseInt(e.value,10);return t&&(isNaN(r)||e.value.indexOf(".")>=0)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(String(e),t||(e<=i.MAX_INT&&e>=i.MIN_INT?r.namedNode(i.TYPES[0]):r.namedNode(i.TYPES[1])))}}t.TypeHandlerNumberInteger=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648},7968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{fromRdf(e){return e.value}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(e,t)}}t.TypeHandlerString=r,r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},3295:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(3737)),n(r(3896)),n(r(340)),n(r(9736)),n(r(7968))},5751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeStream=void 0;const n=r(1657);t.storeStream=function(e){const t=new n.Store;return new Promise((r=>t.import(e).once("end",(()=>r(t)))))}},2086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r(5121);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},5121:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=new(r(1640).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${i(e.subject)} ${i(e.predicate)} ${i(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+i(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function s(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function a(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function o(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function u(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=o(e),n=t.namedNode(a(e));return t.literal(s(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let i=0,s=0;for(let t=0;t<r.length;t++){const a=r[t];if("<"===a&&i++,">"===a){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}" "===a&&0===i&&(n.push(r.slice(s,t)),s=t+1)}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(s,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(u(n[0]),u(n[1]),u(n[2]),n[3]?u(n[3]):void 0)}return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=s,t.getLiteralType=a,t.getLiteralLanguage=o,t.stringToTerm=u,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(u(e.subject,t),u(e.predicate,t),u(e.object,t),u(e.graph,t))}},1234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2682);t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.getTermsNested=n.getTermsNested,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const i=r(462);t.getBlankNodes=i.getBlankNodes,t.getDefaultGraphs=i.getDefaultGraphs,t.getLiterals=i.getLiterals,t.getNamedNodes=i.getNamedNodes,t.getTermsOfType=i.getTermsOfType,t.getVariables=i.getVariables,t.TERM_TYPES=i.TERM_TYPES,t.uniqTerms=i.uniqTerms},2682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new(r(1640).DataFactory);function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function s(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&o(e,t)||t.equals(e)}function a(e,t,r,n,i){return s(e.subject,t)&&s(e.predicate,r)&&s(e.object,n)&&s(e.graph,i)}function o(e,t){return a(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=function e(t,r){const n=[];for(const s of i(t,r))"Quad"===s.termType?e(s,r).forEach((e=>n.push(e))):n.push(s);return n},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach((e=>i[e.key]=e.value)),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.matchTerm=s,t.matchPattern=a,t.matchPatternComplete=o},462:(e,t,r)=>{"use strict";function n(e,t){return e.filter((e=>e.termType===t))}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=function(e){return r(5920)(e,((e,t)=>e.equals(t)))},t.getTermsOfType=n,t.getNamedNodes=function(e){return n(e,"NamedNode")},t.getBlankNodes=function(e){return n(e,"BlankNode")},t.getLiterals=function(e){return n(e,"Literal")},t.getVariables=function(e){return n(e,"Variable")},t.getDefaultGraphs=function(e){return n(e,"DefaultGraph")},t.getQuads=function(e){return n(e,"Quad")}},8912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(9336))},9336:(e,t)=>{"use strict";function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!i(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!i(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map((e=>e.join(""))).join("/")}function n(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const i=e.indexOf("/",n);return i<0?e:e.substr(0,i)+r(e.substr(i))}function i(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(e,t){const i=(t=t||"").indexOf("#");if(i>0&&(t=t.substr(0,i)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return n(e,t)}const s=e.indexOf(":");if(s>=0)return n(e,s);const a=t.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const o=t.substr(0,a+1);if(0===e.indexOf("//"))return o+n(e,s);let u;if(t.indexOf("//",a)===a+1){if(u=t.indexOf("/",a+3),u<0)return t.length>a+3?t+"/"+n(e,s):o+n(e,s)}else if(u=t.indexOf("/",a+1),u<0)return o+n(e,s);if(0===e.indexOf("/"))return t.substr(0,u)+r(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=c+e),t.substr(0,u)+e},t.removeDotSegments=r,t.removeDotSegmentsOfPath=n},9785:(e,t,r)=>{"use strict";var n=r(4293).Buffer,i=r(5717),s=r(3349),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,s,a,o){return f(e+(t^r^n)+s+a|0,o)+i|0}function m(e,t,r,n,i,s,a,o){return f(e+(t&r|~t&n)+s+a|0,o)+i|0}function g(e,t,r,n,i,s,a,o){return f(e+((t|~r)^n)+s+a|0,o)+i|0}function _(e,t,r,n,i,s,a,o){return f(e+(t&n|r&~n)+s+a|0,o)+i|0}function b(e,t,r,n,i,s,a,o){return f(e+(t^(r|~n))+s+a|0,o)+i|0}i(d,s),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,v=0|this._a,w=0|this._b,O=0|this._c,S=0|this._d,T=0|this._e,E=0;E<80;E+=1){var x,A;E<16?(x=y(r,n,i,s,d,e[o[E]],p[0],c[E]),A=b(v,w,O,S,T,e[u[E]],h[0],l[E])):E<32?(x=m(r,n,i,s,d,e[o[E]],p[1],c[E]),A=_(v,w,O,S,T,e[u[E]],h[1],l[E])):E<48?(x=g(r,n,i,s,d,e[o[E]],p[2],c[E]),A=g(v,w,O,S,T,e[u[E]],h[2],l[E])):E<64?(x=_(r,n,i,s,d,e[o[E]],p[3],c[E]),A=m(v,w,O,S,T,e[u[E]],h[3],l[E])):(x=b(r,n,i,s,d,e[o[E]],p[4],c[E]),A=y(v,w,O,S,T,e[u[E]],h[4],l[E])),r=d,d=s,s=f(i,10),i=n,n=x,v=T,T=S,S=f(O,10),O=w,w=A}var I=this._b+i+S|0;this._b=this._c+s+T|0,this._c=this._d+d+v|0,this._d=this._e+r+w|0,this._e=this._a+n+O|0,this._a=I},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},9509:(e,t,r)=>{var n=r(4293),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4189:(e,t,r)=>{var n=r(9509).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,a=this._len,o=0;o<s;){for(var u=a%i,c=Math.min(s-o,i-u),l=0;l<c;l++)r[u+l]=e[o+l];o+=c,(a+=c)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9072:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(2340),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(e,t,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,p=0;p<16;++p)r[p]=e.readInt32BE(4*p);for(;p<80;++p)r[p]=r[p-3]^r[p-8]^r[p-14]^r[p-16];for(var h=0;h<80;++h){var d=~~(h/20),f=0|((t=n)<<5|t>>>27)+l(d,i,s,o)+u+r[h]+a[d];u=o,o=s,s=c(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},8336:(e,t,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function p(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var d=0;d<80;++d){var f=~~(d/20),y=c(n)+p(f,i,s,o)+u+r[d]+a[f]|0;u=o,o=s,s=l(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},2340:(e,t,r)=>{var n=r(5717),i=r(7499),s=r(4189),a=r(9509).Buffer,o=new Array(64);function u(){this.init(),this._w=o,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},7499:(e,t,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function p(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,u=0|this._e,f=0|this._f,y=0|this._g,m=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+d(r[g-15])+r[g-16];for(var _=0;_<64;++_){var b=m+h(u)+c(u,f,y)+a[_]+r[_]|0,v=p(n)+l(n,i,s)|0;m=y,y=f,f=u,u=o+b|0,o=s,s=i,i=n,n=b+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0,this._f=f+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},1686:(e,t,r)=>{var n=r(5717),i=r(7816),s=r(4189),a=r(9509).Buffer,o=new Array(160);function u(){this.init(),this._w=o,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},7816:(e,t,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function p(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,o=0|this._eh,u=0|this._fh,_=0|this._gh,b=0|this._hh,v=0|this._al,w=0|this._bl,O=0|this._cl,S=0|this._dl,T=0|this._el,E=0|this._fl,x=0|this._gl,A=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var j=t[I-30],N=t[I-30+1],R=d(j,N),P=f(N,j),D=y(j=t[I-4],N=t[I-4+1]),M=m(N,j),k=t[I-14],L=t[I-14+1],F=t[I-32],q=t[I-32+1],C=P+L|0,B=R+k+g(C,P)|0;B=(B=B+D+g(C=C+M|0,M)|0)+F+g(C=C+q|0,q)|0,t[I]=B,t[I+1]=C}for(var U=0;U<160;U+=2){B=t[U],C=t[U+1];var Q=l(r,n,i),V=l(v,w,O),z=p(r,v),G=p(v,r),X=h(o,T),H=h(T,o),$=a[U],Y=a[U+1],J=c(o,u,_),K=c(T,E,x),Z=A+H|0,W=b+X+g(Z,A)|0;W=(W=(W=W+J+g(Z=Z+K|0,K)|0)+$+g(Z=Z+Y|0,Y)|0)+B+g(Z=Z+C|0,C)|0;var ee=G+V|0,te=z+Q+g(ee,G)|0;b=_,A=x,_=u,x=E,u=o,E=T,o=s+W+g(T=S+Z|0,S)|0,s=i,S=O,i=n,O=w,n=r,w=v,r=W+te+g(v=Z+ee|0,Z)|0}this._al=this._al+v|0,this._bl=this._bl+w|0,this._cl=this._cl+O|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+E|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+n+g(this._bl,w)|0,this._ch=this._ch+i+g(this._cl,O)|0,this._dh=this._dh+s+g(this._dl,S)|0,this._eh=this._eh+o+g(this._el,T)|0,this._fh=this._fh+u+g(this._fl,E)|0,this._gh=this._gh+_+g(this._gl,x)|0,this._hh=this._hh+b+g(this._hl,A)|0},u.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},1938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const n=r(1183);t.translate=n.default;const i=r(250);t.Algebra=i;const s=r(9969);t.Factory=s.default;const a=r(6693);Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return a.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return a.toSparqlJs}});const o=r(4101);t.Util=o.default},250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},9969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1640),i=r(2086),s=r(9619).Wildcard;t.default=class{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,i){let s=this.createAggregateExpression(t,r,n,i);return s.variable=e,s}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let i=this.dataFactory.quad(e,t,r,n);return i.type="pattern",i}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new s}}createTerm(e){return i.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:"compositeupdate",updates:e}}createDeleteInsert(e,t,r){const n={type:"deleteinsert"};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:"load",source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:"clear",source:e},t)}createCreate(e,t){return this.addSilent({type:"create",source:e},t)}createDrop(e,t){return this.addSilent({type:"drop",source:e},t)}createAdd(e,t,r){return this.addSilent({type:"add",source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:"move",source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:"copy",source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}},6693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const n=r(250),i=r(9969),s=r(4101),a=r(2086),o=r(9619).Generator,u=r(9619).Wildcard,c=n.types,l=n.expressionTypes;let p;const h=new i.default;function d(e){f();let t=y(e=function(e){return A(e,{})}(e));return"group"===t.type?t.patterns[0]:t}function f(){p={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(e){switch(e.type!==c.EXTEND&&e.type!==c.ORDER_BY&&e.type!==c.GRAPH&&(p.project=!1),e.type){case c.EXPRESSION:return m(e);case c.ASK:return O(e,c.ASK);case c.BGP:return function(e){let t=e.patterns.map(v);return 0===t.length?null:{type:"bgp",triples:t}}(e);case c.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(v),where:s.default.flatten([y(e.input)])}}(e);case c.DESCRIBE:return O(e,c.DESCRIBE);case c.DISTINCT:return function(e){let t=y(e.input);return t.patterns[0].distinct=!0,t}(e);case c.EXTEND:return function(e){return p.project?(p.extend.push(e),y(e.input)):s.default.flatten([y(e.input),{type:"bind",variable:e.variable,expression:m(e.expression)}])}(e);case c.FROM:return function(e){let t=y(e.input);return t.patterns[0].from={default:e.default,named:e.named},t}(e);case c.FILTER:return function(e){return{type:"group",patterns:s.default.flatten([y(e.input),{type:"filter",expression:m(e.expression)}])}}(e);case c.GRAPH:return function(e){return{type:"graph",patterns:s.default.flatten([y(e.input)]),name:e.name}}(e);case c.GROUP:return function(e){let t=y(e.input),r=e.aggregates.map(b);return p.aggregates.push(...r),p.group.push(...e.variables),t}(e);case c.JOIN:return function(e){return s.default.flatten([y(e.left),y(e.right)])}(e);case c.LEFT_JOIN:return function(e){let t={type:"optional",patterns:[y(e.right)]};return e.expression&&t.patterns.push({type:"filter",expression:m(e.expression)}),t.patterns=s.default.flatten(t.patterns),s.default.flatten([y(e.left),t])}(e);case c.MINUS:return function(e){let t=y(e.right);return"group"===t.type&&(t=t.patterns),s.default.flatten([y(e.left),{type:"minus",patterns:t}])}(e);case c.ORDER_BY:return function(e){return p.order.push(...e.expressions),y(e.input)}(e);case c.PATH:return function(e){return{type:"bgp",triples:[{subject:e.subject,predicate:g(e.predicate),object:e.object}]}}(e);case c.PATTERN:return v(e);case c.PROJECT:return O(e,c.PROJECT);case c.REDUCED:return function(e){let t=y(e.input);return t.patterns[0].reduced=!0,t}(e);case c.SERVICE:return function(e){let t=y(e.input);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),{type:"service",name:e.name,silent:e.silent,patterns:t}}(e);case c.SLICE:return function(e){let t=y(e.input),r=t;return t.type&&"group"===t.type&&(r=t.patterns[0]),0!==e.start&&(r.offset=e.start),void 0!==e.length&&(r.limit=e.length),t}(e);case c.UNION:return function(e){return{type:"union",patterns:s.default.flatten([y(e.left),y(e.right)])}}(e);case c.VALUES:return function(e){return{type:"values",values:e.bindings.map((t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r}))}}(e);case c.COMPOSITE_UPDATE:return function(e){return{prefixes:{},type:"update",updates:e.updates.map((e=>y(e).updates[0]))}}(e);case c.DELETE_INSERT:return function(e){let t=e.where,r=void 0;if(t&&t.type===c.FROM){let n=e.where;t=n.input,r={default:n.default,named:n.named}}const n=[{updateType:"insertdelete",delete:x(e.delete),insert:x(e.insert)}];if(r&&(n[0].using=r),!t||t.type===c.BGP&&0===t.patterns.length)n[0].where=[];else{const e={};let r=y(A(t,e));"group"===r.type?n[0].where=r.patterns:n[0].where=[r];const i=Object.keys(e);if(i.length>0){if(1!==i.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[i[0]].graph.value&&(n[0].where=[{type:"graph",patterns:n[0].where,name:e[i[0]].graph}])}}return e.delete||e.where?e.insert||e.where||(delete n[0].insert,delete n[0].where,e.delete.some((e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType))?n[0].updateType="deletewhere":n[0].updateType="delete"):(n[0].updateType="insert",delete n[0].delete,delete n[0].where),{prefixes:{},type:"update",updates:n}}(e);case c.LOAD:return function(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];return e.destination&&(t[0].destination=e.destination),{prefixes:{},type:"update",updates:t}}(e);case c.CLEAR:return function(e){return T(e,"clear")}(e);case c.CREATE:return function(e){return T(e,"create")}(e);case c.DROP:return function(e){return T(e,"drop")}(e);case c.ADD:return function(e){return E(e,"add")}(e);case c.MOVE:return function(e){return E(e,"move")}(e);case c.COPY:return function(e){return E(e,"copy")}(e)}throw new Error("Unknown Operation type "+e.type)}function m(e){switch(e.expressionType){case l.AGGREGATE:return function(e){let t={expression:m(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};return e.separator&&(t.separator=e.separator),t}(e);case l.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:s.default.flatten([y(e.input)])}}(e);case l.NAMED:return function(e){return{type:"functionCall",function:e.name,args:e.args.map(m)}}(e);case l.OPERATOR:return function(e){if("desc"===e.operator){return{expression:m(e.args[0]),descending:!0}}let t={type:"operation",operator:e.operator,args:e.args.map(m)};return"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)])),t}(e);case l.TERM:return function(e){return e.term}(e);case l.WILDCARD:return function(e){return e.wildcard}(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function g(e){switch(e.type){case c.ALT:return function(e){let t=g(e.left),r=g(e.right);return"!"===t.pathType&&"!"===r.pathType?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]}:{type:"path",pathType:"|",items:[t,r]}}(e);case c.INV:return function(e){if(e.path.type===c.NPS){let t=e.path.iris.map((e=>({type:"path",pathType:"^",items:[e]})));return t.length<=1?{type:"path",pathType:"!",items:t}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t}]}}return{type:"path",pathType:"^",items:[g(e.path)]}}(e);case c.LINK:return function(e){return e.iri}(e);case c.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}(e);case c.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[g(e.path)]}}(e);case c.SEQ:return function(e){return{type:"path",pathType:"/",items:[g(e.left),g(e.right)]}}(e);case c.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[g(e.path)]}}(e);case c.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[g(e.path)]}}(e)}throw new Error("Unknown Path type "+e.type)}function _(e){return a.termToString(e)}function b(e){return e}function v(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function w(e,t){let r=s.default.isTerm(e)?_(e):e;if("string"==typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map((e=>w(e,t)));else for(let r of Object.keys(e))e[r]=w(e[r],t);return e}function O(e,t){let r={type:"query",prefixes:{}};t===c.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===c.ASK?r.queryType="ASK":t===c.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=p.extend,i=p.group,a=p.aggregates,o=p.order;f(),p.project=!0;let l=s.default.flatten([y(e.input)]);1===l.length&&"group"===l[0].type&&(l=l[0].patterns),r.where=l;let h={};for(let e of p.aggregates)h[_(e.variable)]=m(e);let d={};for(let e=p.extend.length-1;e>=0;--e){let t=p.extend[e];d[_(t.variable)]=w(m(t.expression),h)}if(p.group.length>0&&(r.group=p.group.map((e=>{let t=_(e);if(d[t]){let r=d[t];return delete d[t],{variable:e,expression:r}}return{expression:e}}))),p.order.length>0&&(r.order=p.order.map(y).map((e=>e.descending?e:{expression:e}))),r.variables&&(r.variables=r.variables.map((e=>{let t=_(e);return d[t]?{variable:e,expression:d[t]}:e})),0===r.variables.length&&(r.variables=[new u])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];S(e,Object.keys(h))&&(r.having=s.default.flatten([w(e.expression,h)]),r.where.splice(-1))}return p.extend=n,p.group=i,p.aggregates=a,p.order=o,r={type:"group",patterns:[r]},r}function S(e,t){return s.default.isTerm(e)?t.indexOf(_(e))>=0:Array.isArray(e)?e.some((e=>S(e,t))):e===Object(e)?Object.keys(e).some((r=>S(e[r],t))):t.indexOf(e)>=0}function T(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function E(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function x(e){if(!e)return[];const t={};return e.forEach((e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)})),Object.keys(t).map((e=>""===e?{type:"bgp",triples:t[e].map(v)}:{type:"graph",triples:t[e].map(v),name:t[e][0].graph}))}function A(e,t){if(Array.isArray(e))return e.map((e=>A(e,t)));if(!e.type)return e;if(e.type===c.DELETE_INSERT)return e;if((e.type===c.PATTERN||e.type===c.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},n={},i={};for(let t of Object.keys(e)){const s={};r[t]=A(e[t],s);const a=Object.keys(s);if(a.length>1){let e=I(s[a[0]].values);for(let t=1;t<a.length;++t){const r=I(s[a[t]].values);e=h.createJoin(e,r)}return a.map((e=>delete s[e])),e}if(1===a.length){const e=s[a[0]].graph;n[t]=e,i[e.value]=e}}const s=Object.keys(i);if(s.length>0)if(1===s.length&&e.type!==c.PROJECT)t[s[0]]={graph:i[s[0]],values:[r]};else for(let e of Object.keys(n))n[e].value.length>0&&(r[e]=h.createGraph(r[e],n[e]));return r}function I(e){const t=h.createBgp(e),r=e[0].graph;return 0===r.value.length?t:h.createGraph(t,r)}t.toSparql=function(e,t={}){return new o(t).stringify(d(e))},t.toSparqlJs=d},1183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(250),i=r(9969),s=r(4101),a=r(4063),o=r(2086),u=r(9619).Parser,c=n.types;let l,p=new Set,h=0,d=!1;function f(e,t,r){if(p=new Set,h=0,d=t,"query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n,i=new Set(Object.keys(m(e)).map(l.createTerm.bind(l)));var a;return"query"===e.type?(n=g({type:"group",patterns:e.where||[]}),n=function(e,t,r){let n=[],i={};if(e.variables=I(e.variables,i),e.having=I(e.having,i),e.order=I(e.order,i),e.group||Object.keys(i).length>0){let r=Object.keys(i).map((e=>function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=_(e);return r.variable=t,r}(i[e],l.createTerm(e)))),n=[];if(e.group)for(let r of e.group)if(r.expression.type){const e=r.variable?r.variable:w();t=l.createExtend(t,e,_(r.expression)),n.push(e)}else n.push(r.expression);t=l.createGroup(t,n,r)}if(e.having)for(let r of e.having)t=l.createFilter(t,_(r));e.values&&(t=l.createJoin(t,A(e)));let a=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some((e=>e&&s.default.isWildcard(e))))a=r;else for(let t of e.variables)y(t)||!t.variable?a.add(t):t.variable&&(a.add(t.variable),n.push(t));for(let e of n)t=l.createExtend(t,e.variable,_(e.expression));return e.order&&(t=l.createOrderBy(t,e.order.map((e=>{let t=_(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t})))),"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(a))),e.distinct&&(t=l.createDistinct(t)),e.reduced&&(t=l.createReduced(t)),"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(O)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(a))),(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit)),e.from&&(t=l.createFrom(t,e.from.default,e.from.named)),t}(e,n,i)):"update"===e.type&&(n=1===(a=e).updates.length?j(a.updates[0]):l.createCompositeUpdate(a.updates.map(j))),r&&(n=R(n,i)),n}function y(e){return e&&"Variable"===e.termType}function m(e){let t={};if(y(e))t[o.termToString(e)]=!0,p.add(e);else if(null!==(r=e)&&"object"==typeof r)if("bind"===e.type)m(e.expression),Object.assign(t,m(e.variable));else if("SELECT"===e.queryType){let r=m(e.where);for(let n of e.variables)s.default.isWildcard(n)?Object.assign(t,r):n.variable?Object.assign(t,m(n.variable)):Object.assign(t,m(n));if(e.group)for(let r of e.group)Object.assign(t,m(r))}else for(let r of Object.keys(e))Object.assign(t,m(e[r]));var r;return t}function g(e){let t,r=[],n=[];if(e.patterns)for(let t of e.patterns)("filter"===t.type?r:n).push(t);if("bgp"===e.type)return function(e){let t=[],r=[];for(let i of e.triples)if("path"===i.predicate.type){let e=v((n=i).subject,b(n.predicate),n.object);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(O(i));var n;return t.length>0&&r.push(l.createBgp(t)),1===r.length?r[0]:r.reduce(((e,t)=>l.createJoin(e,t)))}(e);if("union"===e.type)t=n.map((e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),g(e)))).reduce(((e,t)=>l.createUnion(e,t)));else{if("graph"===e.type)return function(e){e.type="group";let t=g(e);return t=d?T(t,e.name):l.createGraph(t,e.name),t}(e);if("group"===e.type)t=n.reduce(E,l.createBgp([]));else if("values"===e.type)t=A(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=f(e,d,!1)}}if(r.length>0){let e=r.map((e=>_(e.expression)));e.length>0&&(t=l.createFilter(t,e.reduce(((e,t)=>l.createOperatorExpression("&&",[e,t])))))}return t}function _(e){if(s.default.isTerm(e)||"Quad"===e.termType)return l.createTermExpression(e);if(s.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,_(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(_));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,g(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(_)));throw new Error("Unknown expression: "+JSON.stringify(e))}function b(e){if(s.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(b(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(s.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let i=l.createNps(r),a=l.createInv(l.createNps(n));return 0===n.length?i:0===r.length?a:l.createAlt(i,a)}if("/"===e.pathType)return e.items.map(b).reduce(((e,t)=>l.createSeq(e,t)));if("|"===e.pathType)return e.items.map(b).reduce(((e,t)=>l.createAlt(e,t)));if("*"===e.pathType)return l.createZeroOrMorePath(b(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(b(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(b(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function v(e,t,r){if(t.type===c.LINK)return[l.createPattern(e,t.iri,r)];if(t.type===c.INV)return v(r,t.path,e);if(t.type===c.SEQ){let n=w(),i=v(e,t.left,n),s=v(n,t.right,r);return i.concat(s)}return[l.createPath(e,t,r)]}function w(){let e="?var"+h++;return p.has(e)?w():(p.add(e),l.createTerm(e))}function O(e){return l.createPattern(e.subject,e.predicate,e.object,e.graph)}t.default=function(e,t){if(t=t||{},l=new i.default(t.dataFactory),"string"==typeof e){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return f(e,t.quads,t.blankToVariable)};let S=Object.keys(c).map((e=>c[e]));function T(e,t,r){if(e.type===c.BGP)e.patterns=e.patterns.map((e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),e.graph=t,e)));else if(e.type===c.PATH){const n=e;r&&(n.subject.equals(t)&&(n.subject=r),n.object.equals(t)&&(n.object=r)),e.graph=t}else if(e.type!==c.PROJECT||r)if(e.type!==c.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map((e=>T(e,t,r))):S.indexOf(e[n].type)>=0?e[n]=T(e[n],t,r):r&&y(e[n])&&e[n].equals(t)&&(e[n]=r);else{const n=e;n.variable.equals(t)&&(r=w()),n.input=T(n.input,t,r)}else{const n=e;n.variables.some((e=>e.equals(t)))||(r=w()),n.input=T(n.input,t,r)}return e}function E(e,t){if("optional"===t.type){let r=g({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=g({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else"bind"===t.type?e=l.createExtend(e,t.variable,_(t.expression)):"service"===t.type?(t.type="group",e=x(e,l.createService(g(t),t.name,t.silent))):e=x(e,g(t));return e}function x(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function A(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map((e=>{let t=Object.keys(e);t=t.filter((t=>void 0!==e[t]));let r={};for(let n of t)r[n]=e[n];return r}));return l.createValues(t,r)}function I(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(a(t[i],e)){r=l.createTerm(i),n=!0;break}return n||(r=w(),t[o.termToString(r)]=e),r}return e.expression?e.expression=I(e.expression,t):e.args?I(e.args,t):Array.isArray(e)&&e.forEach(((r,n)=>e[n]=I(r,t))),e}function j(e){if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return function(e){if(!d)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];return e.delete&&(r=s.default.flatten(e.delete.map((t=>N(t,e.graph))))),e.insert&&(n=s.default.flatten(e.insert.map((t=>N(t,e.graph))))),e.where&&e.where.length>0&&(t=g({type:"group",patterns:e.where}),e.using?t=l.createFrom(t,e.using.default,e.using.named):e.graph&&(t=l.createFrom(t,[e.graph],[]))),l.createDeleteInsert(r.length>0?r.map(O):void 0,n.length>0?n.map(O):void 0,t)}(e);if("load"===e.type)return function(e){return l.createLoad(e.source,e.destination,e.silent)}(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return function(e){let t;switch(t=e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name,e.type){case"clear":return l.createClear(t,e.silent);case"create":return l.createCreate(t,e.silent);case"drop":return l.createDrop(t,e.silent)}}(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return function(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return l.createCopy(t,r,e.silent);case"move":return l.createMove(t,r,e.silent);case"add":return l.createAdd(t,r,e.silent)}}(e);throw new Error("Unknown update type "+e.updateType)}function N(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map((e=>Object.assign(e,{graph:r})))),n}function R(e,t){const r={},n=Array.from(t).reduce(((e,t)=>(e[t.value]=!0,e)),{});return s.default.mapOperation(e,{path:(e,t)=>({result:t.createPath(i(e.subject),e.predicate,i(e.object),i(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(i(e.subject),i(e.predicate),i(e.object),i(e.graph)),recurse:!1}),construct:e=>({result:l.createConstruct(R(e.input,t),e.template),recurse:!1})});function i(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=s.default.createUniqueVariable(e.value,n,l.dataFactory),n[t.value]=!0,r[e.value]=t),t}return e}}},4101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(250),i=r(9969);class s{static flatten(e){return Array.prototype.concat(...e).filter((e=>e))}static inScopeVariables(e){const t=[];function r(e){t.find((t=>e.value===t.value))||t.push(e)}function i(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&i(e.subject),"Quad"===e.predicate.termType&&i(e.predicate),"Quad"===e.object.termType&&i(e.object),"Quad"===e.graph.termType&&i(e.graph)}return s.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;return"aggregate"===t.expressionType&&t.variable&&r(t.variable),!0},[n.types.EXTEND]:e=>(r(e.variable),!0),[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>(e.variables.forEach(r),!0),[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&i(t.subject),"Quad"===t.object.termType&&i(t.object),"Quad"===t.graph.termType&&i(t.graph),!0},[n.types.PATTERN]:e=>(i(e),!0),[n.types.PROJECT]:e=>(e.variables.forEach(r),!1),[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>(e.variables.forEach(r),!0)}),t}static recurseOperation(e,t){let r=e,i=!0;if(t[e.type]&&(i=t[e.type](e)),!i)return;let a=e=>s.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;a(e.left),a(e.right);break;case n.types.ASK:a(r.input);break;case n.types.BGP:r.patterns.forEach(a);break;case n.types.CONSTRUCT:const t=r;a(t.input),t.template.map(a);break;case n.types.DESCRIBE:case n.types.DISTINCT:a(r.input);break;case n.types.EXPRESSION:const i=r;i.expressionType===n.expressionTypes.EXISTENCE&&a(i.input);break;case n.types.EXTEND:const s=r;a(s.input),a(s.expression);break;case n.types.FILTER:const o=r;a(o.input),a(o.expression);break;case n.types.FROM:case n.types.GRAPH:a(r.input);break;case n.types.GROUP:const u=r;a(u.input),u.aggregates.forEach(a);break;case n.types.INV:a(r.path);break;case n.types.JOIN:const c=r;a(c.left),a(c.right);break;case n.types.LEFT_JOIN:const l=r;a(l.left),a(l.right),l.expression&&a(l.expression);break;case n.types.LINK:break;case n.types.MINUS:const p=r;a(p.left),a(p.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:a(r.path);break;case n.types.ORDER_BY:const h=r;a(h.input),h.expressions.forEach(a);break;case n.types.PATH:a(r.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:case n.types.REDUCED:a(r.input);break;case n.types.SEQ:const d=r;a(d.left),a(d.right);break;case n.types.SERVICE:case n.types.SLICE:a(r.input);break;case n.types.UNION:const f=r;a(f.left),a(f.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:case n.types.ZERO_OR_ONE_PATH:a(r.path);break;case n.types.COMPOSITE_UPDATE:r.updates.forEach((e=>a(e)));break;case n.types.DELETE_INSERT:const y=r;y.delete&&y.delete.forEach((e=>a(e))),y.insert&&y.insert.forEach((e=>a(e))),y.where&&a(y.where);break;case n.types.LOAD:case n.types.CLEAR:case n.types.CREATE:case n.types.DROP:case n.types.ADD:case n.types.MOVE:case n.types.COPY:break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let a=e,o=!0;if(r=r||new i.default,t[e.type]&&({result:a,recurse:o}=t[e.type](e,r)),!o)return a;let u=e=>s.mapOperation(e,t,r);switch(a.type){case n.types.ALT:const e=a;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const i=a;return r.createAsk(u(i.input));case n.types.BGP:const o=a;return r.createBgp(o.patterns.map(u));case n.types.CONSTRUCT:const c=a;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=a;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const p=a;return r.createDistinct(u(p.input));case n.types.EXPRESSION:const h=a;return s.mapExpression(h,t,r);case n.types.EXTEND:const d=a;return r.createExtend(u(d.input),d.variable,u(d.expression));case n.types.FILTER:const f=a;return r.createFilter(u(f.input),u(f.expression));case n.types.FROM:const y=a;return r.createFrom(u(y.input),[].concat(y.default),[].concat(y.named));case n.types.GRAPH:const m=a;return r.createGraph(u(m.input),m.name);case n.types.GROUP:const g=a;return r.createGroup(u(g.input),[].concat(g.variables),g.aggregates.map(u));case n.types.INV:const _=a;return r.createInv(u(_.path));case n.types.JOIN:const b=a;return r.createJoin(u(b.left),u(b.right));case n.types.LEFT_JOIN:const v=a;return r.createLeftJoin(u(v.left),u(v.right),v.expression?u(v.expression):void 0);case n.types.LINK:const w=a;return r.createLink(w.iri);case n.types.MINUS:const O=a;return r.createMinus(u(O.left),u(O.right));case n.types.NPS:const S=a;return r.createNps([].concat(S.iris));case n.types.ONE_OR_MORE_PATH:const T=a;return r.createOneOrMorePath(u(T.path));case n.types.ORDER_BY:const E=a;return r.createOrderBy(u(E.input),E.expressions.map(u));case n.types.PATH:const x=a;return r.createPath(x.subject,u(x.predicate),x.object,x.graph);case n.types.PATTERN:const A=a;return r.createPattern(A.subject,A.predicate,A.object,A.graph);case n.types.PROJECT:const I=a;return r.createProject(u(I.input),[].concat(I.variables));case n.types.REDUCED:const j=a;return r.createReduced(u(j.input));case n.types.SEQ:const N=a;return r.createSeq(u(N.left),u(N.right));case n.types.SERVICE:const R=a;return r.createService(u(R.input),R.name,R.silent);case n.types.SLICE:const P=a;return r.createSlice(u(P.input),P.start,P.length);case n.types.UNION:const D=a;return r.createUnion(u(D.left),u(D.right));case n.types.VALUES:const M=a;return r.createValues([].concat(M.variables),M.bindings.map((e=>Object.assign({},e))));case n.types.ZERO_OR_MORE_PATH:const k=a;return r.createZeroOrMorePath(u(k.path));case n.types.ZERO_OR_ONE_PATH:const L=a;return r.createZeroOrOnePath(u(L.path));case n.types.COMPOSITE_UPDATE:const F=a;return r.createCompositeUpdate(F.updates.map(u));case n.types.DELETE_INSERT:const q=a;return r.createDeleteInsert(q.delete?q.delete.map(u):void 0,q.insert?q.insert.map(u):void 0,q.where?u(q.where):void 0);case n.types.LOAD:const C=a;return r.createLoad(C.source,C.destination,C.silent);case n.types.CLEAR:const B=a;return r.createClear(B.source,B.silent);case n.types.CREATE:const U=a;return r.createCreate(U.source,U.silent);case n.types.DROP:const Q=a;return r.createDrop(Q.source,Q.silent);case n.types.ADD:const V=a;return r.createAdd(V.source,V.destination);case n.types.MOVE:const z=a;return r.createMove(z.source,z.destination);case n.types.COPY:const G=a;return r.createCopy(G.source,G.destination);default:throw new Error("Unknown Operation type "+a)}}static mapExpression(e,t,r){let i=e=>s.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,i(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,i(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const s=e;return r.createExistenceExpression(s.not,i(s.input));case n.expressionTypes.NAMED:const a=e;return r.createNamedExpression(a.name,a.args.map(i));case n.expressionTypes.OPERATOR:const o=e;return r.createOperatorExpression(o.operator,o.args.map(i));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,i=e;for(;t[i];)i=e+n++;return r.variable(i)}static isTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=s},390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var n=r(4790);Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return n.AsyncEvaluator}});var i=r(3709);Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return i.SyncEvaluator}});var s=r(2378);Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return s.AggregateEvaluator}});var a=r(7731);Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var o=r(8468);Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return o.orderTypes}})},7138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformExistence=t.transformAggregate=t.transformNamed=t.transformLiteral=t.transformRDFTermUnsafe=t.transformAlgebra=void 0;const n=r(2086),i=r(1938),s=r(6538),a=r(8952),o=r(7731),u=r(2344),c=r(9415),l=r(8952);function p(e){if(!e)throw new o.InvalidExpression(e);const t=i.Algebra.expressionTypes;switch(e.expressionType){case t.TERM:return h(e);case t.OPERATOR:return function(e){if(a.SpecialOperators.contains(e.operator)){const t=e.operator,r=e.args.map((e=>p(e))),n=c.specialFunctions.get(t);if(!n.checkArity(r))throw new o.InvalidArity(r,t);return new s.SpecialOperator(r,n.applyAsync,n.applySync)}{if(!a.Operators.contains(e.operator))throw new o.UnknownOperator(e.operator);const t=e.operator,r=e.args.map((e=>p(e))),n=c.regularFunctions.get(t);if(!function(e,t){return t===1/0||(Array.isArray(t)?t.indexOf(e.length)>=0:e.length===t)}(r,n.arity))throw new o.InvalidArity(r,t);return new s.Operator(r,n.apply)}}(e);case t.NAMED:return f(e);case t.EXISTENCE:return m(e);case t.AGGREGATE:return y(e);case t.WILDCARD:return function(e){if(!e.wildcard)throw new o.InvalidExpression(e);return new s.NamedNode(e.wildcard.value)}(e);default:throw new o.InvalidExpressionType(e)}}function h(e){if(!e.term)throw new o.InvalidExpression(e);switch(e.term.termType){case"Variable":return new s.Variable(n.termToString(e.term));case"Literal":return d(e.term);case"NamedNode":return new s.NamedNode(e.term.value);case"BlankNode":return new s.BlankNode(e.term.value);default:throw new o.InvalidTermType(e)}}function d(e){if(!e.datatype)return e.language?new s.LangStringLiteral(e.value,e.language):new s.StringLiteral(e.value);switch(e.datatype.value){case null:case void 0:case"":return e.language?new s.LangStringLiteral(e.value,e.language):new s.StringLiteral(e.value);case l.TypeURL.XSD_STRING:return new s.StringLiteral(e.value);case l.TypeURL.RDF_LANG_STRING:return new s.LangStringLiteral(e.value,e.language);case l.TypeURL.XSD_DATE_TIME:case l.TypeURL.XSD_DATE:{const t=new Date(e.value);return isNaN(t.getTime())?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.DateTimeLiteral(new Date(e.value),e.value)}case l.TypeURL.XSD_BOOLEAN:return"true"!==e.value&&"false"!==e.value?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.BooleanLiteral("true"===e.value,e.value);case l.TypeURL.XSD_INTEGER:case l.TypeURL.XSD_DECIMAL:case l.TypeURL.XSD_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_POSITIVE_INTEGER:case l.TypeURL.XSD_POSITIVE_INTEGER:case l.TypeURL.XSD_LONG:case l.TypeURL.XSD_SHORT:case l.TypeURL.XSD_BYTE:case l.TypeURL.XSD_UNSIGNED_LONG:case l.TypeURL.XSD_UNSIGNED_INT:case l.TypeURL.XSD_UNSIGNED_SHORT:case l.TypeURL.XSD_UNSIGNED_BYTE:case l.TypeURL.XSD_INT:{const t=u.parseXSDDecimal(e.value);return void 0===t?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.NumericLiteral(t,e.datatype,e.value)}case l.TypeURL.XSD_FLOAT:case l.TypeURL.XSD_DOUBLE:{const t=u.parseXSDFloat(e.value);return void 0===t?new s.NonLexicalLiteral(void 0,e.datatype,e.value):new s.NumericLiteral(t,e.datatype,e.value)}default:return new s.Literal(e.value,e.datatype,e.value)}}function f(e){const t=e.name.value;if(!a.NamedOperators.contains(t))throw new o.UnknownNamedOperator(e.name.value);const r=e.name.value,n=e.args.map((e=>p(e))),i=c.namedFunctions.get(r);return new s.Named(e.name,n,i.apply)}function y(e){const t=e.aggregator;return new s.Aggregate(t,e)}function m(e){return new s.Existence(e)}t.transformAlgebra=p,t.transformRDFTermUnsafe=function(e){return h({term:e,type:"expression",expressionType:"term"})},t.transformLiteral=d,t.transformNamed=f,t.transformAggregate=y,t.transformExistence=m},2378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggregators=t.AggregateEvaluator=void 0;const n=r(1640),i=r(6538),s=r(8952),a=r(7731),o=r(9415),u=r(1731),c=r(2344),l=r(8952),p=r(3709),h=r(7138),d=new n.DataFactory;t.AggregateEvaluator=class{constructor(e,r,n){this.throwError=!1,this.expression=e,this.evaluator=new p.SyncEvaluator(e.expression,r),this.aggregator=new t.aggregators[e.aggregator](e),this.throwError=n}static emptyValue(e,r=!1){const n=t.aggregators[e.aggregator].emptyValue();if(void 0===n&&r)throw new a.EmptyAggregateError;return n}put(e){this.init(e),this.state&&(this.put=this.__put,this.result=this.__result)}result(){return this.aggregator.constructor.emptyValue()}__put(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.put(this.state,t)}catch(e){this.safeThrow(e)}}__result(){return this.aggregator.result(this.state)}init(e){try{const t=this.evaluator.evaluate(e);this.state=this.aggregator.init(t)}catch(e){this.safeThrow(e)}}safeThrow(e){if(this.throwError)throw e;this.put=()=>{},this.result=()=>{}}};class f{constructor(e){this.distinct=e.distinct,this.separator=e.separator||" "}static emptyValue(){}}function y(e){if("Literal"!==e.termType)throw new Error("Term with value "+e.value+" has type "+e.termType+" and is not a numeric literal");if(!s.NumericTypeURLs.contains(e.datatype.value))throw new Error("Term datatype "+e.datatype.value+" with value "+e.value+" has type "+e.termType+" and is not a numeric literal");return{type:e.datatype.value,value:c.parseXSDFloat(e.value)}}function m(e,t){if("Literal"!==t.termType)throw new Error("Term with value "+t.value+" has type "+t.termType+" and is not a literal");const r=h.transformLiteral(t);return{type:r.typeURL.value,value:r.typedValue}}t.aggregators={count:class extends f{static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){return 1}put(e,t){return e+1}result(e){return u.number(e,l.TypeURL.XSD_INTEGER).toRDF()}},sum:class extends f{constructor(){super(...arguments),this.summer=o.regularFunctions.get(s.RegularOperator.ADDITION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=y(e);return new i.NumericLiteral(t,d.namedNode(r))}put(e,t){const{value:r,type:n}=y(t),s=new i.NumericLiteral(r,d.namedNode(n));return this.summer.apply([e,s])}result(e){return e.toRDF()}},min:class extends f{init(e){const{value:t}=m(0,e);if("Literal"===e.termType)return{extremeValue:t,term:e}}put(e,t){const r=m(e.term,t);return r.value<e.extremeValue&&"Literal"===t.termType?{extremeValue:r.value,term:t}:e}result(e){return e.term}},max:class extends f{init(e){const{value:t}=m(0,e);if("Literal"===e.termType)return{extremeValue:t,term:e}}put(e,t){const r=m(e.term,t);return r.value>e.extremeValue&&"Literal"===t.termType?{extremeValue:r.value,term:t}:e}result(e){return e.term}},avg:class extends f{constructor(){super(...arguments),this.summer=o.regularFunctions.get(s.RegularOperator.ADDITION),this.divider=o.regularFunctions.get(s.RegularOperator.DIVISION)}static emptyValue(){return u.number(0,l.TypeURL.XSD_INTEGER).toRDF()}init(e){const{value:t,type:r}=y(e);return{sum:new i.NumericLiteral(t,d.namedNode(r)),count:1}}put(e,t){const{value:r,type:n}=y(t),s=new i.NumericLiteral(r,d.namedNode(n));return{sum:this.summer.apply([e.sum,s]),count:e.count+1}}result(e){const t=new i.NumericLiteral(e.count,d.namedNode(s.TypeURL.XSD_INTEGER));return this.divider.apply([e.sum,t]).toRDF()}},group_concat:class extends f{static emptyValue(){return u.string("").toRDF()}init(e){return e.value}put(e,t){return e+this.separator+t.value}result(e){return u.string(e).toRDF()}},sample:class extends f{init(e){return e}put(e,t){return e}result(e){return e}}}},4790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEvaluator=void 0;const n=r(7138),i=r(8867);t.AsyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.AsyncRecursiveEvaluator(r)}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}}},8867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedOperation=t.SyncRecursiveEvaluator=t.AsyncRecursiveEvaluator=void 0;const n=r(6538),i=r(7731),s=r(7138),a={term:(e,t)=>e,variable(e,t){const r=t.get(e.name);if(!r)throw new i.UnboundVariableError(e.name,t);return s.transformRDFTermUnsafe(r)}};t.AsyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:a.term,[n.ExpressionType.Variable]:a.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}async evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}async evalOperator(e,t){const r=e.args.map((e=>this.evaluate(e,t))),n=await Promise.all(r);return e.apply(n)}async evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applyAsync(n)}async evalNamed(e,t){const r=e.args.map((e=>this.evaluate(e,t))),n=await Promise.all(r);return e.apply(n)}async evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(await this.context.exists(e.expression,t))}async evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoExistenceHook;return s.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}},t.SyncRecursiveEvaluator=class{constructor(e){this.context=e,this.subEvaluators={[n.ExpressionType.Term]:a.term,[n.ExpressionType.Variable]:a.variable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate}}evaluate(e,t){const r=this.subEvaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}evalOperator(e,t){const r=e.args.map((e=>this.evaluate(e,t)));return e.apply(r)}evalSpecialOperator(e,t){const r=this.evaluate.bind(this),n={args:e.args,mapping:t,evaluate:r,context:{now:this.context.now,baseIRI:this.context.baseIRI,bnode:this.context.bnode}};return e.applySync(n)}evalNamed(e,t){const r=e.args.map((e=>this.evaluate(e,t)));return e.apply(r)}evalExistence(e,t){if(!this.context.exists)throw new i.NoExistenceHook;return new n.BooleanLiteral(this.context.exists(e.expression,t))}evalAggregate(e,t){if(!this.context.aggregate)throw new i.NoAggregator;return s.transformRDFTermUnsafe(this.context.aggregate(e.expression))}};class o extends Error{constructor(e){super(`Operation '${e}' is unsupported in SimpleEvaluator`)}}t.UnsupportedOperation=o},3709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncEvaluator=void 0;const n=r(7138),i=r(8867);t.SyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.config=t,this.expr=n.transformAlgebra(e);const r={now:t.now||new Date(Date.now()),baseIRI:t.baseIRI||void 0,exists:t.exists,aggregate:t.aggregate};this.evaluator=new i.SyncRecursiveEvaluator(r)}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}}},6826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregate=void 0;const n=r(1143);t.Aggregate=class{constructor(e,t){this.name=e,this.expression=t,this.expressionType=n.ExpressionType.Aggregate}}},5366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Existence=void 0;const n=r(1143);t.Existence=class{constructor(e){this.expression=e,this.expressionType=n.ExpressionType.Existence}}},1143:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionType=void 0,(r=t.ExpressionType||(t.ExpressionType={})).Aggregate="aggregate",r.Existence="existence",r.Named="named",r.Operator="operator",r.SpecialOperator="specialOperator",r.Term="term",r.Variable="variable"},9432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Named=void 0;const n=r(1143);t.Named=class{constructor(e,t,r){this.name=e,this.args=t,this.apply=r,this.expressionType=n.ExpressionType.Named}}},7732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operator=void 0;const n=r(1143);t.Operator=class{constructor(e,t){this.args=e,this.apply=t,this.expressionType=n.ExpressionType.Operator}}},1219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpecialOperator=void 0;const n=r(1143);t.SpecialOperator=class{constructor(e,t,r){this.args=e,this.applyAsync=t,this.applySync=r,this.expressionType=n.ExpressionType.SpecialOperator}}},2441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonLexicalLiteral=t.StringLiteral=t.LangStringLiteral=t.DateTimeLiteral=t.BooleanLiteral=t.NumericLiteral=t.Literal=t.BlankNode=t.NamedNode=t.Term=void 0;const n=r(1640),i=r(1143),s=r(8952),a=r(7731),o=new n.DataFactory;class u{constructor(){this.expressionType=i.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],s.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}t.Term=u,t.NamedNode=class extends u{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(){return o.namedNode(this.value)}str(){return this.value}};class c extends u{constructor(e){super(),this.value=e,this.termType="blankNode",this.value=e}static nextID(){return c._nextID+=1,c.nextID.toString()}toRDF(){return o.blankNode(this.value)}}t.BlankNode=c,c._nextID=0;class l extends u{constructor(e,t,r,n){super(),this.typedValue=e,this.typeURL=t,this.strValue=r,this.language=n,this.termType="literal",this.type=s.type(t.value)}toRDF(){return o.literal(this.strValue||this.str(),this.language||this.typeURL)}str(){return this.strValue||this.typedValue.toString()}}t.Literal=l;class p extends l{coerceEBV(){return!!this.typedValue}toRDF(){const e=super.toRDF();return isFinite(this.typedValue)||(e.value=e.value.replace("Infinity","INF")),e}str(){return this.strValue||p.specificFormatters[this.type](this.typedValue)}}t.NumericLiteral=p,p.specificFormatters={integer:e=>e.toFixed(),float:e=>e.toString(),decimal:e=>e.toString(),double:e=>{const t=e.toExponential(),[r,n]=t.split("e"),i=n.replace(/\+/,"");return`${r.match(/\./)?r:r+".0"}E${i}`}},t.BooleanLiteral=class extends l{constructor(e,t){super(e,s.make(s.TypeURL.XSD_BOOLEAN),t),this.typedValue=e,this.strValue=t}coerceEBV(){return!!this.typedValue}},t.DateTimeLiteral=class extends l{constructor(e,t){super(e,s.make(s.TypeURL.XSD_DATE_TIME),t),this.typedValue=e,this.strValue=t}},t.LangStringLiteral=class extends l{constructor(e,t){super(e,s.make(s.TypeURL.RDF_LANG_STRING),e,t),this.typedValue=e,this.language=t}coerceEBV(){return 0!==this.strValue.length}},t.StringLiteral=class extends l{constructor(e){super(e,s.make(s.TypeURL.XSD_STRING),e),this.typedValue=e}coerceEBV(){return 0!==this.strValue.length}},t.NonLexicalLiteral=class extends l{constructor(e,t,r,n){super(e,t,r,n),this.typedValue=void 0,this.type="nonlexical",this.shouldBeCategory=s.type(t.value)}coerceEBV(){if(s.PrimitiveNumericTypes.contains(this.shouldBeCategory)||"boolean"===this.shouldBeCategory)return!1;throw new a.EBVCoercionError(this)}}},2493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;const n=r(1143);t.Variable=class{constructor(e){this.expressionType=n.ExpressionType.Variable,this.name=e}}},6538:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1143),t),i(r(2493),t),i(r(2441),t),i(r(7732),t),i(r(1219),t),i(r(9432),t),i(r(6826),t),i(r(5366),t)},8249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promote=t.SpecialFunction=t.NamedFunction=t.RegularFunction=t.BaseFunction=void 0;const n=r(3393),i=r(7731);class s{constructor(e,t){this.operator=e,this.apply=e=>(this.monomorph(e)||this.handleInvalidTypes(e))(e),this.arity=t.arity,this.overloads=t.overloads}monomorph(e){return this.overloads.get(a.asConcreteTypes(e))||this.overloads.get(a.asTermTypes(e))||this.overloads.get(a.asGenericTerms(e))}}t.BaseFunction=s;class a{static asConcreteTypes(e){return n.List(e.map((e=>e.type||e.termType)))}static asTermTypes(e){return n.List(e.map((e=>e.termType)))}static asGenericTerms(e){return n.List(Array(e.length).fill("term"))}}t.RegularFunction=class extends s{constructor(e,t){super(e,t),this.functionClass="regular"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}},t.NamedFunction=class extends s{constructor(e,t){super(e,t),this.functionClass="named"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}},t.SpecialFunction=class{constructor(e,t){var r;this.operator=e,this.functionClass="special",this.arity=t.arity,this.applySync=t.applySync,this.applyAsync=t.applyAsync,this.checkArity=t.checkArity||(r=this.arity,e=>r===1/0||(Array.isArray(r)?r.indexOf(e.length)>=0:e.length===r))}};const o={integer:{integer:"integer",decimal:"decimal",float:"float",double:"double"},decimal:{integer:"decimal",decimal:"decimal",float:"float",double:"double"},float:{integer:"float",decimal:"float",float:"float",double:"double"},double:{integer:"double",decimal:"double",float:"double",double:"double"}};t.promote=function(e,t){return o[e][t]}},1731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeCheckLit=t.log=t.dateTime=t.langString=t.string=t.numberFromString=t.number=t.bool=t.map=t.Impl=t.Builder=t.declare=void 0;const n=r(3393),i=r(6538),s=r(8952),a=r(7731),o=r(8952),u=r(8249);t.declare=function(){return new c};class c{constructor(){this.implementations=[]}collect(){return h(this.implementations)}log(){return console.log(this.implementations),this}add(e){return this.implementations.push(e),this}set(e,t){const r=n.List(e);return this.add(new p({types:r,func:t}))}copy({from:e,to:t}){const r=this.implementations.length-1,i=n.List(e);for(let e=r;e>=0;e--){const r=this.implementations[e];if(r.get("types").equals(i))return this.set(t,r.get("func"))}throw new a.UnexpectedError("Tried to copy implementation, but types not found",{from:e,to:t})}onUnary(e,t){return this.set([e],(([e])=>t(e)))}onUnaryTyped(e,t){return this.set([e],(([e])=>t(e.typedValue)))}onBinary(e,t){return this.set(e,(([e,r])=>t(e,r)))}onBinaryTyped(e,t){return this.set(e,(([e,r])=>t(e.typedValue,r.typedValue)))}onTernaryTyped(e,t){return this.set(e,(([e,r,n])=>t(e.typedValue,r.typedValue,n.typedValue)))}onTernary(e,t){return this.set(e,(([e,r,n])=>t(e,r,n)))}onQuaternaryTyped(e,t){return this.set(e,(([e,r,n,i])=>t(e.typedValue,r.typedValue,n.typedValue,i.typedValue)))}unimplemented(e){for(let t=0;t<=5;t++){const r=Array(t).fill("term"),n=t=>{throw new a.UnimplementedError(e)};this.set(r,n)}return this}onTerm1(e){return this.set(["term"],(([t])=>e(t)))}onLiteral1(e){return this.set(["literal"],(([t])=>e(t)))}onBoolean1(e){return this.set(["boolean"],(([t])=>e(t)))}onBoolean1Typed(e){return this.set(["boolean"],(([t])=>e(t.typedValue)))}onString1(e){return this.set(["string"],(([t])=>e(t)))}onString1Typed(e){return this.set(["string"],(([t])=>e(t.typedValue)))}onLangString1(e){return this.set(["langString"],(([t])=>e(t)))}onStringly1(e){return this.set(["string"],(([t])=>e(t))).set(["langString"],(([t])=>e(t)))}onStringly1Typed(e){return this.set(["string"],(([t])=>e(t.typedValue))).set(["langString"],(([t])=>e(t.typedValue)))}onNumeric1(e){return this.set(["integer"],(([t])=>e(t))).set(["decimal"],(([t])=>e(t))).set(["float"],(([t])=>e(t))).set(["double"],(([t])=>e(t))).invalidLexicalForm(["nonlexical"],1)}onDateTime1(e){return this.set(["date"],(([t])=>e(t))).invalidLexicalForm(["nonlexical"],1)}arithmetic(e){return this.numeric((([t,r])=>{const n=u.promote(t.type,r.type),i=s.decategorize(n);return f(e(t.typedValue,r.typedValue),i)}))}numberTest(e){return this.numeric((([t,r])=>d(e(t.typedValue,r.typedValue))))}stringTest(e){return this.set(["string","string"],(([t,r])=>d(e(t.typedValue,r.typedValue)))).invalidLexicalForm(["nonlexical","string"],1).invalidLexicalForm(["string","nonlexical"],2)}booleanTest(e){return this.set(["boolean","boolean"],(([t,r])=>d(e(t.typedValue,r.typedValue)))).invalidLexicalForm(["nonlexical","boolean"],1).invalidLexicalForm(["boolean","nonlexical"],2)}dateTimeTest(e){return this.set(["date","date"],(([t,r])=>d(e(t.typedValue,r.typedValue)))).invalidLexicalForm(["nonlexical","date"],1).invalidLexicalForm(["date","nonlexical"],2)}numeric(e){return this.set(["integer","integer"],e).set(["integer","decimal"],e).set(["integer","float"],e).set(["integer","double"],e).invalidLexicalForm(["integer","nonlexical"],2).set(["decimal","integer"],e).set(["decimal","decimal"],e).set(["decimal","float"],e).set(["decimal","double"],e).invalidLexicalForm(["decimal","nonlexical"],2).set(["float","integer"],e).set(["float","decimal"],e).set(["float","float"],e).set(["float","double"],e).invalidLexicalForm(["float","nonlexical"],2).set(["double","integer"],e).set(["double","decimal"],e).set(["double","float"],e).set(["double","double"],e).invalidLexicalForm(["double","nonlexical"],2).invalidLexicalForm(["nonlexical","integer"],1).invalidLexicalForm(["nonlexical","decimal"],1).invalidLexicalForm(["nonlexical","float"],1).invalidLexicalForm(["nonlexical","double"],1)}invalidLexicalForm(e,t){return this.set(e,(e=>{throw new a.InvalidLexicalForm(e[t-1].toRDF())}))}chain(e){return this.implementations=this.implementations.concat(e),this}}t.Builder=c;const l={types:[],func(){throw new a.UnexpectedError("Implementation not set yet declared as implemented")}};class p extends(n.Record(l)){constructor(e){super(e)}get(e){return super.get(e)}toPair(){return[this.get("types"),this.get("func")]}}function h(e){const t=e.map((e=>e.toPair()));return n.Map(t)}function d(e){return new i.BooleanLiteral(e)}function f(e,t){return new i.NumericLiteral(e,s.make(t||o.TypeURL.XSD_FLOAT),void 0)}t.Impl=p,t.map=h,t.bool=d,t.number=f,t.numberFromString=function(e,t){const r=Number(e);return new i.NumericLiteral(r,s.make(t||o.TypeURL.XSD_FLOAT),void 0)},t.string=function(e){return new i.StringLiteral(e)},t.langString=function(e,t){return new i.LangStringLiteral(e,t)},t.dateTime=function(e,t){return new i.DateTimeLiteral(e,t)},t.log=function(e,...t){return console.log(e,t),e},t.typeCheckLit=function(e,t,r,n){if("literal"!==e.termType)throw new a.InvalidArgumentTypes(r,n);const i=e;if(!t.includes(i.type))throw new a.InvalidArgumentTypes(r,n);return i}},2904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedDefinitions=void 0;const n=r(3393),i=r(7731),s=r(8952),a=r(2344),o=r(1731),u={arity:1,overloads:o.declare().onTerm1((e=>o.string(e.str()))).collect()},c={arity:1,overloads:o.declare().onNumeric1((e=>o.number(e.typedValue))).onBoolean1Typed((e=>o.number(e?1:0))).onUnary("string",(e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_FLOAT);return o.number(t)})).copy({from:["string"],to:["nonlexical"]}).collect()},l={arity:1,overloads:o.declare().onNumeric1((e=>o.number(e.typedValue,s.TypeURL.XSD_DOUBLE))).onBoolean1Typed((e=>o.number(e?1:0,s.TypeURL.XSD_DOUBLE))).onUnary("string",(e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_DOUBLE);return o.number(t,s.TypeURL.XSD_DOUBLE)})).copy({from:["string"],to:["nonlexical"]}).collect()},p={arity:1,overloads:o.declare().onNumeric1((e=>{const t=a.parseXSDDecimal(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_DECIMAL);return o.number(t,s.TypeURL.XSD_DECIMAL)})).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).onBoolean1Typed((e=>o.number(e?1:0,s.TypeURL.XSD_DECIMAL))).collect()},h={arity:1,overloads:o.declare().onBoolean1Typed((e=>o.number(e?1:0,s.TypeURL.XSD_INTEGER))).onNumeric1((e=>{const t=a.parseXSDInteger(e.str());if(!t)throw new i.CastError(e,s.TypeURL.XSD_INTEGER);return o.number(t,s.TypeURL.XSD_INTEGER)})).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).collect()},d={arity:1,overloads:o.declare().onUnary("date",(e=>e)).onUnary("string",(e=>{const t=new Date(e.str());if(isNaN(t.getTime()))throw new i.CastError(e,s.TypeURL.XSD_DATE_TIME);return o.dateTime(t,e.str())})).copy({from:["string"],to:["nonlexical"]}).collect()},f={arity:1,overloads:o.declare().onNumeric1((e=>o.bool(e.coerceEBV()))).onUnary("boolean",(e=>e)).onUnary("string",(e=>{const t=e.str();if("true"!==t&&"false"!==t)throw new i.CastError(e,s.TypeURL.XSD_BOOLEAN);return o.bool("true"===t)})).copy({from:["string"],to:["nonlexical"]}).collect()},y={[s.TypeURL.XSD_STRING]:u,[s.TypeURL.XSD_FLOAT]:c,[s.TypeURL.XSD_DOUBLE]:l,[s.TypeURL.XSD_DECIMAL]:p,[s.TypeURL.XSD_INTEGER]:h,[s.TypeURL.XSD_DATE_TIME]:d,[s.TypeURL.XSD_DATE]:d,[s.TypeURL.XSD_BOOLEAN]:f};t.namedDefinitions=n.Map(y)},8620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.definitions=void 0;const n=r(1640),i=r(3482),s=r(3776),a=r(1614),o=r(3393),u=r(6538),c=r(8952),l=r(7731),p=r(2344),h=r(3207),d=r(8952),f=r(7138),y=r(1731),m=new n.DataFactory;function g(e,t){const r=e.toRDF(),n=t.toRDF(),i=r.equals(n);if("Literal"===r.termType&&"Literal"===n.termType)throw new l.RDFEqualTypeError([e,t]);return i}const _=(e,t)=>y.bool(h.matches(e,t)),b=(e,t,r)=>y.bool(h.matches(e,t,r));function v(e){return p.parseXSDDateTime(e.str())}const w={"!":{arity:1,overloads:y.declare().onTerm1((e=>y.bool(!e.coerceEBV()))).collect()},UPLUS:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(e.typedValue,e.typeURL.value))).collect()},UMINUS:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(-e.typedValue,e.typeURL.value))).collect()},"*":{arity:2,overloads:y.declare().arithmetic(((e,t)=>s.Decimal.mul(e,t).toNumber())).collect()},"/":{arity:2,overloads:y.declare().arithmetic(((e,t)=>s.Decimal.div(e,t).toNumber())).onBinaryTyped(["integer","integer"],((e,t)=>{if(0===t)throw new l.ExpressionError("Integer division by 0");return y.number(s.Decimal.div(e,t).toNumber(),d.TypeURL.XSD_DECIMAL)})).collect()},"+":{arity:2,overloads:y.declare().arithmetic(((e,t)=>s.Decimal.add(e,t).toNumber())).collect()},"-":{arity:2,overloads:y.declare().arithmetic(((e,t)=>s.Decimal.sub(e,t).toNumber())).collect()},"=":{arity:2,overloads:y.declare().numberTest(((e,t)=>e===t)).stringTest(((e,t)=>0===e.localeCompare(t))).booleanTest(((e,t)=>e===t)).dateTimeTest(((e,t)=>e.getTime()===t.getTime())).set(["term","term"],(([e,t])=>y.bool(g(e,t)))).collect()},"!=":{arity:2,overloads:y.declare().numberTest(((e,t)=>e!==t)).stringTest(((e,t)=>0!==e.localeCompare(t))).booleanTest(((e,t)=>e!==t)).dateTimeTest(((e,t)=>e.getTime()!==t.getTime())).set(["term","term"],(([e,t])=>y.bool(!g(e,t)))).collect()},"<":{arity:2,overloads:y.declare().numberTest(((e,t)=>e<t)).stringTest(((e,t)=>-1===e.localeCompare(t))).booleanTest(((e,t)=>e<t)).dateTimeTest(((e,t)=>e.getTime()<t.getTime())).collect()},">":{arity:2,overloads:y.declare().numberTest(((e,t)=>e>t)).stringTest(((e,t)=>1===e.localeCompare(t))).booleanTest(((e,t)=>e>t)).dateTimeTest(((e,t)=>e.getTime()>t.getTime())).collect()},"<=":{arity:2,overloads:y.declare().numberTest(((e,t)=>e<=t)).stringTest(((e,t)=>1!==e.localeCompare(t))).booleanTest(((e,t)=>e<=t)).dateTimeTest(((e,t)=>e.getTime()<=t.getTime())).collect()},">=":{arity:2,overloads:y.declare().numberTest(((e,t)=>e>=t)).stringTest(((e,t)=>-1!==e.localeCompare(t))).booleanTest(((e,t)=>e>=t)).dateTimeTest(((e,t)=>e.getTime()>=t.getTime())).collect()},isiri:{arity:1,overloads:y.declare().onTerm1((e=>y.bool("namedNode"===e.termType))).collect()},isblank:{arity:1,overloads:y.declare().onTerm1((e=>y.bool("blankNode"===e.termType))).collect()},isliteral:{arity:1,overloads:y.declare().onTerm1((e=>y.bool("literal"===e.termType))).collect()},isnumeric:{arity:1,overloads:y.declare().onNumeric1((e=>y.bool(!0))).onTerm1((e=>y.bool(!1))).collect()},str:{arity:1,overloads:y.declare().onTerm1((e=>y.string(e.str()))).collect()},lang:{arity:1,overloads:y.declare().onLiteral1((e=>y.string(e.language||""))).collect()},datatype:{arity:1,overloads:y.declare().onLiteral1((e=>new u.NamedNode(e.typeURL.value))).collect()},strdt:{arity:2,overloads:y.declare().onBinary(["string","namedNode"],((e,t)=>{const r=m.literal(e.typedValue,m.namedNode(t.value));return f.transformLiteral(r)})).collect()},strlang:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>new u.LangStringLiteral(e,t.toLowerCase()))).collect()},uuid:{arity:0,overloads:y.declare().set([],(()=>new u.NamedNode("urn:uuid:"+a.v4()))).collect()},struuid:{arity:0,overloads:y.declare().set([],(()=>y.string(a.v4()))).collect()},strlen:{arity:1,overloads:y.declare().onStringly1((e=>y.number(e.typedValue.length,d.TypeURL.XSD_INTEGER))).collect()},substr:{arity:[2,3],overloads:y.declare().onBinaryTyped(["string","integer"],((e,t)=>y.string(e.substr(t-1)))).onBinary(["langString","integer"],((e,t)=>{const r=e.typedValue.substr(t.typedValue-1);return y.langString(r,e.language)})).onTernaryTyped(["string","integer","integer"],((e,t,r)=>y.string(e.substr(t-1,r)))).onTernary(["langString","integer","integer"],((e,t,r)=>{const n=e.typedValue.substr(t.typedValue-1,r.typedValue);return y.langString(n,e.language)})).collect()},ucase:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(e.toUpperCase()))).onLangString1((e=>y.langString(e.typedValue.toUpperCase(),e.language))).collect()},lcase:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(e.toLowerCase()))).onLangString1((e=>y.langString(e.typedValue.toLowerCase(),e.language))).collect()},strstarts:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.bool(e.startsWith(t)))).onBinaryTyped(["langString","string"],((e,t)=>y.bool(e.startsWith(t)))).onBinary(["langString","langString"],((e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.startsWith(t.typedValue))})).collect()},strends:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.bool(e.endsWith(t)))).onBinaryTyped(["langString","string"],((e,t)=>y.bool(e.endsWith(t)))).onBinary(["langString","langString"],((e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.endsWith(t.typedValue))})).collect()},contains:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.bool(e.includes(t)))).onBinaryTyped(["langString","string"],((e,t)=>y.bool(e.includes(t)))).onBinary(["langString","langString"],((e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);return y.bool(e.typedValue.includes(t.typedValue))})).collect()},strbefore:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.string(e.substr(0,e.indexOf(t))))).onBinary(["langString","string"],((e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?y.langString(i,e.language):y.string(i)})).onBinary(["langString","langString"],((e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=e.typedValue.substr(0,r.indexOf(n));return i||!n?y.langString(i,e.language):y.string(i)})).collect()},strafter:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.string(e.substr(e.indexOf(t)).substr(t.length)))).onBinary(["langString","string"],((e,t)=>{const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?y.langString(i,e.language):y.string(i)})).onBinary(["langString","langString"],((e,t)=>{if(e.language!==t.language)throw new l.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],i=r.substr(r.indexOf(n)).substr(n.length);return i||!n?y.langString(i,e.language):y.string(i)})).collect()},encode_for_uri:{arity:1,overloads:y.declare().onStringly1Typed((e=>y.string(encodeURI(e)))).collect()},langmatches:{arity:2,overloads:y.declare().onBinaryTyped(["string","string"],((e,t)=>y.bool(h.langMatches(e,t)))).collect()},regex:{arity:[2,3],overloads:y.declare().onBinaryTyped(["string","string"],_).onBinaryTyped(["langString","string"],_).onTernaryTyped(["string","string","string"],b).onTernaryTyped(["langString","string","string"],b).collect()},replace:{arity:[3,4],overloads:y.declare().onTernaryTyped(["string","string","string"],((e,t,r)=>y.string(h.replace(e,t,r)))).set(["langString","string","string"],(([e,t,r])=>{const n=h.replace(e.typedValue,t.typedValue,r.typedValue);return y.langString(n,e.language)})).onQuaternaryTyped(["string","string","string","string"],((e,t,r,n)=>y.string(h.replace(e,t,r,n)))).set(["langString","string","string","string"],(([e,t,r,n])=>{const i=h.replace(e.typedValue,t.typedValue,r.typedValue,n.typedValue);return y.langString(i,e.language)})).collect()},abs:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(Math.abs(e.typedValue),e.typeURL.value))).collect()},round:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(Math.round(e.typedValue),e.typeURL.value))).collect()},ceil:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(Math.ceil(e.typedValue),e.typeURL.value))).collect()},floor:{arity:1,overloads:y.declare().onNumeric1((e=>y.number(Math.floor(e.typedValue),e.typeURL.value))).collect()},rand:{arity:0,overloads:y.declare().set([],(()=>y.number(Math.random(),d.TypeURL.XSD_DOUBLE))).collect()},year:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).year),d.TypeURL.XSD_INTEGER))).collect()},month:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).month),d.TypeURL.XSD_INTEGER))).collect()},day:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).day),d.TypeURL.XSD_INTEGER))).collect()},hours:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).hours),d.TypeURL.XSD_INTEGER))).collect()},minutes:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).minutes),d.TypeURL.XSD_INTEGER))).collect()},seconds:{arity:1,overloads:y.declare().onDateTime1((e=>y.number(Number(v(e).seconds),d.TypeURL.XSD_DECIMAL))).collect()},timezone:{arity:1,overloads:y.declare().onDateTime1((e=>{const t=h.formatDayTimeDuration(v(e).timezone);if(!t)throw new l.InvalidTimezoneCall(e.strValue);return new u.Literal(t,c.make(d.TypeURL.XSD_DAYTIME_DURATION),t)})).collect()},tz:{arity:1,overloads:y.declare().onDateTime1((e=>y.string(v(e).timezone))).collect()},md5:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(i("md5").update(e).digest("hex")))).collect()},sha1:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(i("sha1").update(e).digest("hex")))).collect()},sha256:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(i("sha256").update(e).digest("hex")))).collect()},sha384:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(i("sha384").update(e).digest("hex")))).collect()},sha512:{arity:1,overloads:y.declare().onString1Typed((e=>y.string(i("sha512").update(e).digest("hex")))).collect()}};t.definitions=o.Map(w)},2093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specialDefinitions=void 0;const n=r(3393),i=r(8912),s=r(1614),a=r(6538),o=r(8952),u=r(7731),c=r(1731),l=r(9415);function p({args:e,mapping:t}){const r=e[0];if(r.expressionType!==a.ExpressionType.Variable)throw new u.InvalidArgumentTypes(e,o.SpecialOperator.BOUND);const n=t.has(r.name)&&!!t.get(r.name);return c.bool(n)}async function h(e,{args:t,mapping:r,evaluate:n,context:i},s){if(0===t.length)return s.every((e=>!e))?c.bool(!1):Promise.reject(new u.InError(s));try{const a=await n(t.shift(),r);return!0===l.regularFunctions.get(o.RegularOperator.EQUAL).apply([e,a]).typedValue?c.bool(!0):h(e,{args:t,mapping:r,evaluate:n,context:i},[...s,!1])}catch(a){return h(e,{args:t,mapping:r,evaluate:n,context:i},[...s,a])}}function d(e,{args:t,mapping:r,evaluate:n,context:i},s){if(0===t.length){if(!s.every((e=>!e)))throw new u.InError(s);c.bool(!1)}try{const a=n(t.shift(),r);return!0===l.regularFunctions.get(o.RegularOperator.EQUAL).apply([e,a]).typedValue?c.bool(!0):d(e,{args:t,mapping:r,evaluate:n,context:i},[...s,!1])}catch(a){return d(e,{args:t,mapping:r,evaluate:n,context:i},[...s,a])}}function f(e){return e.length>0&&e.every((t=>t.language===e[0].language))}const y={arity:1,applyAsync:async({args:e,evaluate:t,mapping:r,context:n})=>m(await t(e[0],r),n.baseIRI,e),applySync:({args:e,evaluate:t,mapping:r,context:n})=>m(t(e[0],r),n.baseIRI,e)};function m(e,t,r){const n="namedNode"!==e.termType?c.typeCheckLit(e,["string"],r,o.SpecialOperator.IRI):e,s=i.resolve(n.str(),t||"");return new a.NamedNode(s)}function g(e){return new a.BlankNode(e||s.v4())}const _={bound:{arity:1,applyAsync:async({args:e,mapping:t})=>p({args:e,mapping:t}),applySync:({args:e,mapping:t})=>p({args:e,mapping:t})},if:{arity:3,async applyAsync({args:e,mapping:t,evaluate:r}){const n=await r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)},applySync({args:e,mapping:t,evaluate:r}){const n=r(e[0],t);return r(n.coerceEBV()?e[1]:e[2],t)}},coalesce:{arity:1/0,async applyAsync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return await r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)},applySync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return r(i,t)}catch(e){n.push(e)}throw new u.CoalesceError(n)}},"&&":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!(await r(n,t)).coerceEBV())return c.bool(!1);const e=(await r(i,t)).coerceEBV();return c.bool(e)}catch(e){if((await r(i,t)).coerceEBV())throw e;return c.bool(!1)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!r(n,t).coerceEBV())return c.bool(!1);const e=r(i,t).coerceEBV();return c.bool(e)}catch(e){if(r(i,t).coerceEBV())throw e;return c.bool(!1)}}},"||":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if((await r(n,t)).coerceEBV())return c.bool(!0);const e=(await r(i,t)).coerceEBV();return c.bool(e)}catch(e){if(!(await r(i,t)).coerceEBV())throw e;return c.bool(!0)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(r(n,t).coerceEBV())return c.bool(!0);const e=r(i,t).coerceEBV();return c.bool(e)}catch(e){if(!r(i,t).coerceEBV())throw e;return c.bool(!0)}}},sameterm:{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map((e=>r(e,t))),s=await n,a=await i;return c.bool(s.toRDF().equals(a.toRDF()))},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map((e=>r(e,t)));return c.bool(n.toRDF().equals(i.toRDF()))}},in:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync({args:e,mapping:t,evaluate:r,context:n}){const[i,...s]=e;return h(await r(i,t),{args:s,mapping:t,evaluate:r,context:n},[])},applySync({args:e,mapping:t,evaluate:r,context:n}){const[i,...s]=e;return d(r(i,t),{args:s,mapping:t,evaluate:r,context:n},[])}},notin:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync(e){const t=l.specialFunctions.get(o.SpecialOperator.IN),r=await t.applyAsync(e);return c.bool(!r.typedValue)},applySync(e){const t=l.specialFunctions.get(o.SpecialOperator.IN).applySync(e);return c.bool(!t.typedValue)}},concat:{arity:1/0,async applyAsync({args:e,evaluate:t,mapping:r}){const n=e.map((async e=>t(e,r))).map((async t=>c.typeCheckLit(await t,["string","langString"],e,o.SpecialOperator.CONCAT))),i=await Promise.all(n),s=i.map((e=>e.typedValue)).join(""),a=f(i)?i[0].language:void 0;return a?c.langString(s,a):c.string(s)},applySync({args:e,evaluate:t,mapping:r}){const n=e.map((e=>t(e,r))).map((t=>c.typeCheckLit(t,["string","langString"],e,o.SpecialOperator.CONCAT))),i=n.map((e=>e.typedValue)).join(""),s=f(n)?n[0].language:void 0;return s?c.langString(i,s):c.string(i)}},now:{arity:0,applyAsync:async({context:e})=>new a.DateTimeLiteral(e.now,e.now.toISOString()),applySync:({context:e})=>new a.DateTimeLiteral(e.now,e.now.toISOString())},iri:y,uri:y,BNODE:{arity:1/0,checkArity:e=>0===e.length||1===e.length,async applyAsync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?await t(e[0],r):void 0,s=i?c.typeCheckLit(i,["string"],e,o.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=await n.bnode(s);return new a.BlankNode(e.value)}return g(s)},applySync({args:e,evaluate:t,mapping:r,context:n}){const i=1===e.length?t(e[0],r):void 0,s=i?c.typeCheckLit(i,["string"],e,o.SpecialOperator.BNODE).str():void 0;if(n.bnode){const e=n.bnode(s);return new a.BlankNode(e.value)}return g(s)}}};t.specialDefinitions=n.Map(_)},3207:(e,t)=>{"use strict";function r(e){return"*"===e}function n(e,t){return new RegExp(`/${e}/`,"i").test(`/${t}/`)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDayTimeDuration=t.langMatches=t.replace=t.matches=void 0,t.matches=function(e,t,r){return new RegExp(t,r).test(e)},t.replace=function(e,t,r,n){let i=new RegExp(t,n);return i.global||(i=new RegExp(t,(n||"")+"g")),e.replace(i,r)},t.langMatches=function(e,t){const i=e.split("-"),s=t.split("-");if(!n(s[0],i[0])&&!r(i[0]))return!1;let a=1,o=1;for(;o<s.length;)if(r(s[o]))o++;else{if(a===i.length)return!1;if(n(s[o],i[a]))a++,o++;else{if(1===i[a].length)return!1;a++}}return!0},t.formatDayTimeDuration=function(e){if(e){if("Z"===e[0])return"PT0S";{const[t,r,n,i,s,a]=e,o="0"!==r?r:"",u=o||"0"!==n?n:"",c="0"!==s?s:"",l=c||"0"!==a?a:"";return`${"-"===t?"-":""}PT${o+u?o+u+"H":""}${c+l?c+l+"M":""}`}}}},9415:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const s=r(8249),a=r(2904),o=r(8620),u=r(2093);i(r(8249),t),t.regularFunctions=o.definitions.map(((e,t)=>new s.RegularFunction(t,e))).toMap(),t.specialFunctions=u.specialDefinitions.map(((e,t)=>new s.SpecialFunction(t,e))).toMap(),t.namedFunctions=a.namedDefinitions.map(((e,t)=>new s.NamedFunction(t,e))).toMap()},8952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.decategorize=t.type=t.PrimitiveNumericTypes=t.commonTerms=t.DerivedIntegerTypeURLs=t.NumericTypeURLs=t.DerivedIntegerTypeURL=t.NumericTypeURL=t.make=t.TypeURL=t.EVB_ERR_STR=t.FALSE_STR=t.TRUE_STR=void 0;const n=r(1640),i=r(3393),s=new n.DataFactory;var a,o,u;t.TRUE_STR='"true"^^xsd:boolean',t.FALSE_STR='"false"^^xsd:boolean',t.EVB_ERR_STR='"not an dateTime"^^xsd:dateTime',function(e){e.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",e.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",e.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",e.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",e.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",e.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",e.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"}(a=t.TypeURL||(t.TypeURL={})),t.make=function(e){return s.namedNode(e)},function(e){e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(o=t.NumericTypeURL||(t.NumericTypeURL={})),function(e){e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(u=t.DerivedIntegerTypeURL||(t.DerivedIntegerTypeURL={})),t.NumericTypeURLs=i.Set(Object.values(o)),t.DerivedIntegerTypeURLs=i.Set(Object.values(u)),t.commonTerms={true:s.literal("true",s.namedNode(a.XSD_BOOLEAN)),false:s.literal("false",s.namedNode(a.XSD_BOOLEAN))},t.PrimitiveNumericTypes=i.Set(["integer","decimal","float","double"]),t.type=function(e){switch(e){case null:case void 0:case"":case a.XSD_ANY_URI:case a.XSD_STRING:return"string";case a.RDF_LANG_STRING:return"langString";case a.XSD_DATE_TIME:return"date";case a.XSD_BOOLEAN:return"boolean";case a.XSD_DECIMAL:return"decimal";case a.XSD_FLOAT:return"float";case a.XSD_DOUBLE:return"double";case a.XSD_INTEGER:case a.XSD_NON_POSITIVE_INTEGER:case a.XSD_NEGATIVE_INTEGER:case a.XSD_LONG:case a.XSD_INT:case a.XSD_SHORT:case a.XSD_BYTE:case a.XSD_NON_NEGATIVE_INTEGER:case a.XSD_UNSIGNED_LONG:case a.XSD_UNSIGNED_INT:case a.XSD_UNSIGNED_SHORT:case a.XSD_UNSIGNED_BYTE:case a.XSD_POSITIVE_INTEGER:return"integer";default:return"other"}};const c=i.Map([["integer",a.XSD_INTEGER],["float",a.XSD_FLOAT],["double",a.XSD_DOUBLE],["decimal",a.XSD_DECIMAL]]);var l,p,h;t.decategorize=function(e){return c.get(e)},function(e){e.NOT="!",e.UMINUS="UMINUS",e.UPLUS="UPLUS",e.EQUAL="=",e.NOT_EQUAL="!=",e.LT="<",e.GT=">",e.LTE="<=",e.GTE=">=",e.MULTIPLICATION="*",e.DIVISION="/",e.ADDITION="+",e.SUBTRACTION="-",e.IS_IRI="isiri",e.IS_BLANK="isblank",e.IS_LITERAL="isliteral",e.IS_NUMERIC="isnumeric",e.STR="str",e.LANG="lang",e.DATATYPE="datatype",e.STRDT="strdt",e.STRLANG="strlang",e.UUID="uuid",e.STRUUID="struuid",e.STRLEN="strlen",e.SUBSTR="substr",e.UCASE="ucase",e.LCASE="lcase",e.STRSTARTS="strstarts",e.STRENDS="strends",e.CONTAINS="contains",e.STRBEFORE="strbefore",e.STRAFTER="strafter",e.ENCODE_FOR_URI="encode_for_uri",e.LANG_MATCHES="langmatches",e.REGEX="regex",e.REPLACE="replace",e.ABS="abs",e.ROUND="round",e.CEIL="ceil",e.FLOOR="floor",e.RAND="rand",e.YEAR="year",e.MONTH="month",e.DAY="day",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.TIMEZONE="timezone",e.TZ="tz",e.MD5="md5",e.SHA1="sha1",e.SHA256="sha256",e.SHA384="sha384",e.SHA512="sha512"}(l=t.RegularOperator||(t.RegularOperator={})),function(e){e.BOUND="bound",e.IF="if",e.COALESCE="coalesce",e.LOGICAL_OR="||",e.LOGICAL_AND="&&",e.SAME_TERM="sameterm",e.IN="in",e.NOT_IN="notin",e.CONCAT="concat",e.NOW="now",e.IRI="iri",e.URI="uri",e.BNODE="BNODE"}(p=t.SpecialOperator||(t.SpecialOperator={})),t.RegularOperators=i.Set(Object.values(l)),t.SpecialOperators=i.Set(Object.values(p)),t.Operators=t.RegularOperators.union(t.SpecialOperators),function(e){e.COUNT="count",e.SUM="sum",e.MIN="min",e.MAX="max",e.AVG="avg",e.GROUP_CONCAT="group_concat",e.SAMPLE="sample"}(h=t.SetFunction||(t.SetFunction={})),t.SetFunctions=i.Set(Object.values(h)),t.NamedOperators=i.Set([a.XSD_STRING,a.XSD_FLOAT,a.XSD_DOUBLE,a.XSD_DECIMAL,a.XSD_INTEGER,a.XSD_DATE_TIME,a.XSD_DATE,a.XSD_BOOLEAN])},7731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoExistenceHook=t.NoAggregator=t.UnknownNamedOperator=t.UnknownOperator=t.InvalidTermType=t.InvalidExpressionType=t.InvalidExpression=t.InvalidArity=t.UnimplementedError=t.UnexpectedError=t.EmptyAggregateError=t.IncompatibleLanguageOperation=t.InvalidTimezoneCall=t.CastError=t.InvalidArgumentTypes=t.InError=t.CoalesceError=t.RDFEqualTypeError=t.EBVCoercionError=t.UnboundVariableError=t.InvalidLexicalForm=t.isExpressionError=t.ExpressionError=void 0;class r extends Error{}t.ExpressionError=r,t.isExpressionError=function(e){return e instanceof r},t.InvalidLexicalForm=class extends r{constructor(e){super(`Invalid lexical form '${d(e)}'`),this.arg=e}},t.UnboundVariableError=class extends r{constructor(e,t){super(`Unbound variable '${d(e)}'`),this.variable=e,this.bindings=t}},t.EBVCoercionError=class extends r{constructor(e){super(`Cannot coerce term to EBV '${d(e)}'`),this.arg=e}},t.RDFEqualTypeError=class extends r{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}},t.CoalesceError=class extends r{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}},t.InError=class extends r{constructor(e){super("Some argument to IN errorred and none where equal. "+e.map((e=>`(${e.toString()}) `)).join("and ")),this.errors=e}},t.InvalidArgumentTypes=class extends r{constructor(e,t){super(`Argument types not valid for operator: '${d(t)}' with '${d(e)}`),this.args=e,this.op=t}},t.CastError=class extends r{constructor(e,t){super(`Invalid cast: '${d(e)}' to '${d(t)}'`),this.arg=e}},t.InvalidTimezoneCall=class extends r{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}},t.IncompatibleLanguageOperation=class extends r{constructor(e,t){super(`Operation on incompatible language literals '${d(e)}' and '${d(t)}'`),this.arg1=e,this.arg2=t}},t.EmptyAggregateError=class extends r{constructor(){super("Empty aggregate expression")}};class n extends Error{constructor(e,t){super(`Programmer Error '${e}'`),this.payload=t}}t.UnexpectedError=n;class i extends Error{constructor(e){super(`Unimplemented feature '${e}!'`)}}t.UnimplementedError=i;class s extends Error{constructor(e,t){super(`The number of args does not match the arity of the operator '${d(t)}'.`),this.args=e,this.op=t}}t.InvalidArity=s;class a extends Error{constructor(e){super(`Invalid SPARQL Expression '${d(e)}'`)}}t.InvalidExpression=a;class o extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${d(e)}'`),this.expr=e}}t.InvalidExpressionType=o;class u extends Error{constructor(e){super(`Invalid term type for term '${d(e)}'`),this.term=e}}t.InvalidTermType=u;class c extends Error{constructor(e){super("Unknown operator: '"+d(e))}}t.UnknownOperator=c;class l extends Error{constructor(e){super(`Unknown named operator: '${d(e)}'`)}}t.UnknownNamedOperator=l;class p extends Error{constructor(e){super(`Aggregate expression ${d(e)} found, but no aggregate hook provided.`)}}t.NoAggregator=p;class h extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}function d(e){return JSON.stringify(e)}t.NoExistenceHook=h},8468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.orderTypes=void 0;const n=r(7138);function i(e,t,r){return e.typedValue===t.typedValue?0:e.typedValue>t.typedValue===r?1:-1}t.orderTypes=function(e,t,r){return e&&"Literal"===e.termType&&t&&"Literal"===t.termType?i(n.transformLiteral(e),n.transformLiteral(t),r):0},t.order=i},2344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXSDDateTime=t.parseXSDInteger=t.parseXSDDecimal=t.parseXSDFloat=void 0,t.parseXSDFloat=function(e){const t=Number(e);return isNaN(t)?"NaN"===e?NaN:"INF"===e?1/0:"-INF"===e?-1/0:void 0:t},t.parseXSDDecimal=function(e){if(/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDInteger=function(e){if(/^(\-|\+)?([0-9]+)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDDateTime=function(e){const t=e.indexOf("T"),r=t>=0?e.substr(0,t):e,[n,i,s]=r.split("-");let a="",o="",u="",c="";if(t>=0){const r=e.substr(t+1),[n,i]=r.split(/[\+\-Z]/);[a,o,u]=n.split(":");const s=new RegExp(/([\+\-Z].*)/).exec(r);c=s?s[0]:""}else a="00",o="00",u="00",c="";return{year:n,month:i,day:s,hours:a,minutes:o,seconds:u,timezone:c}}},4404:e=>{function t(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var i=t[n];a(i)&&(this._prefixByIri[i]=n,r.push(i))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=a(e.indent)?e.indent:"  ",this._newline=a(e.newline)?e.newline:"\n"}t.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=c(e.variables,void 0,(function(e){return o(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+s(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=c(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+c(e.group,void 0,(function(e){var t=a(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+s(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+c(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+c(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),(t=this.baseAndPrefixes(e)+t).trim()},t.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},t.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},t.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},t.prototype.array=function(e){return c(e,this._newline,this.toPattern,this)},t.prototype.bgp=function(e){return this.encodeTriples(e.triples)},t.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,i=0;i<e.length;i++){var s=e[i];u(s.subject,r)?u(s.predicate,n)?t.push(","):(n=s.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=s.subject,n=s.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(s.object))}return t.push("."),t.join("")},t.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},t.prototype.graphs=function(e,t){return t&&0!==t.length?c(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},t.prototype.group=function(e,t){return-1===(e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns)).indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},t.prototype.query=function(e){return this.toQuery(e)},t.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},t.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+s(e.variable)+")"},t.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},t.prototype.union=function(e){return c(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},t.prototype.minus=function(e){return"MINUS "+this.group(e)},t.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+c(e.values,this._newline,(function(e){return"  "+t+c(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},t.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},t.prototype.toExpression=function(e){if(o(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(r,n)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+c(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),i=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(o(i[0])?this.toEntity(i[0]):"("+this.toExpression(i[0])+")")+" "+t+" "+(o(i[1])?this.toEntity(i[1]):"("+this.toExpression(i[1])+")");case"!":return"!("+this.toExpression(i[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(i[0])+" "+t+"("+(a(i[1])?i[1]:c(i[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(i[0],!0);default:return t+"("+c(i,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},t.prototype.toEntity=function(e){if(o(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return s(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",i=e.language||"",a=e.datatype;if(e='"'+t.replace(r,n)+'"',i)e+="@"+i;else if(a){if("http://www.w3.org/2001/XMLSchema#integer"===a.value&&/^\d+$/.test(t))return t+" ";if("http://www.w3.org/2001/XMLSchema#string"===a.value)return e;e+="^^"+this.encodeIRI(a.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var u=e.items.map(this.toEntity,this),c=e.pathType;switch(c){case"^":case"!":return c+u[0];case"*":case"+":case"?":return"("+u[0]+c+")";default:return"("+u.join(c)+")"}}};var r=/["\\\t\n\r\b\f]/g,n=function(e){return i[e]},i={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function s(e){return"?"+e.value}function a(e){return"string"==typeof e}function o(e){return"string"==typeof e.termType}function u(e,t){if(!e||!o(e))return!1;if(!t||!o(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&u(e.datatype,t.datatype);case"Quad":return u(e.subject,t.subject)&&u(e.predicate,t.predicate)&&u(e.object,t.object)&&u(e.graph,t.graph);default:return e.value===t.value}}function c(e,t,r,n){return e.map(r,n).join(a(t)?t:" ")}t.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},t.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},t.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new t(n).toQuery(r)},createGenerator:function(){return new t(e)}}}},7107:(e,t,r)=>{e=r.nmd(e);var n=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],n=[2,208],i=[107,117,120,122,123,132,133,138,320,321,322,323,324],s=[1,20],a=[1,29],o=[6,90],u=[45,46,58],c=[45,58],l=[1,58],p=[1,60],h=[1,56],d=[1,59],f=[1,65],y=[1,66],m=[26,34,35],g=[13,16,310],_=[119,141,318,325],b=[13,16,119,141,310],v=[1,88],w=[1,92],O=[1,94],S=[119,141,318,319,325],T=[13,16,119,141,310,319],E=[1,100],x=[2,250],A=[1,99],I=[13,16,34,35,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],j=[6,45,46,58,68,75,78,86,88,90],N=[6,13,16,34,45,46,58,68,75,78,86,88,90,310],R=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,328,329,331,332,333,334,335,336,337,338],P=[34,35,45,46,58],D=[13,16,34,35,87,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,338,339,340,341,342,343],M=[2,451],k=[1,123],L=[1,117],F=[1,124],q=[1,125],C=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],B=[2,309],U=[1,142],Q=[1,140],V=[6,191],z=[2,326],G=[2,314],X=[45,135],H=[6,48,78,86,88,90],$=[2,254],Y=[1,156],J=[1,158],K=[6,48,75,78,86,88,90],Z=[2,252],W=[1,164],ee=[1,176],te=[1,174],re=[1,184],ne=[1,182],ie=[1,175],se=[1,180],ae=[1,181],oe=[1,185],ue=[1,186],ce=[1,189],le=[1,190],pe=[1,191],he=[1,192],de=[1,193],fe=[1,194],ye=[1,195],me=[1,196],ge=[1,197],_e=[1,198],be=[1,199],ve=[6,68,75,78,86,88,90],we=[37,38,191,248,276],Oe=[37,38,191,248,252,276],Se=[37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,332,333,334,335,336,337,338],Te=[26,37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,329,332,333,334,335,336,337,338],Ee=[1,229],xe=[1,230],Ae=[1,232],Ie=[1,233],je=[1,234],Ne=[1,235],Re=[1,237],Pe=[1,238],De=[2,458],Me=[1,240],ke=[1,241],Le=[1,242],Fe=[1,248],qe=[1,243],Ce=[1,244],Be=[1,245],Ue=[1,246],Qe=[1,247],Ve=[13,16,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],ze=[48,93],Ge=[34,38],Xe=[6,116,191],He=[48,119],$e=[6,48,86,88,90],Ye=[2,338],Je=[2,330],Ke=[1,293],Ze=[1,295],We=[48,119,326],et=[13,16,34,195,310],tt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],rt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],nt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],it=[13,16,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],st=[1,329],at=[1,330],ot=[1,332],ut=[1,331],ct=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],lt=[1,340],pt=[1,339],ht=[35,93],dt=[1,353],ft=[1,354],yt=[1,367],mt=[6,48,90],gt=[6,13,16,35,48,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],_t=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,224,229,243,244,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,338,339,340,341,342,343],bt=[46,48,90,119,167,168,170,173,174],vt=[1,386],wt=[1,387],Ot=[1,393],St=[1,392],Tt=[48,119,191,225,326],Et=[2,370],xt=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],At=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],It=[13,16,26,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],jt=[13,16,38,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Nt=[35,48],Rt=[2,329],Pt=[1,451],Dt=[1,448],Mt=[1,449],kt=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,327,329,332,333,334,335,336,337,338,339,340,341,342,343],Lt=[13,16,35,195,217,222,310],Ft=[2,384],qt=[1,469],Ct=[46,48,90,119,167,168,170,173,174,326],Bt=[13,16,34,35,195,217,222,310],Ut=[6,13,16,34,35,48,75,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],Qt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Vt=[6,13,16,34,35,48,81,83,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],zt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Gt=[13,16,34,310],Xt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Ht=[2,341],$t=[46,48,90,119,167,168,170,173,174,191,225,326],Yt=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Jt=[2,336],Kt=[13,16,35,195,217,310],Zt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Wt=[13,16,38,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],er=[13,16,34,38,48,87,100,195,229,233,297,298,299,300,301,302,303,304,305,306,307,308,309,310],tr=[13,16,34,35,48,87,93,119,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],rr=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329],nr=[13,16,26,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329,331,332],ir=[1,630],sr=[1,631],ar=[2,324],or=[13,16,38,195,222,310],ur={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,TriplesSameSubjectPath_group0:198,PropertyListPathNotEmpty:199,TriplesNodePath:200,TriplesSameSubjectPath_option0:201,PropertyListPathNotEmpty_group0:202,PropertyListPathNotEmpty_repetition0:203,GraphNodePath:204,PropertyListPathNotEmpty_repetition1:205,PropertyListPathNotEmptyTail:206,PropertyListPathNotEmptyTail_group0:207,Path:208,Path_repetition0:209,PathSequence:210,PathSequence_repetition0:211,PathEltOrInverse:212,PathElt:213,PathPrimary:214,PathElt_option0:215,PathEltOrInverse_option0:216,"!":217,PathNegatedPropertySet:218,PathOneInPropertySet:219,PathNegatedPropertySet_repetition0:220,PathNegatedPropertySet_option0:221,"^":222,TriplesNode_repetition_plus0:223,"[":224,"]":225,TriplesNodePath_repetition_plus0:226,GraphNode_group0:227,GraphNodePath_group0:228,"<<":229,VarTriple_group0:230,VarTriple_group1:231,VarTriple_group2:232,">>":233,VarTriple_group3:234,VarTriple_group4:235,ConstTriple_group0:236,ConstTriple_group1:237,ConstTriple_group2:238,ConstTriple_group3:239,ConstTriple_group4:240,VarOrTerm:241,Term:242,BLANK_NODE_LABEL:243,ANON:244,ConditionalAndExpression:245,Expression_repetition0:246,ExpressionTail:247,"||":248,RelationalExpression:249,ConditionalAndExpression_repetition0:250,ConditionalAndExpressionTail:251,"&&":252,AdditiveExpression:253,RelationalExpression_group0:254,RelationalExpression_option0:255,IN:256,MultiplicativeExpression:257,AdditiveExpression_repetition0:258,AdditiveExpressionTail:259,AdditiveExpressionTail_group0:260,NumericLiteralPositive:261,AdditiveExpressionTail_repetition0:262,NumericLiteralNegative:263,AdditiveExpressionTail_repetition1:264,UnaryExpression:265,MultiplicativeExpression_repetition0:266,MultiplicativeExpressionTail:267,MultiplicativeExpressionTail_group0:268,UnaryExpression_option0:269,PrimaryExpression:270,"-":271,Aggregate:272,FUNC_ARITY0:273,FUNC_ARITY1:274,FUNC_ARITY2:275,",":276,IF:277,BuiltInCall_group0:278,BOUND:279,BNODE:280,BuiltInCall_option0:281,EXISTS:282,COUNT:283,Aggregate_option0:284,Aggregate_group0:285,FUNC_AGGREGATE:286,Aggregate_option1:287,GROUP_CONCAT:288,Aggregate_option2:289,Aggregate_option3:290,GroupConcatSeparator:291,SEPARATOR:292,"=":293,String:294,LANGTAG:295,"^^":296,DECIMAL:297,DOUBLE:298,BOOLEAN:299,STRING_LITERAL1:300,STRING_LITERAL2:301,STRING_LITERAL_LONG1:302,STRING_LITERAL_LONG2:303,INTEGER_POSITIVE:304,DECIMAL_POSITIVE:305,DOUBLE_POSITIVE:306,INTEGER_NEGATIVE:307,DECIMAL_NEGATIVE:308,DOUBLE_NEGATIVE:309,PNAME_LN:310,QueryOrUpdate_group0_option0:311,Prologue_repetition0_group0:312,SelectClauseBase_option0_group0:313,DISTINCT:314,REDUCED:315,DescribeQuery_group0_repetition_plus0_group0:316,DescribeQuery_group0_repetition_plus0:317,NAMED:318,SILENT:319,CLEAR:320,DROP:321,ADD:322,MOVE:323,COPY:324,ALL:325,".":326,UNION:327,"|":328,"/":329,PathElt_option0_group0:330,"?":331,"+":332,"!=":333,"<":334,">":335,"<=":336,">=":337,NOT:338,CONCAT:339,COALESCE:340,SUBSTR:341,REGEX:342,REPLACE:343,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",217:"!",222:"^",224:"[",225:"]",229:"<<",233:">>",243:"BLANK_NODE_LABEL",244:"ANON",248:"||",252:"&&",256:"IN",271:"-",273:"FUNC_ARITY0",274:"FUNC_ARITY1",275:"FUNC_ARITY2",276:",",277:"IF",279:"BOUND",280:"BNODE",282:"EXISTS",283:"COUNT",286:"FUNC_AGGREGATE",288:"GROUP_CONCAT",292:"SEPARATOR",293:"=",295:"LANGTAG",296:"^^",297:"DECIMAL",298:"DOUBLE",299:"BOOLEAN",300:"STRING_LITERAL1",301:"STRING_LITERAL2",302:"STRING_LITERAL_LONG1",303:"STRING_LITERAL_LONG2",304:"INTEGER_POSITIVE",305:"DECIMAL_POSITIVE",306:"DOUBLE_POSITIVE",307:"INTEGER_NEGATIVE",308:"DECIMAL_NEGATIVE",309:"DOUBLE_NEGATIVE",310:"PNAME_LN",314:"DISTINCT",315:"REDUCED",318:"NAMED",319:"SILENT",320:"CLEAR",321:"DROP",322:"ADD",323:"MOVE",324:"COPY",325:"ALL",326:".",327:"UNION",328:"|",329:"/",331:"?",332:"+",333:"!=",334:"<",335:">",336:"<=",337:">=",338:"NOT",339:"CONCAT",340:"COALESCE",341:"SUBSTR",342:"REGEX",343:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[164,2],[164,2],[199,4],[206,1],[206,3],[208,2],[210,2],[213,2],[212,2],[214,1],[214,1],[214,2],[214,3],[218,1],[218,1],[218,4],[219,1],[219,1],[219,2],[219,2],[185,3],[185,3],[200,3],[200,3],[197,1],[197,1],[204,1],[204,1],[39,9],[39,5],[99,9],[99,5],[241,1],[241,1],[242,1],[242,1],[242,1],[242,1],[242,1],[36,2],[247,2],[245,2],[251,2],[249,1],[249,3],[249,4],[253,2],[259,2],[259,2],[259,2],[257,2],[267,2],[265,2],[265,2],[265,2],[270,1],[270,1],[270,1],[270,1],[270,1],[270,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[272,5],[272,5],[272,6],[291,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[294,1],[294,1],[294,1],[294,1],[261,1],[261,1],[261,1],[263,1],[263,1],[263,1],[60,1],[60,1],[60,1],[311,0],[311,1],[5,1],[5,1],[312,1],[312,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[313,1],[313,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[316,1],[316,1],[317,1],[317,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[198,1],[198,1],[201,0],[201,1],[202,1],[202,1],[203,0],[203,3],[205,0],[205,2],[207,1],[207,1],[209,0],[209,3],[211,0],[211,3],[330,1],[330,1],[330,1],[215,0],[215,1],[216,0],[216,1],[220,0],[220,3],[221,0],[221,1],[223,1],[223,2],[226,1],[226,2],[227,1],[227,1],[228,1],[228,1],[230,1],[230,1],[231,1],[231,1],[232,1],[232,1],[234,1],[234,1],[235,1],[235,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[246,0],[246,2],[250,0],[250,2],[254,1],[254,1],[254,1],[254,1],[254,1],[254,1],[255,0],[255,1],[258,0],[258,2],[260,1],[260,1],[262,0],[262,2],[264,0],[264,2],[266,0],[266,2],[268,1],[268,1],[269,0],[269,1],[278,1],[278,1],[278,1],[278,1],[278,1],[281,0],[281,1],[284,0],[284,1],[285,1],[285,1],[287,0],[287,1],[289,0],[289,1],[290,0],[290,1]],performAction:function(e,t,r,n,i,s,a){var o,u,c,l,p=s.length-1;switch(i){case 1:return s[p-1]=s[p-1]||{},en.base&&(s[p-1].base=en.base),en.base=vr=wr=Or="",s[p-1].prefixes=en.prefixes,en.prefixes=null,s[p-1];case 3:this.$=xr(s[p-1],s[p],{type:"query"});break;case 4:en.base=Ir(s[p]),vr=wr=Or="";break;case 5:en.prefixes||(en.prefixes={}),s[p-1]=s[p-1].substr(0,s[p-1].length-1),s[p]=Ir(s[p]),en.prefixes[s[p-1]]=s[p];break;case 6:this.$=xr(s[p-3],Mr(s[p-2]),s[p-1],s[p]);break;case 7:if(Yr(s[p-3].variables.map((e=>Hr(e.expression)))).some((e=>"count"===e.aggregation))||s[p].group)for(const e of s[p-3].variables)if("Variable"===e.termType){if(!s[p].group||!s[p].group.map((e=>Xr(e))).includes(Xr(e)))throw Error("Projection of ungrouped variable (?"+Xr(e)+")")}else if(0===Hr(e.expression).length){const t=$r(e.expression);for(const e of t)if(!s[p].group.map((e=>Xr(e))).includes(Xr(e)))throw Error("Use of ungrouped variable in projection of operation (?"+Xr(e)+")")}const e=s[p-1].where.filter((e=>"query"===e.type));if(e.length>0){const t=s[p-3].variables.filter((e=>e.variable&&e.variable.value)).map((e=>e.variable.value)),r=Yr(e.map((e=>e.variables))).map((e=>e.value||e.variable.value));for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=xr(s[p-3],Mr(s[p-2]),s[p-1],s[p]);break;case 8:this.$=xr(s[p-1],{variables:[new cr]});break;case 9:const t=function(e){const t=e.slice().sort(),r=[];for(let e=0;e<t.length-1;e++)t[e+1]==t[e]&&r.push(t[e]);return r}(s[p].map((e=>e.value||e.variable.value)));if(t.length>0)throw Error("Two or more of the resulting columns have the same name (?"+t[0]+")");this.$=xr(s[p-1],{variables:s[p]});break;case 10:this.$=xr({queryType:"SELECT"},s[p]&&(s[p-1]=Sr(s[p]),s[p]={},s[p][s[p-1]]=!0,s[p]));break;case 11:case 12:this.$=xr(s[p-3],s[p-2],s[p-1],s[p],{type:"query"});break;case 13:case 100:case 136:case 164:this.$=jr(s[p]);break;case 14:case 28:this.$=Rr(s[p-3],{variable:jr(s[p-1])});break;case 15:this.$=Zr(Rr(s[p-3],{variable:jr(s[p-1])}));break;case 16:this.$=xr({queryType:"CONSTRUCT",template:s[p-3]},Mr(s[p-2]),s[p-1],s[p]);break;case 17:this.$=xr({queryType:"CONSTRUCT",template:s[p-2]=s[p-2]?s[p-2].triples:[]},Mr(s[p-5]),{where:[{type:"bgp",triples:Er([],s[p-2])}]},s[p]);break;case 18:this.$=xr({queryType:"DESCRIBE",variables:"*"===s[p-3]?[new cr]:s[p-3].map(jr)},Mr(s[p-2]),s[p-1],s[p]);break;case 19:this.$=xr({queryType:"ASK"},Mr(s[p-2]),s[p-1],s[p]);break;case 20:case 61:this.$={iri:s[p],named:!!s[p-1]};break;case 21:this.$={where:s[p].patterns};break;case 22:this.$=xr(s[p-1],s[p]);break;case 23:this.$=xr(s[p-2],s[p-1],s[p]);break;case 24:this.$={group:s[p]};break;case 25:case 26:case 32:case 34:this.$=Rr(s[p]);break;case 27:this.$=Rr(s[p-1]);break;case 29:case 35:this.$=Rr(jr(s[p]));break;case 30:this.$={having:s[p]};break;case 31:this.$={order:s[p]};break;case 33:this.$=Rr(s[p],{descending:!0});break;case 36:this.$={limit:kr(s[p])};break;case 37:this.$={offset:kr(s[p])};break;case 38:this.$={limit:kr(s[p-2]),offset:kr(s[p])};break;case 39:this.$={limit:kr(s[p]),offset:kr(s[p-2])};break;case 40:this.$={type:"values",values:s[p]};break;case 41:this.$=s[p-1].map((function(e){var t={};return t[s[p-3]]=e,t}));break;case 42:this.$=s[p-1].map((function(){return{}}));break;case 43:var h=s[p-4].length;s[p-4]=s[p-4].map(jr),this.$=s[p-1].map((function(e){if(e.length!==h)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<h;r++)t["?"+s[p-4][r].value]=e[r];return t}));break;case 46:this.$=Zr(s[p]);break;case 47:this.$=void 0;break;case 48:case 92:case 116:case 165:this.$=s[p-1];break;case 49:this.$={type:"update",updates:Tr(s[p-2],s[p-1])};break;case 50:this.$=xr({type:"load",silent:!!s[p-2],source:s[p-1]},s[p]&&{destination:s[p]});break;case 51:this.$={type:Sr(s[p-2]),silent:!!s[p-1],graph:s[p]};break;case 52:this.$={type:Sr(s[p-4]),silent:!!s[p-3],source:s[p-2],destination:s[p]};break;case 53:this.$={type:"create",silent:!!s[p-2],graph:{type:"graph",name:s[p]}};break;case 54:this.$={updateType:"insert",insert:s[p]};break;case 55:this.$={updateType:"delete",delete:s[p]};break;case 56:this.$={updateType:"deletewhere",delete:s[p]};break;case 57:this.$=xr({updateType:"insertdelete"},s[p-5],{insert:s[p-4]||[]},{delete:s[p-3]||[]},Mr(s[p-2],"using"),{where:s[p].patterns});break;case 58:this.$=xr({updateType:"insertdelete"},s[p-5],{delete:s[p-4]||[]},{insert:s[p-3]||[]},Mr(s[p-2],"using"),{where:s[p].patterns});break;case 59:case 60:case 63:case 156:case 179:this.$=s[p];break;case 62:this.$={graph:s[p]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:s[p]};break;case 67:this.$={},this.$[Sr(s[p])]=!0;break;case 68:this.$=s[p-2]?Ar(s[p-1],[s[p-2]]):Ar(s[p-1]);break;case 69:var d=xr(s[p-3]||{triples:[]},{type:"graph",name:jr(s[p-5])});this.$=s[p]?[d,s[p]]:[d];break;case 70:case 75:this.$={type:"bgp",triples:Ar(s[p-2],[s[p-1]])};break;case 71:this.$={type:"group",patterns:[s[p-1]]};break;case 72:for(const e of s[p-1].filter((e=>"bind"===e.type))){const t=s[p-1].indexOf(e),r=new Set;for(const e of s[p-1].slice(0,t))"group"!==e.type&&"bgp"!==e.type||Kr(e).forEach((e=>r.add(e)));if(r.has(e.variable.value))throw Error("Variable used to bind is already bound (?"+e.variable.value+")")}this.$={type:"group",patterns:s[p-1]};break;case 73:this.$=s[p-1]?Ar([s[p-1]],s[p]):Ar(s[p]);break;case 74:this.$=s[p]?[s[p-2],s[p]]:s[p-2];break;case 76:s[p-1].length?this.$={type:"union",patterns:Ar(s[p-1].map(Lr),[Lr(s[p])])}:this.$=s[p];break;case 77:this.$=xr(s[p],{type:"optional"});break;case 78:this.$=xr(s[p],{type:"minus"});break;case 79:this.$=xr(s[p],{type:"graph",name:jr(s[p-1])});break;case 80:this.$=xr(s[p],{type:"service",name:jr(s[p-1]),silent:!!s[p-2]});break;case 81:this.$={type:"filter",expression:s[p]};break;case 82:this.$={type:"bind",variable:jr(s[p-1]),expression:s[p-3]};break;case 83:this.$=Zr({type:"bind",variable:jr(s[p-1]),expression:s[p-3]});break;case 88:this.$={type:"functionCall",function:s[p-1],args:[]};break;case 89:this.$={type:"functionCall",function:s[p-5],args:Tr(s[p-2],s[p-1]),distinct:!!s[p-3]};break;case 90:case 107:case 118:case 208:case 216:case 218:case 230:case 232:case 242:case 246:case 266:case 268:case 272:case 276:case 299:case 305:case 316:case 326:case 332:case 338:case 342:case 352:case 354:case 358:case 366:case 370:case 378:case 380:case 384:case 386:case 395:case 427:case 429:case 439:case 443:case 445:case 447:this.$=[];break;case 91:this.$=Tr(s[p-2],s[p-1]);break;case 93:this.$=Ar(s[p-2],[s[p-1]]);break;case 94:case 104:this.$=s[p].map((function(e){return xr(qr(s[p-1]),e)}));break;case 95:this.$=Er(s[p].map((function(e){return xr(qr(s[p-1].entity),e)})),s[p-1].triples);break;case 97:this.$=Ar([s[p-1]],s[p]);break;case 98:this.$=Ar(s[p]);break;case 99:this.$=Gr(s[p-1],s[p]);break;case 102:case 114:case 121:this.$=en.factory.namedNode(pr);break;case 103:this.$=Tr(s[p-1],s[p]);break;case 105:this.$=s[p]?Er(s[p].map((function(e){return xr(qr(s[p-1].entity),e)})),s[p-1].triples):s[p-1].triples;break;case 106:this.$=Gr(jr(s[p-3]),Tr(s[p-2],s[p-1]),s[p]);break;case 108:this.$=Gr(jr(s[p-1]),s[p]);break;case 109:this.$=s[p-1].length?Pr("|",Tr(s[p-1],s[p])):s[p];break;case 110:this.$=s[p-1].length?Pr("/",Tr(s[p-1],s[p])):s[p];break;case 111:this.$=s[p]?Pr(s[p],[s[p-1]]):s[p-1];break;case 112:this.$=s[p-1]?Pr(s[p-1],[s[p]]):s[p];break;case 115:case 122:this.$=Pr(s[p-1],[s[p]]);break;case 119:this.$=Pr("|",Tr(s[p-2],s[p-1]));break;case 123:this.$=Pr(s[p-1],[en.factory.namedNode(pr)]);break;case 124:case 126:this.$=function(e){var t=Cr(),r=t,n=[],i=[];e.forEach((function(e){n.push(e.entity),Er(i,e.triples)}));for(var s=0,a=0,o=n.length,u=Array(2*o);s<o;)u[a++]=qr(r,en.factory.namedNode(hr),n[s]),u[a++]=qr(r,en.factory.namedNode(dr),r=++s<o?Cr():en.factory.namedNode(fr));return{entity:t,triples:Er(u,i)}}(s[p-1]);break;case 125:case 127:this.$=(c=s[p-1],{entity:l=Cr(),triples:c.map((function(e){return xr(qr(l),e)}))});break;case 128:case 130:this.$={entity:s[p],triples:[]};break;case 132:case 134:this.$=Zr(en.factory.quad(s[p-4],s[p-3],s[p-2],jr(s[p-6])));break;case 133:case 135:this.$=Zr(en.factory.quad(s[p-3],s[p-2],s[p-1]));break;case 140:this.$=Cr(s[p].replace(/^(_:)/,""));break;case 141:this.$=Cr();break;case 142:this.$=en.factory.namedNode(fr);break;case 143:case 145:case 150:case 154:this.$=Dr(s[p-1],s[p]);break;case 144:this.$=["||",s[p]];break;case 146:this.$=["&&",s[p]];break;case 148:this.$=Nr(s[p-1],[s[p-2],s[p]]);break;case 149:this.$=Nr(s[p-2]?"notin":"in",[s[p-3],s[p]]);break;case 151:case 155:this.$=[s[p-1],s[p]];break;case 152:this.$=["+",Dr(s[p-1],s[p])];break;case 153:var f=Fr(s[p-1].value.replace("-",""),s[p-1].datatype);this.$=["-",Dr(f,s[p])];break;case 157:this.$=Nr(s[p-1],[s[p]]);break;case 158:this.$=Nr("UMINUS",[s[p]]);break;case 167:this.$=Nr(Sr(s[p-1]));break;case 168:this.$=Nr(Sr(s[p-3]),[s[p-1]]);break;case 169:this.$=Nr(Sr(s[p-5]),[s[p-3],s[p-1]]);break;case 170:this.$=Nr(Sr(s[p-7]),[s[p-5],s[p-3],s[p-1]]);break;case 171:this.$=Nr(Sr(s[p-1]),s[p]);break;case 172:this.$=Nr("bound",[jr(s[p-1])]);break;case 173:this.$=Nr(s[p-1],[]);break;case 174:this.$=Nr(s[p-3],[s[p-1]]);break;case 175:this.$=Nr(s[p-2]?"notexists":"exists",[Lr(s[p])]);break;case 176:case 177:this.$=Rr(s[p-1],{type:"aggregate",aggregation:Sr(s[p-4]),distinct:!!s[p-2]});break;case 178:this.$=Rr(s[p-2],{type:"aggregate",aggregation:Sr(s[p-5]),distinct:!!s[p-3],separator:s[p-1]||" "});break;case 180:this.$=Fr(s[p]);break;case 181:this.$=(o=s[p-1],u=Sr(s[p].substr(1)),en.factory.literal(o,u));break;case 182:this.$=Fr(s[p-2],s[p]);break;case 183:case 196:this.$=Fr(s[p],mr);break;case 184:case 197:this.$=Fr(s[p],gr);break;case 185:case 198:this.$=Fr(Sr(s[p]),_r);break;case 188:this.$=Fr(s[p].toLowerCase(),br);break;case 189:case 190:this.$=zr(s[p],1);break;case 191:case 192:this.$=zr(s[p],3);break;case 193:this.$=Fr(s[p].substr(1),mr);break;case 194:this.$=Fr(s[p].substr(1),gr);break;case 195:this.$=Fr(s[p].substr(1).toLowerCase(),_r);break;case 199:this.$=en.factory.namedNode(Ir(s[p]));break;case 200:var y=s[p].indexOf(":"),m=s[p].substr(0,y),g=en.prefixes[m];if(!g)throw new Error("Unknown prefix: "+m);var _=Ir(g+s[p].substr(y+1));this.$=en.factory.namedNode(_);break;case 201:if(s[p]=s[p].substr(0,s[p].length-1),!(s[p]in en.prefixes))throw new Error("Unknown prefix: "+s[p]);_=Ir(en.prefixes[s[p]]),this.$=en.factory.namedNode(_);break;case 209:case 217:case 219:case 221:case 231:case 233:case 239:case 243:case 247:case 261:case 263:case 265:case 267:case 269:case 271:case 273:case 275:case 300:case 306:case 317:case 333:case 367:case 381:case 400:case 402:case 428:case 430:case 440:case 444:case 446:case 448:s[p-1].push(s[p]);break;case 220:case 238:case 260:case 262:case 264:case 270:case 274:case 399:case 401:this.$=[s[p]];break;case 277:s[p-3].push(s[p-2]);break;case 327:case 339:case 343:case 353:case 355:case 359:case 371:case 379:case 385:case 387:case 396:s[p-2].push(s[p-1])}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(i,[2,276],{5:4,8:5,311:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,202],28:s,41:[1,16],50:[1,17],55:[1,18]}),e([6,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],[2,2],{312:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,204]},{6:[2,205]},{6:[2,214],10:27,89:28,90:a},{6:[2,203]},e(o,[2,210]),e(o,[2,211]),e(o,[2,212]),e(o,[2,213]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,301],133:[2,295],137:45,138:[1,46],320:[1,40],321:[1,41],322:[1,42],323:[1,43],324:[1,44]},e(u,[2,216],{19:47}),e(u,[2,218],{23:48}),e(c,[2,232],{42:49,44:50,46:[1,51]}),{13:l,16:p,26:[1,54],34:h,51:52,60:57,310:d,316:55,317:53},e(u,[2,246],{56:61}),{26:[1,62],27:63,33:64,34:f,35:y},e(m,[2,224],{29:67,313:68,314:[1,69],315:[1,70]}),e(t,[2,209]),e(t,[2,206]),e(t,[2,207]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,215]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,278],106:77,191:[1,78]},e(g,[2,280],{108:79,319:[1,80]}),e(_,[2,286],{111:81,319:[1,82]}),e(b,[2,291],{114:83,319:[1,84]}),{118:85,119:[2,293],319:[1,86]},{46:v,121:87},{46:v,121:89},{46:v,121:90},{125:91,133:w},{129:93,132:O},e(S,[2,284]),e(S,[2,285]),e(T,[2,288]),e(T,[2,289]),e(T,[2,290]),{132:[2,302],133:[2,296]},{13:l,16:p,60:95,310:d},{20:96,45:E,46:x,57:97,58:A,61:98},{20:101,45:E,46:x,57:102,58:A,61:98},e(u,[2,230],{43:103}),{45:[1,104],57:105,58:A},e(I,[2,358],{179:106,180:107,181:108,48:[2,356]}),e(j,[2,242],{52:109}),e(j,[2,240],{60:57,316:110,13:l,16:p,34:h,310:d}),e(j,[2,241]),e(N,[2,238]),e(N,[2,236]),e(N,[2,237]),e(R,[2,199]),e(R,[2,200]),e(R,[2,201]),{20:111,45:E,46:x,57:112,58:A,61:98},e(u,[2,8]),e(u,[2,9],{33:113,34:f,35:y}),e(P,[2,220]),e(P,[2,13]),e(D,M,{36:114,39:115,245:116,249:118,253:119,257:120,265:121,269:122,217:k,229:L,271:F,332:q}),e(m,[2,10]),e(m,[2,225]),e(m,[2,222]),e(m,[2,223]),e(t,[2,4]),{13:[1,126]},e(C,[2,40]),{46:[1,127]},{46:[1,128]},{34:[1,130],95:129},{6:[2,49]},e(t,n,{7:3,4:131}),{13:l,16:p,60:132,310:d},e(g,[2,281]),{112:133,119:[1,134],141:[1,136],143:135,318:[1,137],325:[1,138]},e(_,[2,287]),e(g,B,{115:139,142:141,119:U,141:Q}),e(b,[2,292]),{119:[1,143]},{119:[2,294]},e(V,[2,54]),e(I,z,{144:144,151:145,152:146,48:G,119:G}),e(V,[2,55]),e(V,[2,56]),e(X,[2,297],{126:147,129:148,132:O}),{46:v,121:149},e(X,[2,303],{130:150,125:151,133:w}),{46:v,121:152},e([132,133],[2,62]),e(H,$,{21:153,64:154,74:155,75:Y}),e(u,[2,217]),{46:J,62:157},e(g,[2,248],{59:159,318:[1,160]}),{46:[2,251]},e(K,Z,{24:161,63:162,67:163,68:W}),e(u,[2,219]),{20:165,45:E,46:x,57:166,58:A,61:98},{46:[1,167]},e(c,[2,233]),{48:[1,168]},{48:[2,357]},{13:l,16:p,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:169,183:170,185:171,224:ie,229:L,241:172,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(ve,[2,244],{61:98,53:200,57:201,20:202,45:E,46:x,58:A}),e(N,[2,239]),e(K,Z,{63:162,67:163,24:203,68:W}),e(u,[2,247]),e(P,[2,221]),{37:[1,204]},{37:[1,205]},e(we,[2,427],{246:206}),{13:l,16:p,34:ee,39:209,60:178,87:re,93:ne,98:179,119:[1,207],229:L,234:208,241:210,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(Oe,[2,429],{250:211}),e(Oe,[2,147],{254:212,255:213,256:[2,437],293:[1,214],333:[1,215],334:[1,216],335:[1,217],336:[1,218],337:[1,219],338:[1,220]}),e(Se,[2,439],{258:221}),e(Te,[2,447],{266:222}),{13:l,16:p,34:Ee,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:223,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},{13:l,16:p,34:Ee,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:249,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},{13:l,16:p,34:Ee,35:xe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:250,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},e(D,[2,452]),e(t,[2,5]),e(Ve,[2,266],{92:251}),e(ze,[2,268],{94:252}),{34:[1,254],38:[1,253]},e(Ge,[2,270]),e(i,[2,277],{6:[2,279]}),e(V,[2,282],{109:255,139:256,140:[1,257]}),e(V,[2,51]),{13:l,16:p,60:258,310:d},e(V,[2,67]),e(V,[2,311]),e(V,[2,312]),e(V,[2,313]),{116:[1,259]},e(Xe,[2,64]),{13:l,16:p,60:260,310:d},e(g,[2,310]),{13:l,16:p,60:261,310:d},e(He,[2,316],{145:262}),e(He,[2,315]),{13:l,16:p,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:263,183:170,185:171,224:ie,229:L,241:172,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(X,[2,299],{127:264}),e(X,[2,298]),e([45,132,135],[2,60]),e(X,[2,305],{131:265}),e(X,[2,304]),e([45,133,135],[2,59]),e(o,[2,6]),e($e,[2,256],{65:266,77:267,78:[1,268]}),e(H,[2,255]),{13:l,16:p,35:xe,60:274,72:272,73:273,76:269,82:271,84:270,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},e([6,48,68,75,78,86,88,90],[2,21]),e(I,Ye,{25:19,30:275,155:276,18:277,22:278,156:279,162:280,163:281,28:s,46:Je,48:Je,90:Je,119:Je,167:Je,168:Je,170:Je,173:Je,174:Je}),{13:l,16:p,60:282,310:d},e(g,[2,249]),e(o,[2,7]),e(H,$,{64:154,74:155,21:283,75:Y}),e(K,[2,253]),{69:[1,284]},e(K,Z,{63:162,67:163,24:285,68:W}),e(u,[2,231]),e(I,z,{152:146,47:286,151:287,48:[2,234]}),e(u,[2,92]),{48:[2,360],182:288,326:[1,289]},{13:l,16:p,34:Ke,60:294,184:290,188:291,193:292,195:Ze,310:d},e(We,[2,364],{188:291,193:292,60:294,186:296,187:297,184:298,13:l,16:p,34:Ke,195:Ze,310:d}),e(et,[2,362]),e(et,[2,363]),{13:l,16:p,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:300,223:299,224:ie,227:301,229:L,241:303,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},{13:l,16:p,34:Ke,60:294,184:305,188:291,193:292,195:Ze,310:d},e(tt,[2,136]),e(tt,[2,137]),e(tt,[2,138]),e(tt,[2,139]),e(tt,[2,140]),e(tt,[2,141]),e(tt,[2,142]),e(rt,[2,180],{295:[1,306],296:[1,307]}),e(rt,[2,183]),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(nt,[2,189]),e(nt,[2,190]),e(nt,[2,191]),e(nt,[2,192]),e(rt,[2,193]),e(rt,[2,194]),e(rt,[2,195]),e(rt,[2,196]),e(rt,[2,197]),e(rt,[2,198]),e(K,Z,{63:162,67:163,24:308,68:W}),e(j,[2,243]),e(ve,[2,245]),e(o,[2,19]),{34:[1,309]},{34:[1,310]},e([37,38,191,276],[2,143],{247:311,248:[1,312]}),{13:l,16:p,34:[1,314],60:315,230:313,310:d},{13:l,16:p,34:Ke,60:294,193:316,195:Ze,310:d},e(et,[2,413]),e(et,[2,414]),e(we,[2,145],{251:317,252:[1,318]}),e(D,M,{257:120,265:121,269:122,253:319,217:k,271:F,332:q}),{256:[1,320]},e(it,[2,431]),e(it,[2,432]),e(it,[2,433]),e(it,[2,434]),e(it,[2,435]),e(it,[2,436]),{256:[2,438]},e([37,38,191,248,252,256,276,293,333,334,335,336,337,338],[2,150],{259:321,260:322,261:323,263:324,271:[1,326],304:fe,305:ye,306:me,307:ge,308:_e,309:be,332:[1,325]}),e(Se,[2,154],{267:327,268:328,26:st,329:at}),e(Te,[2,156]),e(Te,[2,159]),e(Te,[2,160]),e(Te,[2,161],{35:ot,93:ut}),e(Te,[2,162]),e(Te,[2,163]),e(Te,[2,164]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:333,217:k,271:F,332:q}),e(ct,[2,166]),{93:[1,334]},{35:[1,335]},{35:[1,336]},{35:[1,337]},{35:lt,93:pt,177:338},{35:[1,341]},{35:[1,343],93:[1,342]},{282:[1,344]},{35:[1,345]},{35:[1,346]},{35:[1,347]},e(ht,[2,453]),e(ht,[2,454]),e(ht,[2,455]),e(ht,[2,456]),e(ht,[2,457]),{282:[2,459]},e(Te,[2,157]),e(Te,[2,158]),{13:l,16:p,48:[1,348],60:350,87:re,97:349,98:351,99:352,100:dt,229:ft,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},{48:[1,355],93:[1,356]},{46:[1,357]},e(Ge,[2,271]),e(V,[2,50]),e(V,[2,283]),{119:[1,358]},e(V,[2,66]),e(g,B,{142:141,115:359,119:U,141:Q}),e(Xe,[2,65]),e(V,[2,53]),{48:[1,360],119:[1,362],146:361},e(He,[2,328],{154:363,326:[1,364]}),{45:[1,365],134:366,135:yt},{45:[1,368],134:369,135:yt},e(mt,[2,258],{66:370,85:371,86:[1,372],88:[1,373]}),e($e,[2,257]),{69:[1,374]},e(H,[2,30],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:375,13:l,16:p,35:xe,273:Ae,274:Ie,275:je,277:Ne,279:Re,280:Pe,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe}),e(gt,[2,262]),e(_t,[2,85]),e(_t,[2,86]),e(_t,[2,87]),{35:ot,93:ut},{48:[1,376]},{48:[1,377]},{20:378,45:E,46:x,61:98},{20:379,45:E,46:x,61:98},e(bt,[2,332],{157:380}),e(bt,[2,331]),{13:l,16:p,34:ee,35:vt,39:385,60:178,87:re,93:ne,98:179,164:381,198:382,200:383,224:wt,229:L,241:384,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(j,[2,20]),e(mt,[2,22]),{13:l,16:p,34:Ot,35:St,60:274,70:388,71:389,72:390,73:391,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},e(o,[2,16]),{48:[1,394]},{48:[2,235]},{48:[2,93]},e(I,[2,359],{48:[2,361]}),e(We,[2,94]),e(Tt,[2,366],{189:395}),e(I,Et,{194:396,196:397}),e(I,[2,100]),e(I,[2,101]),e(I,[2,102]),e(We,[2,95]),e(We,[2,96]),e(We,[2,365]),{13:l,16:p,34:ee,35:te,38:[1,398],39:304,60:178,87:re,93:ne,98:179,185:302,197:399,224:ie,227:301,229:L,241:303,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(xt,[2,399]),e(At,[2,128]),e(At,[2,129]),e(At,[2,403]),e(At,[2,404]),{225:[1,400]},e(rt,[2,181]),{13:l,16:p,60:401,310:d},e(o,[2,18]),{38:[1,402]},{38:[1,403]},e(we,[2,428]),e(D,M,{249:118,253:119,257:120,265:121,269:122,245:404,217:k,271:F,332:q}),{46:[1,405]},{46:[2,407]},{46:[2,408]},{13:l,16:p,34:ee,39:407,60:178,87:re,93:ne,98:179,229:L,235:406,241:408,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(Oe,[2,430]),e(D,M,{253:119,257:120,265:121,269:122,249:409,217:k,271:F,332:q}),e(Oe,[2,148]),{35:lt,93:pt,177:410},e(Se,[2,440]),e(D,M,{265:121,269:122,257:411,217:k,271:F,332:q}),e(Te,[2,443],{262:412}),e(Te,[2,445],{264:413}),e(it,[2,441]),e(it,[2,442]),e(Te,[2,448]),e(D,M,{269:122,265:414,217:k,271:F,332:q}),e(it,[2,449]),e(it,[2,450]),e(ct,[2,88]),e(it,[2,350],{175:415,314:[1,416]}),{38:[1,417]},e(ct,[2,167]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:418,217:k,271:F,332:q}),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:419,217:k,271:F,332:q}),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:420,217:k,271:F,332:q}),e(ct,[2,171]),e(ct,[2,90]),e(it,[2,354],{178:421}),{34:[1,422]},e(ct,[2,173]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:423,217:k,271:F,332:q}),{46:J,62:424},e(It,[2,460],{284:425,314:[1,426]}),e(it,[2,464],{287:427,314:[1,428]}),e(it,[2,466],{289:429,314:[1,430]}),e(C,[2,41]),e(Ve,[2,267]),e(jt,[2,44]),e(jt,[2,45]),e(jt,[2,46]),e(jt,[2,47]),{13:l,16:p,60:178,87:re,93:ne,98:179,99:433,119:[1,431],229:ft,239:432,242:434,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(C,[2,42]),e(ze,[2,269]),e(Nt,[2,272],{96:435}),{13:l,16:p,60:436,310:d},e(V,[2,52]),e([6,45,132,133,135,191],[2,68]),e(He,[2,317]),{13:l,16:p,34:[1,438],60:439,147:437,310:d},e(He,[2,70]),e(I,[2,327],{48:Rt,119:Rt}),{46:J,62:440},e(X,[2,300]),e(g,[2,307],{136:441,318:[1,442]}),{46:J,62:443},e(X,[2,306]),e(mt,[2,23]),e(mt,[2,259]),{87:[1,444]},{87:[1,445]},{13:l,16:p,34:Pt,35:xe,60:274,72:272,73:273,79:446,80:447,81:Dt,82:271,83:Mt,84:450,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},e(gt,[2,263]),e(kt,[2,71]),e(kt,[2,72]),e(H,$,{64:154,74:155,21:452,75:Y}),e(K,Z,{63:162,67:163,24:453,68:W}),{46:[2,342],48:[2,73],89:463,90:a,119:[1,459],158:454,159:455,166:456,167:[1,457],168:[1,458],170:[1,460],173:[1,461],174:[1,462]},e(bt,[2,340],{165:464,326:[1,465]}),e(Lt,Ft,{199:466,202:467,208:468,209:470,34:qt}),e(Ct,[2,374],{202:467,208:468,209:470,201:471,199:472,13:Ft,16:Ft,35:Ft,195:Ft,217:Ft,222:Ft,310:Ft,34:qt}),e(Bt,[2,372]),e(Bt,[2,373]),{13:l,16:p,34:ee,35:vt,39:478,60:178,87:re,93:ne,98:179,200:476,204:474,224:wt,226:473,228:475,229:L,241:477,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(Lt,Ft,{202:467,208:468,209:470,199:479,34:qt}),e(K,[2,24],{272:231,278:236,281:239,60:274,72:390,73:391,71:480,13:l,16:p,34:Ot,35:St,273:Ae,274:Ie,275:je,277:Ne,279:Re,280:Pe,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe}),e(Ut,[2,260]),e(Ut,[2,25]),e(Ut,[2,26]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:481,217:k,271:F,332:q}),e(Ut,[2,29]),e(K,Z,{63:162,67:163,24:482,68:W}),e([48,119,225,326],[2,97],{190:483,191:[1,484]}),e(Tt,[2,99]),{13:l,16:p,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:485,224:ie,227:301,229:L,241:303,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(Qt,[2,124]),e(xt,[2,400]),e(Qt,[2,125]),e(rt,[2,182]),e(P,[2,14]),e(P,[2,15]),e(we,[2,144]),{13:l,16:p,34:ee,39:487,60:178,87:re,93:ne,98:179,229:L,231:486,241:488,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},{233:[1,489]},{233:[2,415]},{233:[2,416]},e(Oe,[2,146]),e(Oe,[2,149]),e(Se,[2,151]),e(Se,[2,152],{268:328,267:490,26:st,329:at}),e(Se,[2,153],{268:328,267:491,26:st,329:at}),e(Te,[2,155]),e(it,[2,352],{176:492}),e(it,[2,351]),e([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],[2,165]),{38:[1,493]},{276:[1,494]},{276:[1,495]},e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:496,217:k,271:F,332:q}),{38:[1,497]},{38:[1,498]},e(ct,[2,175]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,285:499,36:501,26:[1,500],217:k,271:F,332:q}),e(It,[2,461]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:502,217:k,271:F,332:q}),e(it,[2,465]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:503,217:k,271:F,332:q}),e(it,[2,467]),{13:l,16:p,34:[1,505],60:506,236:504,310:d},{13:l,16:p,34:Ke,60:294,193:507,195:Ze,310:d},e(et,[2,423]),e(et,[2,424]),{35:[1,510],48:[1,508],101:509},e(V,[2,63]),{46:[1,511]},{46:[2,318]},{46:[2,319]},e(V,[2,57]),{13:l,16:p,60:512,310:d},e(g,[2,308]),e(V,[2,58]),e(mt,[2,36],{88:[1,513]}),e(mt,[2,37],{86:[1,514]}),e($e,[2,31],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:450,80:515,13:l,16:p,34:Pt,35:xe,81:Dt,83:Mt,273:Ae,274:Ie,275:je,277:Ne,279:Re,280:Pe,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe}),e(Vt,[2,264]),{35:xe,82:516},{35:xe,82:517},e(Vt,[2,34]),e(Vt,[2,35]),{31:518,48:[2,226],89:519,90:a},{32:520,48:[2,228],89:521,90:a},e(bt,[2,333]),e(zt,[2,334],{160:522,326:[1,523]}),{46:J,62:524},{46:J,62:525},{46:J,62:526},{13:l,16:p,34:[1,528],60:529,169:527,310:d},e(Gt,[2,346],{171:530,319:[1,531]}),{13:l,16:p,35:xe,60:274,72:272,73:273,82:271,84:532,272:231,273:Ae,274:Ie,275:je,277:Ne,278:236,279:Re,280:Pe,281:239,282:De,283:Me,286:ke,288:Le,310:d,338:Fe,339:qe,340:Ce,341:Be,342:Ue,343:Qe},{35:[1,533]},e(Xt,[2,84]),e(bt,[2,75]),e(I,[2,339],{46:Ht,48:Ht,90:Ht,119:Ht,167:Ht,168:Ht,170:Ht,173:Ht,174:Ht}),e(Ct,[2,104]),e(I,[2,378],{203:534}),e(I,[2,376]),e(I,[2,377]),e(Lt,[2,386],{210:535,211:536}),e(Ct,[2,105]),e(Ct,[2,375]),{13:l,16:p,34:ee,35:vt,38:[1,537],39:478,60:178,87:re,93:ne,98:179,200:476,204:538,224:wt,228:475,229:L,241:477,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(xt,[2,401]),e(At,[2,130]),e(At,[2,131]),e(At,[2,405]),e(At,[2,406]),{225:[1,539]},e(Ut,[2,261]),{37:[1,541],38:[1,540]},e(o,[2,17]),e(Tt,[2,367]),e(Tt,[2,368],{193:292,60:294,192:542,188:543,13:l,16:p,34:Ke,195:Ze,310:d}),e($t,[2,103],{276:[1,544]}),{13:l,16:p,34:Ke,60:294,193:545,195:Ze,310:d},e(et,[2,409]),e(et,[2,410]),e(Yt,[2,133]),e(Te,[2,444]),e(Te,[2,446]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:546,217:k,271:F,332:q}),e(ct,[2,168]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:547,217:k,271:F,332:q}),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:548,217:k,271:F,332:q}),{38:[1,549],276:[1,550]},e(ct,[2,172]),e(ct,[2,174]),{38:[1,551]},{38:[2,462]},{38:[2,463]},{38:[1,552]},{38:[2,468],191:[1,555],290:553,291:554},{46:[1,556]},{46:[2,417]},{46:[2,418]},{13:l,16:p,60:178,87:re,93:ne,98:179,99:558,229:ft,240:557,242:559,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(C,[2,43]),e(Nt,[2,273]),{13:l,16:p,60:350,87:re,97:561,98:351,99:352,100:dt,102:560,229:ft,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(I,z,{152:146,148:562,151:563,48:[2,320]}),e(X,[2,61]),{87:[1,564]},{87:[1,565]},e(Vt,[2,265]),e(Vt,[2,32]),e(Vt,[2,33]),{48:[2,11]},{48:[2,227]},{48:[2,12]},{48:[2,229]},e(I,Ye,{163:281,161:566,162:567,46:Jt,48:Jt,90:Jt,119:Jt,167:Jt,168:Jt,170:Jt,173:Jt,174:Jt}),e(zt,[2,335]),e(Xt,[2,76],{327:[1,568]}),e(Xt,[2,77]),e(Xt,[2,78]),{46:J,62:569},{46:[2,344]},{46:[2,345]},{13:l,16:p,34:[1,571],60:572,172:570,310:d},e(Gt,[2,347]),e(Xt,[2,81]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:573,39:574,217:k,229:L,271:F,332:q}),{13:l,16:p,34:ee,35:vt,39:478,60:178,87:re,93:ne,98:179,200:476,204:575,224:wt,228:475,229:L,241:477,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(xt,[2,109],{328:[1,576]}),e(Kt,[2,393],{212:577,216:578,222:[1,579]}),e(Zt,[2,126]),e(xt,[2,402]),e(Zt,[2,127]),e(Ut,[2,27]),{34:[1,580]},e(Tt,[2,98]),e(Tt,[2,369]),e(I,[2,371]),{13:l,16:p,34:ee,39:582,60:178,87:re,93:ne,98:179,229:L,232:581,241:583,242:177,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},{38:[1,584],276:[1,585]},{38:[1,586]},{276:[1,587]},e(ct,[2,91]),e(it,[2,355]),e(ct,[2,176]),e(ct,[2,177]),{38:[1,588]},{38:[2,469]},{292:[1,589]},{13:l,16:p,60:178,87:re,93:ne,98:179,99:591,229:ft,237:590,242:592,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},{233:[1,593]},{233:[2,425]},{233:[2,426]},{13:l,16:p,38:[1,594],60:350,87:re,97:595,98:351,99:352,100:dt,229:ft,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(Wt,[2,274]),{48:[1,596]},{48:[2,321]},e(mt,[2,38]),e(mt,[2,39]),e(bt,[2,74]),e(bt,[2,337]),{46:[2,343]},e(Xt,[2,79]),{46:J,62:597},{46:[2,348]},{46:[2,349]},{37:[1,598]},{37:[1,599]},e($t,[2,380],{205:600,276:[1,601]}),e(Lt,[2,385]),e([13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328],[2,110],{329:[1,602]}),{13:l,16:p,35:[1,608],60:605,195:[1,606],213:603,214:604,217:[1,607],310:d},e(Kt,[2,394]),{38:[1,609]},{48:[1,610]},{48:[2,411]},{48:[2,412]},e(ct,[2,89]),e(it,[2,353]),e(ct,[2,169]),e(D,M,{245:116,249:118,253:119,257:120,265:121,269:122,36:611,217:k,271:F,332:q}),e(ct,[2,178]),{293:[1,612]},{13:l,16:p,34:Ke,60:294,193:613,195:Ze,310:d},e(et,[2,419]),e(et,[2,420]),e(er,[2,135]),e(Nt,[2,48]),e(Wt,[2,275]),e(tr,[2,322],{149:614,326:[1,615]}),e(Xt,[2,80]),{34:[1,616]},{34:[1,617]},e([46,48,90,119,167,168,170,173,174,225,326],[2,106],{206:618,191:[1,619]}),e(I,[2,379]),e(Lt,[2,387]),e(rr,[2,112]),e(rr,[2,391],{215:620,330:621,26:[1,623],331:[1,622],332:[1,624]}),e(nr,[2,113]),e(nr,[2,114]),{13:l,16:p,35:[1,628],60:629,93:[1,627],195:ir,218:625,219:626,222:sr,310:d},e(Lt,Ft,{209:470,208:632}),e(Ut,[2,28]),{233:[1,633]},{38:[1,634]},{294:635,300:le,301:pe,302:he,303:de},{13:l,16:p,60:178,87:re,93:ne,98:179,99:637,229:ft,238:636,242:638,243:se,244:ae,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:pe,302:he,303:de,304:fe,305:ye,306:me,307:ge,308:_e,309:be,310:d},e(I,z,{152:146,150:639,151:640,48:ar,119:ar}),e(tr,[2,323]),{38:[1,641]},{38:[1,642]},e($t,[2,381]),e($t,[2,107],{209:470,207:643,208:644,13:Ft,16:Ft,35:Ft,195:Ft,217:Ft,222:Ft,310:Ft,34:[1,645]}),e(rr,[2,111]),e(rr,[2,392]),e(rr,[2,388]),e(rr,[2,389]),e(rr,[2,390]),e(nr,[2,115]),e(nr,[2,117]),e(nr,[2,118]),e(or,[2,395],{220:646}),e(nr,[2,120]),e(nr,[2,121]),{13:l,16:p,60:647,195:[1,648],310:d},{38:[1,649]},e(Yt,[2,132]),e(ct,[2,170]),{38:[2,179]},{48:[1,650]},{48:[2,421]},{48:[2,422]},e(He,[2,69]),e(He,[2,325]),e(Xt,[2,82]),e(Xt,[2,83]),e(I,Et,{196:397,194:651}),e(I,[2,382]),e(I,[2,383]),{13:l,16:p,38:[2,397],60:629,195:ir,219:653,221:652,222:sr,310:d},e(nr,[2,122]),e(nr,[2,123]),e(nr,[2,116]),{233:[1,654]},e($t,[2,108]),{38:[1,655]},{38:[2,398],328:[1,656]},e(er,[2,134]),e(nr,[2,119]),e(or,[2,396])],defaultActions:{5:[2,204],6:[2,205],8:[2,203],26:[2,1],27:[2,3],28:[2,215],77:[2,49],86:[2,294],100:[2,251],107:[2,357],220:[2,438],248:[2,459],287:[2,235],288:[2,93],314:[2,407],315:[2,408],407:[2,415],408:[2,416],438:[2,318],439:[2,319],500:[2,462],501:[2,463],505:[2,417],506:[2,418],518:[2,11],519:[2,227],520:[2,12],521:[2,229],528:[2,344],529:[2,345],554:[2,469],558:[2,425],559:[2,426],563:[2,321],568:[2,343],571:[2,348],572:[2,349],582:[2,411],583:[2,412],635:[2,179],637:[2,421],638:[2,422]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],s=this.table,a="",o=0,u=0,c=0,l=2,p=1,h=i.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(f.yy[y]=this.yy[y]);d.setInput(e,f.yy),f.yy.lexer=d,f.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var m=d.yylloc;i.push(m);var g=d.options&&d.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,b,v,w,O,S,T,E,x,A=function(){var e;return"number"!=typeof(e=d.lex()||p)&&(e=t.symbols_[e]||e),e},I={};;){if(v=r[r.length-1],this.defaultActions[v]?w=this.defaultActions[v]:(null==_&&(_=A()),w=s[v]&&s[v][_]),void 0===w||!w.length||!w[0]){var j="";for(S in x=[],s[v])this.terminals_[S]&&S>l&&x.push("'"+this.terminals_[S]+"'");j=d.showPosition?"Parse error on line "+(o+1)+":\n"+d.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(o+1)+": Unexpected "+(_==p?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(j,{text:d.match,token:this.terminals_[_]||_,line:d.yylineno,loc:m,expected:x})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+_);switch(w[0]){case 1:r.push(_),n.push(d.yytext),i.push(d.yylloc),r.push(w[1]),_=null,b?(_=b,b=null):(u=d.yyleng,a=d.yytext,o=d.yylineno,m=d.yylloc,c>0&&c--);break;case 2:if(T=this.productions_[w[1]][1],I.$=n[n.length-T],I._$={first_line:i[i.length-(T||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(T||1)].first_column,last_column:i[i.length-1].last_column},g&&(I._$.range=[i[i.length-(T||1)].range[0],i[i.length-1].range[1]]),void 0!==(O=this.performAction.apply(I,[a,u,o,f.yy,w[1],n,i].concat(h))))return O;T&&(r=r.slice(0,-1*T*2),n=n.slice(0,-1*T),i=i.slice(0,-1*T)),r.push(this.productions_[w[1]][0]),n.push(I.$),i.push(I._$),E=s[r[r.length-2]][r[r.length-1]],r.push(E);break;case 3:return!0}}return!0}},cr=r(1348).R,lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",pr=lr+"type",hr=lr+"first",dr=lr+"rest",fr=lr+"nil",yr="http://www.w3.org/2001/XMLSchema#",mr=yr+"integer",gr=yr+"decimal",_r=yr+"double",br=yr+"boolean",vr="",wr="",Or="";function Sr(e){return e.toLowerCase()}function Tr(e,t){return e.push(t),e}function Er(e,t){return e.push.apply(e,t),e}function xr(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function Ar(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function Ir(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/.test(e))return e;if(!en.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(vr||(vr=en.base,wr=vr.replace(/[^\/:]*$/,""),Or=vr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return vr;case"#":return vr+e;case"?":return vr.replace(/(?:\?.*)?$/,e);case"/":return Or+e;default:return wr+e}}function jr(e){if(e){var t=e[0];if("?"===t||"$"===t)return en.factory.variable(e.substr(1))}return e}function Nr(e,t){return{type:"operation",operator:e,args:t||[]}}function Rr(e,t){var r={expression:"*"===e?new cr:e};if(t)for(var n in t)r[n]=t[n];return r}function Pr(e,t){return{type:"path",pathType:e,items:t}}function Dr(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=Nr(r[0],[e,r[1]]);return e}function Mr(e,t){var r,n=[],i=[],s=e.length,a={};if(!s)return null;for(var o=0;o<s&&(r=e[o]);o++)(r.named?i:n).push(r.iri);return a[t||"from"]={default:n,named:i},a}function kr(e){return parseInt(e,10)}function Lr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Fr(e,t){return t&&"NamedNode"!==t.termType&&(t=en.factory.namedNode(t)),en.factory.literal(e,t)}function qr(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Cr(e){return"string"==typeof e?e.startsWith("e_")?en.factory.blankNode(e):en.factory.blankNode("e_"+e):en.factory.blankNode("g_"+Br++)}var Br=0;en._resetBlanks=function(){Br=0};var Ur=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Qr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Vr=String.fromCharCode;function zr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Ur,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return Vr(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?Vr(i):Vr(55296+((i-=65536)>>10),56320+(1023&i))}var s=Qr[n];if(!s)throw new Error;return s}))}catch(e){return""}return e}function Gr(e,t,r){var n=[],i=[];return t.forEach((function(t){n.push(qr(null,e,t.entity)),Er(i,t.triples)})),Ar(n,r||[],i)}function Xr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Hr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Hr(r));return t}return[]}function $r(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function Yr(e,t=1,r=[]){for(const n of e)t>0&&n instanceof Array?Yr(n,t-1,r):r.push(n);return r}function Jr(e){return"Variable"===e.termType}function Kr(e){if(e.triples){const t=[];for(const r of e.triples)Jr(r.subject)&&t.push(r.subject.value),Jr(r.predicate)&&t.push(r.predicate.value),Jr(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...Kr(r));return t}return[]}function Zr(e){if(!en.sparqlStar)throw new Error("SPARQL* support is not enabled");return e}var Wr={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((r=this._input.match(this.rules[i[s]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=s,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[s])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 314;case 5:return 315;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 318;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 319;case 30:return 140;case 31:return 320;case 32:return 321;case 33:return 117;case 34:return 322;case 35:return 116;case 36:return 323;case 37:return 324;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 325;case 48:return 326;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 327;case 55:return 173;case 56:return 229;case 57:return 233;case 58:return 276;case 59:return 195;case 60:return 328;case 61:return 329;case 62:return 222;case 63:return 331;case 64:return 332;case 65:return 217;case 66:return 224;case 67:return 225;case 68:return 248;case 69:return 252;case 70:return 293;case 71:return 333;case 72:return 334;case 73:return 335;case 74:return 336;case 75:return 337;case 76:return 256;case 77:return 338;case 78:return 271;case 79:return 279;case 80:return 280;case 81:return 273;case 82:return 274;case 83:return 275;case 84:return 339;case 85:return 340;case 86:return 277;case 87:return 342;case 88:return 341;case 89:return 343;case 90:return 282;case 91:return 283;case 92:return 286;case 93:return 288;case 94:return 292;case 95:return 296;case 96:return 299;case 97:return 13;case 98:return 16;case 99:return 310;case 100:return 243;case 101:return 34;case 102:return 295;case 103:return 87;case 104:return 297;case 105:return 298;case 106:return 304;case 107:return 305;case 108:return 306;case 109:return 307;case 110:return 308;case 111:return 309;case 112:return"EXPONENT";case 113:return 300;case 114:return 301;case 115:return 302;case 116:return 303;case 117:return 93;case 118:return 244;case 119:return 6;case 120:return"INVALID";case 121:console.log(t.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};function en(){this.yy={}}return ur.lexer=Wr,en.prototype=ur,ur.Parser=en,new en}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var n=r(5747).readFileSync(r(5622).normalize(e[1]),"utf8");return t.parser.parse(n)},r.c[r.s]===e&&t.main(process.argv.slice(1))},1348:(e,t,r)=>{const{Term:n}=r(1657);class i extends n{constructor(){return super(""),s||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(i.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(i.prototype,"termType",{enumerable:!0,value:"Wildcard"});var s=new i;e.exports.R=i},9619:(e,t,r)=>{var n=r(7107).Parser,i=r(4404),s=r(1348).R,a=r(1657);e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:i}={}){var s={};for(var o in e||{})s[o]=e[o];var u=new n;return u.parse=function(){return n.base=t||"",n.prefixes=Object.create(s),n.factory=r||a.DataFactory,n.sparqlStar=Boolean(i),n.prototype.parse.apply(u,arguments)},u._resetBlanks=n._resetBlanks,u},Generator:i,Wildcard:s}},9249:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(287),t),i(r(1666),t)},1666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonBindingsTransformer=void 0;const n=r(2413);class i extends n.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){r(null,this.parser.parseJsonBindings(e))}}t.SparqlJsonBindingsTransformer=i},287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonParser=void 0;const n=r(1640),i=r(1666);t.SparqlJsonParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseJsonResults(e){return e.results.bindings.map((e=>this.parseJsonBindings(e)))}parseJsonResultsStream(e){e.on("error",(e=>n.emit("error",e)));const t=[];e.pipe(r(1327).parse("head.vars.*")).on("data",(e=>t.push(this.dataFactory.variable(e)))).on("end",(()=>n.emit("variables",t)));const n=e.pipe(r(1327).parse("results.bindings.*")).pipe(new i.SparqlJsonBindingsTransformer(this));return n}parseJsonBindings(e){const t={};for(const r in e){const n=e[r];let i=null;switch(n.type){case"bnode":i=this.dataFactory.blankNode(n.value);break;case"literal":i=n["xml:lang"]?this.dataFactory.literal(n.value,n["xml:lang"]):n.datatype?this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype)):this.dataFactory.literal(n.value);break;case"typed-literal":i=this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype));break;default:i=this.dataFactory.namedNode(n.value)}t[this.prefixVariableQuestionMark?"?"+r:r]=i}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise(((t,n)=>{e.on("error",n),e.pipe(r(1327).parse("boolean")).on("data",t).on("end",(()=>n(new Error("No valid ASK response was found."))))}))}}},6610:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1946),t)},1946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;const n=r(7945),i=r(9249);class s{constructor(e){(e=e||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new i.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,t,r,n,i,a){const o=t[0],u=n?n+a+o:o,c=i.singularizeVariables[u];if(1===t.length)c?e[o]||(e[o]=r):(e[o]||(e[o]=[]),e[o].push(r));else{let n;c?(e[o]||(e[o]={}),n=e[o]):(e[o]||(e[o]=[{}]),n=e[o][0]),s.addValueToTree(n,t.slice(1),r,u,i,a)}}static mergeTrees(e,t){if(typeof e!=typeof t)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof t}`);if(Array.isArray(e)!==Array.isArray(t))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(t)}`);if("object"==typeof e&&"object"==typeof t){if(e.termType&&t.termType)return e.equals(t)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){const r=[];let n=!1;for(const i of e){const e=s.mergeTrees(i,t[0]);e.valid?(n=!0,r.push(e.result)):r.push(i)}if(n)return{valid:!0,result:r}}return{valid:!0,result:e.concat(t)}}{const r={};for(const e in t)r[e]=t[e];for(const t in e)if(r[t]){const n=s.mergeTrees(e[t],r[t]);if(!n.valid)return{valid:!1,result:e};r[t]=n.result}else r[t]=e[t];return{valid:!0,result:r}}}throw new Error(`Unmergable tree types: ${typeof e} and ${typeof t}`)}static materializeTree(e){if(e.termType)return n.getTermRaw(e);if(Array.isArray(e))return e.map(s.materializeTree);{const t={};for(const r in e)t[r]=s.materializeTree(e[r]);return t}}sparqlJsonResultsToTree(e,t){return this.bindingsToTree(this.parser.parseJsonResults(e),t||{singularizeVariables:{}})}bindingsToTree(e,t){const r=t&&t.singularizeVariables[""];let n=r?{}:[];for(const i of e){const e=r?{}:[{}];for(const n in i){const a=n.split(this.delimiter),o=i[n];s.addValueToTree(r?e:e[0],a,o,"",t,this.delimiter)}n=s.mergeTrees(n,e).result}return this.materializeRdfJsTerms&&(n=s.materializeTree(n)),n}}t.Converter=s},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1614:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NIL:()=>N,parse:()=>m,stringify:()=>l,v1:()=>y,v3:()=>E,v4:()=>x,v5:()=>j,validate:()=>o,version:()=>R});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function s(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var p,h,d=0,f=0;const y=function(e,t,r){var n=t&&r||0,i=t||new Array(16),a=(e=e||{}).node||p,o=void 0!==e.clockseq?e.clockseq:h;if(null==a||null==o){var u=e.random||(e.rng||s)();null==a&&(a=p=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==o&&(o=h=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:f+1,m=c-d+(y-f)/1e4;if(m<0&&void 0===e.clockseq&&(o=o+1&16383),(m<0||c>d)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,f=y,h=o;var g=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=255&g;var _=c/4294967296*1e4&268435455;i[n++]=_>>>8&255,i[n++]=255&_,i[n++]=_>>>24&15|16,i[n++]=_>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var b=0;b<6;++b)i[n+b]=a[b];return t||l(i)},m=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function g(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=m(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(var o=0;o<16;++o)i[s+o]=a[o];return i}return l(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function _(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function v(e,t,r,n,i,s){return b((a=b(b(t,e),b(n,s)))<<(o=i)|a>>>32-o,r);var a,o}function w(e,t,r,n,i,s,a){return v(t&r|~t&n,e,t,i,s,a)}function O(e,t,r,n,i,s,a){return v(t&n|r&~n,e,t,i,s,a)}function S(e,t,r,n,i,s,a){return v(t^r^n,e,t,i,s,a)}function T(e,t,r,n,i,s,a){return v(r^(t|~n),e,t,i,s,a)}const E=g("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[_(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<e.length;a+=16){var o=r,u=n,c=i,l=s;r=w(r,n,i,s,e[a],7,-680876936),s=w(s,r,n,i,e[a+1],12,-389564586),i=w(i,s,r,n,e[a+2],17,606105819),n=w(n,i,s,r,e[a+3],22,-1044525330),r=w(r,n,i,s,e[a+4],7,-176418897),s=w(s,r,n,i,e[a+5],12,1200080426),i=w(i,s,r,n,e[a+6],17,-1473231341),n=w(n,i,s,r,e[a+7],22,-45705983),r=w(r,n,i,s,e[a+8],7,1770035416),s=w(s,r,n,i,e[a+9],12,-1958414417),i=w(i,s,r,n,e[a+10],17,-42063),n=w(n,i,s,r,e[a+11],22,-1990404162),r=w(r,n,i,s,e[a+12],7,1804603682),s=w(s,r,n,i,e[a+13],12,-40341101),i=w(i,s,r,n,e[a+14],17,-1502002290),r=O(r,n=w(n,i,s,r,e[a+15],22,1236535329),i,s,e[a+1],5,-165796510),s=O(s,r,n,i,e[a+6],9,-1069501632),i=O(i,s,r,n,e[a+11],14,643717713),n=O(n,i,s,r,e[a],20,-373897302),r=O(r,n,i,s,e[a+5],5,-701558691),s=O(s,r,n,i,e[a+10],9,38016083),i=O(i,s,r,n,e[a+15],14,-660478335),n=O(n,i,s,r,e[a+4],20,-405537848),r=O(r,n,i,s,e[a+9],5,568446438),s=O(s,r,n,i,e[a+14],9,-1019803690),i=O(i,s,r,n,e[a+3],14,-187363961),n=O(n,i,s,r,e[a+8],20,1163531501),r=O(r,n,i,s,e[a+13],5,-1444681467),s=O(s,r,n,i,e[a+2],9,-51403784),i=O(i,s,r,n,e[a+7],14,1735328473),r=S(r,n=O(n,i,s,r,e[a+12],20,-1926607734),i,s,e[a+5],4,-378558),s=S(s,r,n,i,e[a+8],11,-2022574463),i=S(i,s,r,n,e[a+11],16,1839030562),n=S(n,i,s,r,e[a+14],23,-35309556),r=S(r,n,i,s,e[a+1],4,-1530992060),s=S(s,r,n,i,e[a+4],11,1272893353),i=S(i,s,r,n,e[a+7],16,-155497632),n=S(n,i,s,r,e[a+10],23,-1094730640),r=S(r,n,i,s,e[a+13],4,681279174),s=S(s,r,n,i,e[a],11,-358537222),i=S(i,s,r,n,e[a+3],16,-722521979),n=S(n,i,s,r,e[a+6],23,76029189),r=S(r,n,i,s,e[a+9],4,-640364487),s=S(s,r,n,i,e[a+12],11,-421815835),i=S(i,s,r,n,e[a+15],16,530742520),r=T(r,n=S(n,i,s,r,e[a+2],23,-995338651),i,s,e[a],6,-198630844),s=T(s,r,n,i,e[a+7],10,1126891415),i=T(i,s,r,n,e[a+14],15,-1416354905),n=T(n,i,s,r,e[a+5],21,-57434055),r=T(r,n,i,s,e[a+12],6,1700485571),s=T(s,r,n,i,e[a+3],10,-1894986606),i=T(i,s,r,n,e[a+10],15,-1051523),n=T(n,i,s,r,e[a+1],21,-2054922799),r=T(r,n,i,s,e[a+8],6,1873313359),s=T(s,r,n,i,e[a+15],10,-30611744),i=T(i,s,r,n,e[a+6],15,-1560198380),n=T(n,i,s,r,e[a+13],21,1309151649),r=T(r,n,i,s,e[a+4],6,-145523070),s=T(s,r,n,i,e[a+11],10,-1120210379),i=T(i,s,r,n,e[a+2],15,718787259),n=T(n,i,s,r,e[a+9],21,-343485551),r=b(r,o),n=b(n,u),i=b(i,c),s=b(s,l)}return[r,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(_(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))})),x=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)};function A(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function I(e,t){return e<<t|e>>>32-t}const j=g("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];o[u]=c}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<a;++p){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=o[p][d];for(var f=16;f<80;++f)h[f]=I(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var y=r[0],m=r[1],g=r[2],_=r[3],b=r[4],v=0;v<80;++v){var w=Math.floor(v/20),O=I(y,5)+A(w,m,g,_)+b+t[w]+h[v]>>>0;b=_,_=g,g=I(m,30)>>>0,m=y,y=O}r[0]=r[0]+y>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+_>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),N="00000000-0000-0000-0000-000000000000",R=function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var a=[];for(n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);for(null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev),n=0;n<r.length;n++)s=i(this,s,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(9602)(n)}catch(e){}},2446:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_http_memento")},5469:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_http_native")},2174:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_query_operation_sparql_endpoint")},7162:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_dereference_http_parse")},7502:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_metadata_extract_hydra_controls")},9394:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_metadata_extract_hydra_count")},1597:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_metadata_extract_sparql_service")},694:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_html")},4046:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_html_rdfa")},3573:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_html_script")},5655:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_jsonld")},7019:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_n3")},1140:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_rdfxml")},917:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_parse_xml_rdfa")},5034:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_resolve_hypermedia_qpf")},7685:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_resolve_hypermedia_sparql")},5781:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_resolve_quad_pattern_federated")},749:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_resolve_quad_pattern_hypermedia")},1635:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_rdf_serialize_n3")},2362:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_parse_graphql")},8663:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_json")},2739:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_rdf")},1061:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_simple")},8747:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_sparql_json")},3933:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_sparql_tsv")},7684:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_sparql_xml")},332:e=>{"use strict";e.exports=require("_webpack_ignored__comunica_actor_sparql_serialize_table")},2207:e=>{"use strict";e.exports=require("_webpack_ignored_jsonld_streaming_serializer")},7217:e=>{"use strict";e.exports=require("_webpack_ignored_jsonparse")},742:e=>{"use strict";e.exports=require("_webpack_ignored_through")},6634:e=>{"use strict";e.exports=require("_webpack_ignored_web_streams_node")},4293:e=>{"use strict";e.exports=require("buffer")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.c=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(r.s=2830)})();